!function(a){"use strict";var t,o,e;function n(t,e){return null==t?null:p(e)?_(t.implementsInterface)&&t.implementsInterface(e)?t:null:t instanceof e?t:null}function p(t){return"string"==typeof t}function d(t){return"number"==typeof t}function r(t){return d(t)&&t==Math.round(t)}function i(t){return"boolean"==typeof t}function _(t){return"function"==typeof t}function f(t){return(t instanceof Date||"[object Date]"===Object.prototype.toString.call(t))&&!isNaN(t.getTime())}function s(t){return t instanceof Array||Array.isArray(t)||"[object Array]"===Object.prototype.toString.call(t)}function g(t){return null!=t&&"object"==typeof t&&!f(t)&&!s(t)}function l(t,e,i){if(null!=t){if(p(t))switch(e){case o.Number:var n=a.Globalize.parseFloat(t,i);return isNaN(n)?t:n;case o.Date:var r=a.Globalize.parseDate(t,i);return r||i||!t||(r=new Date(t)),r&&isFinite(r.getTime())?r:t;case o.Boolean:switch(t.toLowerCase()){case"true":return!0;case"false":return!1}return t}if(e==o.String)return a.Globalize.format(t,i)}return t}function h(t,e){if(!t)throw e="** Assertion failed in Wijmo: "+e,console.error(e),e}function m(t,e){return void 0===e&&(e=!0),h(e&&null==t||p(t),"String expected."),t}function c(t,e,i){if(void 0===e&&(e=!1),void 0===i&&(i=!1),h(e&&null==t||d(t),"Number expected."),i&&t&&t<0)throw"Positive number expected.";return t}function y(t,e){return void 0===e&&(e=!1),h(e&&null==t||i(t),"Boolean expected."),t}function v(t,e){return void 0===e&&(e=!0),h(e&&null==t||_(t),"Function expected."),t}a.getVersion=function(){return"5.20182.500"},a.setLicenseKey=function(t){a.Control._licKey=t},(t=a.Key||(a.Key={}))[t.Back=8]="Back",t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.Left=37]="Left",t[t.Up=38]="Up",t[t.Right=39]="Right",t[t.Down=40]="Down",t[t.Delete=46]="Delete",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12",(e=o=a.DataType||(a.DataType={}))[e.Object=0]="Object",e[e.String=1]="String",e[e.Number=2]="Number",e[e.Boolean=3]="Boolean",e[e.Date=4]="Date",e[e.Array=5]="Array",a.tryCast=n,a.isPrimitive=function(t){return p(t)||d(t)||i(t)||f(t)},a.isString=p,a.isNullOrWhiteSpace=function(t){return null==t||t.replace(/\s/g,"").length<1},a.isNumber=d,a.isInt=r,a.isBoolean=i,a.isFunction=_,a.isUndefined=function(t){return void 0===t},a.isDate=f,a.isArray=s,a.isObject=g,a.isEmpty=function(t){for(var e in t)return!1;return!0},a.getUniqueId=function(t){for(var e=t,i=0;null!=document.getElementById(e);i++)e=t+i;return e},a.mouseToPage=function(t){if(t instanceof A)return t;if(t.touches&&0<t.touches.length&&(t=t.touches[0]),d(t.clientX)&&d(t.clientY))return new A(t.clientX+pageXOffset,t.clientY+pageYOffset);throw"Mouse or touch event expected."},a.getType=function(t){return d(t)?o.Number:i(t)?o.Boolean:f(t)?o.Date:p(t)?o.String:s(t)?o.Array:o.Object},a.changeType=l,a.toFixed=function(t,e,i){if(i){var n=(r=t.toString()).indexOf(".");r.indexOf("e")<0&&-1<n&&(r=r.substr(0,n+1+e),t=parseFloat(r))}else{var r=t.toFixed(e);t=parseFloat(r)}return t},a.format=function(t,o,s){if((t=m(t)).match(/\{.*"count".*:.*"when".*:.*\}/))try{var e=JSON.parse(t);if(p(e.count)){var i=o[e.count],n=e.when;if(d(i)&&g(n)){var r=n[i]||n.other;p(r)&&(t=r)}}}catch(t){}return t.replace(/\{(.*?)(:(.*?))?\}/g,function(t,e,i,n){var r=t;return e&&"{"!=e[0]&&o&&(r=o[e],n&&(r=a.Globalize.format(r,n)),s&&(r=s(o,e,n,r))),null==r?"":r})},a.clamp=function(t,e,i){return null!=t&&(null!=i&&i<t&&(t=i),null!=e&&t<e&&(t=e)),t},a.copy=function t(e,i){if(i)for(var n in i)if("_"!=n[0]){h(n in e,'Unknown property "'+n+'".');var r=i[n];e._copy&&e._copy(n,r)||(e[n]instanceof a.Event?_(r)&&e[n].addHandler(r):!g(r)||"undefined"!=typeof Element&&r instanceof Element||!e[n]||"itemsSource"==n?e[n]=r:t(e[n],r))}},a.assert=h,a._deprecated=function(t,e){console.error('** WARNING: "'+t+'" has been deprecated; please use "'+e+'" instead.')},a.asString=m,a.asNumber=c,a.asInt=function(t,e,i){if(void 0===e&&(e=!1),void 0===i&&(i=!1),h(e&&null==t||r(t),"Integer expected."),i&&t&&t<0)throw"Positive integer expected.";return t},a.asBoolean=y,a.asDate=function(t,e){if(void 0===e&&(e=!1),p(t)){var i=l(t,o.Date,"r");f(i)&&(t=i)}return h(e&&null==t||f(t),"Date expected."),t},a.asFunction=v,a.asArray=function(t,e){return void 0===e&&(e=!0),h(e&&null==t||s(t),"Array expected."),t},a.asType=function(t,e,i){return void 0===i&&(i=!1),t=n(t,e),h(i||null!=t,e+" expected."),t},a.asEnum=function(t,e,i){if(void 0===i&&(i=!1),null==t&&i)return null;var n=e[t];return h(null!=n,"Invalid enum value."),d(n)?n:t},a.asCollectionView=function(t,e){if(void 0===e&&(e=!0),null==t&&e)return null;var i=n(t,"ICollectionView");return null!=i?i:(s(t)||h(!1,"Array or ICollectionView expected."),new a.collections.CollectionView(t))},a.hasItems=function(t){return null!=t&&null!=t.items&&0<t.items.length},a.toHeaderCase=function(t){return t&&t.length?t[0].toUpperCase()+t.substr(1).replace(/([a-z])([A-Z])/g,"$1 $2"):""},a.escapeHtml=function(t){return p(t)&&(t=t.replace(/[&<>"'\/]/g,function(t){return u[t]})),t};var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function b(t,e){if(t&&e){if(t instanceof HTMLElement&&t.classList&&!a.isIE9())return t.classList.contains(e);if(t.getAttribute){var i=new RegExp("(\\s|^)"+e+"(\\s|$)");return t&&i.test(t.getAttribute("class"))}}return!1}function w(t,e){if(t&&e){if(t instanceof HTMLElement&&t.classList&&!a.isIE9()){if(e.indexOf(" ")<0)t.classList.add(e);else for(var i=e.split(" "),n=0;n<i.length;n++)t.classList.add(i[n]);return}if(t.setAttribute)for(i=e.split(" "),n=0;n<i.length;n++){var r=i[n];if(!b(t,r)){var o=t.getAttribute("class");t.setAttribute("class",o?o+" "+r:r)}}}}function C(t,e){if(t&&e){if(t instanceof HTMLElement&&t.classList&&!a.isIE9()){if(e.indexOf(" ")<0)t.classList.remove(e);else for(var i=e.split(" "),n=0;n<i.length;n++)t.classList.remove(i[n]);return}if(t.setAttribute)for(i=e.split(" "),n=0;n<i.length;n++){var r=i[n];if(b(t,r)){var o=new RegExp("((\\s|^)"+r+"(\\s|$))","g"),s=t.getAttribute("class");(s=s.replace(o," ").replace(/ +/g," ").trim())?t.setAttribute("class",s):t.removeAttribute("class")}}}}function x(t,e,i){null==i&&(i=!b(t,e)),i?w(t,e):C(t,e)}function S(t,e,i,n){t&&(null!=i?n&&t.getAttribute(e)||t.setAttribute(e,i.toString()):t.removeAttribute(e))}function E(){var t=document.activeElement;if(t){var e=t.shadowRoot;e&&e.activeElement&&(t=e.activeElement)}return t}function P(t){return t instanceof Element?t:p(t)?document.querySelector(t):t&&t.jquery?t[0]:null}function T(t,e){for(var i=e;i&&t;){if(i===t)return!0;i=i.parentNode||i.host}return!1}function M(t,e){var i=t?t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector:null;if(i)for(;t;t=t.parentNode)if(t instanceof Element&&i.call(t,e))return t;return null}a.hasClass=b,a.addClass=w,a.removeClass=C,a.toggleClass=x,a.setAttribute=S,a.setAriaLabel=function(t,e){S(t,"aria-label",e)},a.setSelectionRange=function(t,e,i){if(void 0===i&&(i=e),h(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected"),T(document.body,t)&&!t.disabled&&"none"!=t.style.display)try{return t.setSelectionRange(c(e),c(i),a.isIE()?null:"backward"),t.focus(),!0}catch(t){}return!1},a.disableAutoComplete=function(e){"autocomplete,autocorrect,autocapitalize,spellcheck".split(",").forEach(function(t){e.setAttribute(t,"spellcheck"==t?"false":"off")})},a.removeChild=function(t){return t&&t.parentNode?t.parentNode.removeChild(t):null},a.getActiveElement=E,a.moveFocus=function(t,e){var i=function t(e){for(var i=[],n=e.querySelectorAll("input,select,textarea,button,a,div"),r=0;r<n.length;r++){var o=n[r];if(0<o.offsetHeight&&-1<o.tabIndex&&!o.disabled&&!M(o,"[disabled],.wj-state-disabled")){if(o instanceof HTMLAnchorElement&&!o.hasAttribute("href"))continue;if(a.isIE()&&!o.hasAttribute("tabindex")){if(o instanceof HTMLDivElement)continue;var s=a.Control.getControl(M(o,".wj-flexgrid"));if(s&&0==s.keyActionTab)continue}!a.Control.getControl(o)&&t(o).length||i.push(o)}}return i}(t),n=0;if(e){var r=i.indexOf(E());-1<r&&(n=(r+e+i.length)%i.length)}if(n<i.length){var o=i[n];o.focus(),o instanceof HTMLInputElement&&o.select()}},a.getElement=P,a.createElement=function(t,e){var i=document.createElement("div");return i.innerHTML=t,1==i.children.length&&(i=i.children[0]),e&&(e=P(e)).appendChild(i),i},a.setText=function(t,e){t.textContent=e||""},a.contains=T,a.closest=M,a.closestClass=function(t,e){return M(t,"."+e)},a.enable=function(t,e){var i=!e;x(t,"wj-state-disabled",i),S(t,"disabled",i?"true":null);for(var n=t.querySelectorAll("input"),r=0;r<n.length;r++){var o=n[r];e?o.removeAttribute("disabled"):o.setAttribute("disabled","true")}},a.getElementRect=function(t){var e=t.getBoundingClientRect();return new D(e.left+pageXOffset,e.top+pageYOffset,e.width,e.height)},a.setCss=function t(e,i){if(h(g(i),"css parameter should be an object"),e instanceof Array)for(var n=0;n<e.length;n++)t(e[n],i);else if(e&&e.style){var r=e.style;for(var o in i){var s=i[o];"number"==typeof s&&o.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(s+="px"),r[o]!==s&&(r[o]=s.toString())}}},a.animate=function(e,i,t){void 0===i&&(i=a.Control._ANIM_DEF_DURATION),void 0===t&&(t=a.Control._ANIM_DEF_STEP),e=v(e),i=c(i,!1,!0),t=c(t,!1,!0);var n,r=Date.now(),o=setInterval(function(){var t=Math.min(1,(Date.now()-r)/i);t=Math.sin(t*Math.PI/2),t*=t,n&&cancelAnimationFrame(n),n=requestAnimationFrame(function(){n=null,e(t)}),1<=t&&clearInterval(o)},t);return o};var A=function(){function e(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=c(t),this.y=c(e)}return e.prototype.equals=function(t){return t instanceof e&&this.x==t.x&&this.y==t.y},e.prototype.clone=function(){return new e(this.x,this.y)},e}();a.Point=A;var R=function(){function e(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.width=c(t),this.height=c(e)}return e.prototype.equals=function(t){return t instanceof e&&this.width==t.width&&this.height==t.height},e.prototype.clone=function(){return new e(this.width,this.height)},e}();a.Size=R;var D=function(){function r(t,e,i,n){this.left=c(t),this.top=c(e),this.width=c(i),this.height=c(n)}return Object.defineProperty(r.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),r.prototype.equals=function(t){return t instanceof r&&this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height},r.prototype.clone=function(){return new r(this.left,this.top,this.width,this.height)},r.fromBoundingRect=function(t){return null!=t.left?new r(t.left,t.top,t.width,t.height):null!=t.x?new r(t.x,t.y,t.width,t.height):void h(!1,"Invalid source rectangle.")},r.union=function(t,e){var i=Math.min(t.left,e.left),n=Math.min(t.top,e.top);return new r(i,n,Math.max(t.right,e.right)-i,Math.max(t.bottom,e.bottom)-n)},r.intersection=function(t,e){var i=Math.max(t.left,e.left),n=Math.max(t.top,e.top);return new r(i,n,Math.min(t.right,e.right)-i,Math.min(t.bottom,e.bottom)-n)},r.prototype.contains=function(t){if(t instanceof A)return t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom;if(t instanceof r){var e=t;return e.left>=this.left&&e.right<=this.right&&e.top>=this.top&&e.bottom<=this.bottom}h(!1,"Point or Rect expected.")},r.prototype.inflate=function(t,e){return new r(this.left-t,this.top-e,this.width+2*t,this.height+2*e)},r}();a.Rect=D;var I=function(){function n(){}return n.addDays=function(t,e){return n.newDate(t.getFullYear(),t.getMonth(),t.getDate()+e)},n.addMonths=function(t,e){return n.newDate(t.getFullYear(),t.getMonth()+e,t.getDate())},n.addYears=function(t,e){return n.newDate(t.getFullYear()+e,t.getMonth(),t.getDate())},n.addHours=function(t,e){return n.newDate(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()+e)},n.addMinutes=function(t,e){return n.newDate(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()+e)},n.addSeconds=function(t,e){return n.newDate(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()+e)},n.sameDate=function(t,e){return f(t)&&f(e)&&t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()&&t.getDate()==e.getDate()},n.sameTime=function(t,e){return f(t)&&f(e)&&t.getHours()==e.getHours()&&t.getMinutes()==e.getMinutes()&&t.getSeconds()==e.getSeconds()},n.equals=function(t,e){return f(t)&&f(e)&&t.getTime()==e.getTime()},n.fromDateTime=function(t,e){return t||e?(t||(t=e),e||(e=t),n.newDate(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())):null},n.toFiscal=function(t,e){var i=a.culture.Globalize.calendar;return s(i.fiscalYearOffsets)?n.addMonths(t,-i.fiscalYearOffsets[e?0:1]):t},n.fromFiscal=function(t,e){var i=a.culture.Globalize.calendar;return s(i.fiscalYearOffsets)?n.addMonths(t,+i.fiscalYearOffsets[e?0:1]):t},n.newDate=function(t,e,i,n,r,o,s){if(null==t||null==e||null==i){var a=new Date;null==t&&(t=a.getFullYear()),null==e&&(e=a.getMonth()),null==i&&(i=a.getDate())}null==n&&(n=0),null==r&&(r=0),null==o&&(o=0),null==s&&(s=0);var l=new Date(t,e,i,n,r,o,s),h=l.getFullYear();return t<100&&1900<=h&&l.setFullYear(l.getFullYear()-1900),l},n.clone=function(t){return n.fromDateTime(t,t)},n}();a.DateTime=I,a.httpRequest=function(t,e){e||(e={});var i=e.method?m(e.method).toUpperCase():"GET",n=null==e.async||y(e.async),r=e.data;if(null!=r&&"GET"==i){var o=[];for(var s in r){var a=r[s];f(a)&&(a=a.toJSON()),o.push(s+"="+a)}if(o.length){var l=t.indexOf("?")<0?"?":"&";t+=l+o.join("&")}r=null}var h=new XMLHttpRequest;h.URL_DEBUG=t;var c=!1;if(null==r||p(r)||(c=g(r),r=JSON.stringify(r)),h.onload=function(){4==h.readyState&&(h.status<300?e.success&&v(e.success)(h):e.error&&v(e.error)(h),e.complete&&v(e.complete)(h))},h.onerror=function(){if(!_(e.error))throw"HttpRequest Error: "+h.status+" "+h.statusText;e.error(h)},h.open(i,t,n,e.user,e.password),e.user&&e.password&&h.setRequestHeader("Authorization","Basic "+btoa(e.user+":"+e.password)),c&&h.setRequestHeader("Content-Type","application/json"),e.requestHeaders)for(var u in e.requestHeaders)h.setRequestHeader(u,e.requestHeaders[u]);return d(e.timeout)&&(h.timeout=e.timeout),_(e.beforeSend)&&e.beforeSend(h),h.send(r),h}}(wijmo||(wijmo={})),function(j){"use strict";j.culture="undefined"!=typeof window&&window.wijmo.culture||{Globalize:{numberFormat:{".":".",",":",","-":"-","+":"+","%":"%",percent:{pattern:["-n %","n %"]},currency:{decimals:2,symbol:"$",pattern:["($n)","$n"]}},calendar:{"/":"/",":":":",firstDay:0,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],am:["AM","A"],pm:["PM","P"],eras:["A.D.","B.C."],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",t:"h:mm tt",T:"h:mm:ss tt",M:"MMMM d",m:"MMMM d",Y:"MMMM, yyyy",y:"MMMM, yyyy",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:"dddd, MMMM dd, yyyy h:mm:ss tt"},fiscalYearOffsets:[-3,-3]}}};var t=function(){function k(){}return k.format=function(t,e,i,n){return j.isString(t)?t:j.isNumber(t)?(e=e||(t==Math.round(t)?"n0":"n2"),k.formatNumber(t,e,i,n)):j.isDate(t)?k.formatDate(t,e=e||"d"):null!=t?t.toString():""},k.formatNumber=function(t,e,i,n){t=j.asNumber(t),e=j.asString(e);var r,o=j.culture.Globalize.numberFormat,s=e?e.match(/([a-z])(\d*)(,*)(.*)/i):null,a=s?s[1].toLowerCase():"n",l=s&&s[2]?parseInt(s[2]):"c"==a?o.currency.decimals:t==Math.round(t)?0:2,h=s&&s[3]?3*s[3].length:0,c=o["."]||".",u=o[","]||",",p=o["-"]||"-";if(h&&(t/=Math.pow(10,h)),"d"==a||"x"==a){for(r=Math.round(Math.abs(t)).toString("d"==a?10:16);r.length<l;)r="0"+r;return t<0&&(r=p+r),e&&"X"==e[0]&&(r=r.toUpperCase()),r}if("p"==a&&(t=k._mul100(t),t=j.toFixed(t,l,n)),n&&"p"!=a&&(t=j.toFixed(t,l,!0)),r=k._toFixedStr("c"==a||"p"==a?Math.abs(t):t,l),(i||"g"==a)&&-1<r.indexOf(".")&&(r=(r=r.replace(/(\.[0-9]*?)0+$/g,"$1")).replace(/\.$/,"")),"."!=c&&(r=r.replace(".",c)),"-"!=p&&(r=r.replace("-",p)),u&&("n"==a||"c"==a||"p"==a)){var d=r.indexOf(c),_=/\B(?=(\d\d\d)+(?!\d))/g;r=-1<d?r.substr(0,d).replace(_,u)+r.substr(d):r.replace(_,u)}if("c"==a){var f=o.currency.pattern[t<0?0:1],g=s&&s[4]?s[4]:o.currency.symbol;"​"==g&&(g=""),r=f.replace("n",r).replace("$",g)}if("p"==a){f=o.percent.pattern[t<0?0:1];var m=o["%"]||"%";r=f.replace("n",r),"%"!=m&&(r=r.replace("%",m)),"-"!=p&&t<0&&(r=r.replace("-",p))}return r},k.formatDate=function(t,e){switch(t=j.asDate(t),e){case"r":case"R":return t.toUTCString();case"u":return t.toISOString().replace(/\.\d{3}/,"")}e=k._expandFormat(e);for(var i=k._parseDateFormat(e),n="",r=0;r<i.length;r++)n+=k._formatDatePart(t,e,i[r]);return n},k.parseInt=function(t,e){return Math.round(k.parseFloat(t,e))},k.parseFloat=function(t,e){var i=j.culture.Globalize.numberFormat,n=i["-"]||"-",r=i["%"]||"%",o=-1<t.indexOf(n)||-1<t.indexOf("(")&&-1<t.indexOf(")")?-1:1,s=-1<t.indexOf(r)?.01:1,a=e?e.match(/,+/):null,l=a?3*a[0].length:0,h=0;if(!e||"x"!=e[0]&&"X"!=e[0]){var c=i["."]||".",u=new RegExp("[^\\d\\"+c+"]","g");t=t.replace(u,"").replace(c,"."),h=parseFloat(t)}else t=t.replace(/[^0-9a-f]+.*$/gi,""),h=parseInt(t,16);return h*o*s*Math.pow(10,l)},k.parseDate=function(t,e,i){if(!(t=j.asString(t)))return null;if("u"==e)return new Date(t);var n;if("R"==e||"r"==e){var r=t.match(/(([0-9]+)\-([0-9]+)\-([0-9]+))?\s?(([0-9]+):([0-9]+)(:([0-9]+))?)?/);return r[1]||r[5]?(n=r[1]?new Date(parseInt(r[2]),parseInt(r[3])-1,parseInt(r[4])):new Date,r[5]&&(n.setHours(parseInt(r[6])),n.setMinutes(parseInt(r[7])),n.setSeconds(r[8]?parseInt(r[9]):0))):n=new Date(t),isNaN(n.getTime())?null:n}e=k._expandFormat(e||"d");var o,s,a,l,h,c,u=j.culture.Globalize.calendar,p=k._CJK,d=new RegExp("(\\"+u["/"]+")|(\\"+u[":"]+")|(\\d+)|(["+p+"\\.]{2,})|(["+p+"]+)","gi"),_=t.match(d),f=k._parseDateFormat(e),g=0,m=-1,y=0,v=1,b=0,w=0,C=0,x=0,S=-1;if(!(_&&_.length&&f&&f.length))return null;for(var E=0;E<f.length&&_;E++){var P=E-g,T=-1<P&&P<_.length?_[P]:"",M=f[E].length;switch(f[E]){case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":c=f[E];case"yyyy":case"yyy":case"yy":case"y":1<M&&T.length>M&&(_[P]=T.substr(M),T=T.substr(0,M),g++),m=parseInt(T),h=4==T.length;break;case"MMMM":case"MMM":l=!0;var A=T.toLowerCase();y=-1;for(var R=0;R<12;R++)if(0==u.months[R].toLowerCase().indexOf(A)){y=R;break}if(-1<y)break;case"MM":case"M":l=!0,1<M&&T.length>M&&(_[P]=T.substr(M),T=T.substr(0,M),g++),y=parseInt(T)-1;break;case"dddd":case"ddd":o=!0;break;case"dd":case"d":1<M&&T.length>M&&(_[P]=T.substr(M),T=T.substr(0,M),g++),v=parseInt(T),s=!0;break;case"hh":case"h":1<M&&T.length>M&&(_[P]=T.substr(M),T=T.substr(0,M),g++),b=12==(b=parseInt(T))?0:b;break;case"HH":1<M&&T.length>M&&(_[P]=T.substr(M),T=T.substr(0,M),g++),b=parseInt(T);break;case"H":b=parseInt(T);break;case"mm":case"m":1<M&&T.length>M&&(_[P]=T.substr(M),T=T.substr(0,M),g++),w=parseInt(T);break;case"ss":case"s":1<M&&T.length>M&&(_[P]=T.substr(M),T=T.substr(0,M),g++),C=parseInt(T);break;case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":x=parseInt(T)/Math.pow(10,M-3);break;case"tt":case"t":T=T.toUpperCase(),b<12&&-1<u.pm.indexOf(T)&&(b+=12);break;case"q":case"Q":case"u":case"U":a=!0;break;case"ggg":case"gg":case"g":S=1<u.eras.length?k._getEra(T,u):-1;break;case u["/"]:case u[":"]:if(T&&T!=f[E])return null;break;case"K":break;default:k._unquote(f[E]).trim()!=T.trim()&&g++}}if(l&&s&&(isNaN(b)&&(b=0),isNaN(w)&&(w=0),isNaN(C)&&(C=0)),y<0||11<y||isNaN(y)||v<1||31<v||isNaN(v)||b<0||24<b||isNaN(b)||w<0||60<w||isNaN(w)||C<0||60<C||isNaN(C))return null;if(c){if(!l)return null;var D=j.culture.Globalize.calendar;if(j.isArray(D.fiscalYearOffsets)){var I="E"==c[0],O=y-D.fiscalYearOffsets[I?0:1];m+=11<O?-1:O<0?1:0}}if(o&&!s)return null;if(a&&!l)return null;if(m<0&&(m=j.isDate(i)?i.getFullYear():(new Date).getFullYear()),-1<S)m=m+u.eras[S].start.getFullYear()-1;else if(m<100&&!h){var L=j.isNumber(u.twoDigitYearMax)?u.twoDigitYearMax:2029;99<L&&(m+=m+2e3<=L?2e3:1900)}return v>new Date(m,y+1,0).getDate()?null:(n=j.DateTime.newDate(m,y,v,b,w+0,C,x),isNaN(n.getTime())?null:n)},k.getFirstDayOfWeek=function(){var t=j.culture.Globalize.calendar.firstDay;return t||0},k.getNumberDecimalSeparator=function(){var t=j.culture.Globalize.numberFormat["."];return t||"."},k._toFixedStr=function(t,e){var i=t.toString(),n=i.indexOf("."),r=e-(i.length-n)+1;return i.indexOf("e")<0&&-1<n&&0<=r?i+Array(r+1).join("0"):t.toFixed(e)},k._unquote=function(t){return 1<t.length&&t[0]==t[t.length-1]&&("'"==t[0]||'"'==t[0])?t.substr(1,t.length-2):t},k._parseDateFormat=function(t){if(t in k._dateFormatParts)return k._dateFormatParts[t];var e,i,n=[];if(t)for(e=0;-1<e&&e<t.length;e++){var r=t[e];if(("'"==r||'"'==r)&&-1<(i=t.indexOf(r,e+1)))n.push(t.substring(e,i+1)),e=i;else if("\\"==r&&e<t.length-1)e++,n.push('"'+t[e]+'"');else{for(i=e+1;i<t.length&&t[i]==r;i++);n.push(t.substring(e,i)),e=i-1}}return k._dateFormatParts[t]=n},k._formatDatePart=function(t,e,i){var n,r=j.culture.Globalize.calendar,o=0,s=0,a=0,l=i.length;switch(i){case"yyyy":case"yyy":case"yy":case"y":case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":s=(n="E"==i[0]?j.DateTime.toFiscal(t,!0):"e"==i[0]?j.DateTime.toFiscal(t,!1):t).getFullYear(),1<r.eras.length&&-1<e.indexOf("g")&&-1<(o=k._getEra(t,r))&&(s=s-r.eras[o].start.getFullYear()+1);var h=i.length<3?s%100:3==i.length?s%1e3:s;return k._zeroPad(h,i.length);case"MMMMM":return r.monthsAbbr[t.getMonth()][0];case"MMMM":return r.months[t.getMonth()];case"MMM":return r.monthsAbbr[t.getMonth()];case"MM":case"M":return k._zeroPad(t.getMonth()+1,l);case"dddd":return r.days[t.getDay()];case"ddd":return r.daysAbbr[t.getDay()];case"dd":return k._zeroPad(t.getDate(),2);case"d":return t.getDate().toString();case"hh":case"h":return k._zeroPad(k._h12(t),l);case"HH":case"H":return k._zeroPad(t.getHours(),l);case"mm":case"m":return k._zeroPad(t.getMinutes(),l);case"ss":case"s":return k._zeroPad(t.getSeconds(),l);case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":return a=t.getMilliseconds()*Math.pow(10,l-3),"f"==i[0]?k._zeroPad(a,l):a.toFixed(0);case"tt":return t.getHours()<12?r.am[0]:r.pm[0];case"t":return t.getHours()<12?r.am[1]:r.pm[1];case"q":case"Q":return(Math.floor(t.getMonth()/3)+1).toString();case"u":case"U":return n=j.DateTime.toFiscal(t,"U"==i),(Math.floor(n.getMonth()/3)+1).toString();case"ggg":case"gg":case"g":return 1<r.eras.length&&-1<(o=k._getEra(t,r))?"ggg"==i?r.eras[o].name:"gg"==i?r.eras[o].name[0]:r.eras[o].symbol:r.eras[0];case":":case"/":return r[i];case"K":var c=t.toString().match(/(\+|\-)(\d{2})(\d{2})/);return c?c[1]+c[2]+c[3]:"";case"zzz":case"zz":case"z":var u=-t.getTimezoneOffset(),p=void 0;switch(i){case"zzz":p=k.format(u/60,"d2",!1,!0)+r[":"]+k.format(u%60,"d2",!1,!0);break;case"zz":p=k.format(u/60,"d2",!1,!0);break;case"z":p=k.format(u/60,"d",!1,!0)}return 0<=u?"+"+p:p}return 1<l&&i[0]==i[l-1]&&('"'==i[0]||"'"==i[0])?i.substr(1,l-2):i},k._getEra=function(t,e){if(j.isDate(t)){for(var i=0;i<e.eras.length;i++)if(t>=e.eras[i].start)return i}else if(j.isString(t))for(i=0;i<e.eras.length;i++)if(e.eras[i].name&&(0==e.eras[i].name.indexOf(t)||0==e.eras[i].symbol.indexOf(t)))return i;return-1},k._expandFormat=function(t){var e=j.culture.Globalize.calendar.patterns[t];return e||t},k._zeroPad=function(t,e){var i=t.toFixed(0),n=e-i.length+1;return 0<n?Array(n).join("0")+i:i},k._h12=function(t){var e=j.culture.Globalize.calendar,i=t.getHours();return e.am&&e.am[0]&&0==(i%=12)&&(i=12),i},k._mul100=function(t){var e=t.toString(),i=e.indexOf(".");return-1<e.indexOf("e")?100*t:(i<0?e+="00":(i+=2,e=(e=e.replace(".","")+"00").substr(0,i)+"."+e.substr(i)),parseFloat(e))},k._CJK="a-z"+"u00c0-u017fu3000-u30ffu4e00-u9faf".replace(/u/g,"\\u")+"u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff".replace(/u/g,"\\u"),k._dateFormatParts={},k}();j.Globalize=t,j._updateCulture=function(){j.culture=window.wijmo.culture},j._addCultureInfo=function(t,e){j.culture[t]=window.wijmo.culture[t]||e}}(wijmo||(wijmo={})),function(t){"use strict";var e=function(){function t(t){this.path=t}return Object.defineProperty(t.prototype,"path",{get:function(){return this._path},set:function(t){this._path=t,this._parts=t?t.split("."):[];for(var e=0;e<this._parts.length;e++){var i=this._parts[e],n=i.indexOf("[");-1<n&&(this._parts[e]=i.substr(0,n),this._parts.splice(++e,0,parseInt(i.substr(n+1))))}this._key=1==this._parts.length?this._parts[0]:null},enumerable:!0,configurable:!0}),t.prototype.getValue=function(t){if(t){if(this._key)return t[this._key];if(this._path&&this._path in t)return t[this._path];for(var e=0;e<this._parts.length&&t;e++)t=t[this._parts[e]]}return t},t.prototype.setValue=function(t,e){if(t){if(this._path in t)return void(t[this._path]=e);for(var i=0;i<this._parts.length-1;i++)if(null==(t=t[this._parts[i]]))return;t[this._parts[this._parts.length-1]]=e}},t}();t.Binding=e}(wijmo||(wijmo={}));var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){"use strict";var i=function(t,e){this.handler=t,this.self=e},t=function(){function t(){this._handlers=[]}return t.prototype.addHandler=function(t,e){t=r.asFunction(t),this._handlers.push(new i(t,e))},t.prototype.removeHandler=function(t,e){t=r.asFunction(t);for(var i=0;i<this._handlers.length;i++){var n=this._handlers[i];if((n.handler==t||null==t)&&(n.self==e||null==e)&&(this._handlers.splice(i,1),t&&e))break}},t.prototype.removeAllHandlers=function(){this._handlers.length=0},t.prototype.raise=function(t,e){void 0===e&&(e=o.empty);for(var i=0;i<this._handlers.length;i++){var n=this._handlers[i];n.handler.call(n.self,t,e)}},Object.defineProperty(t.prototype,"hasHandlers",{get:function(){return 0<this._handlers.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handlerCount",{get:function(){return this._handlers.length},enumerable:!0,configurable:!0}),t}();r.Event=t;var o=function(){function t(){}return t.empty=new t,t}(),e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cancel=!1,t}return __extends(t,e),t}(r.EventArgs=o);r.CancelEventArgs=e;var n=function(r){function t(t,e,i){var n=r.call(this)||this;return n._name=t,n._oldVal=e,n._newVal=i,n}return __extends(t,r),Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oldValue",{get:function(){return this._oldVal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newValue",{get:function(){return this._newVal},enumerable:!0,configurable:!0}),t}(o);r.PropertyChangedEventArgs=n;var s=function(n){function t(t,e){var i=n.call(this)||this;return i._xhr=t,i._msg=e,i}return __extends(t,n),Object.defineProperty(t.prototype,"request",{get:function(){return this._xhr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this._msg},set:function(t){this._msg=t},enumerable:!0,configurable:!0}),t}(e);r.RequestErrorEventArgs=s}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(S){"use strict";S.controlBaseClass="undefined"!=typeof window&&window["wj-control-is-element"]?HTMLElement:Object;var e=!1;try{var t=function(){};t.prototype=Array.prototype,e=t.prototype!==Array.prototype}catch(t){e=!0}var i=e||S.controlBaseClass!==Object,n=function(e){function t(){var t=this;return i&&(t=e.call(this)||this),t}return __extends(t,e),t}(S.controlBaseClass),r=function(_){function x(t,e,i){void 0===e&&(e=null),void 0===i&&(i=!1);var n=_.call(this)||this;n._listeners=[],n._pristine=!0,n._focus=!1,n._updating=0,n._fullUpdate=!1,n.gotFocus=new S.Event,n.lostFocus=new S.Event,n.refreshing=new S.Event,n.refreshed=new S.Event,n._updateWme(),S.assert(null==x.getControl(t),"Element is already hosting a control.");var r=S.getElement(t);if(S.assert(null!=r,"Cannot find the host element."),n._orgTabIndex=r.hasAttribute("tabindex")?r.tabIndex:0,n._orgOuter=r.outerHTML,n._orgTag=r.tagName,n._orgAtts=r.attributes,"INPUT"!=r.tagName&&"SELECT"!=r.tagName||(r=n._replaceWithDiv(r)),(n._e=r)[x._CTRL_KEY]=n,1==i){n._szCtl=new S.Size(r.offsetWidth,r.offsetHeight);var o=n._handleResize.bind(n);n.addEventListener(window,"resize",o)}var s=n._handleFocusBlur.bind(n);n.addEventListener(r,"focus",s,!0),n.addEventListener(r,"blur",s,!0);var a=n._handleDisabled.bind(n),l=n.addEventListener.bind(n);if(l(r,"mousedown",a,!0),l(r,"mouseup",a,!0),l(r,"click",a,!0),l(r,"dblclick",a,!0),l(r,"keydown",a,!0),l(r,"wheel",a,S.getEventOptions(!0,!0)),null==x._touching&&(x._touching=!1,"ontouchstart"in window||"onpointerdown"in window)){var h=document.body,c=h.addEventListener.bind(h),u=n._handleTouchStart,p=n._handleTouchEnd,d=S.getEventOptions(!0,!0);"ontouchstart"in window?(c("touchstart",u,d),c("touchend",p,d),c("touchcancel",p,d),c("touchleave",p,d)):"onpointerdown"in window&&(c("pointerdown",u,d),c("pointerup",p,d),c("pointerout",p,d),c("pointercancel",p,d),c("pointerleave",p,d))}return n}return __extends(x,_),x.prototype.getTemplate=function(){for(var t=Object.getPrototypeOf(this);t;t=Object.getPrototypeOf(t)){var e=t.constructor.controlTemplate;if(e)return e}return null},x.prototype.applyTemplate=function(t,e,i,n){var r=this,o=this._e;t&&S.addClass(o,t);var s=null;e&&(s=S.createElement(e,o));for(var a=o.querySelectorAll("a.wj-btn"),l=0;l<a.length;l++){var h=a[l];S.setAttribute(h,"role","button",!0),S.setAttribute(h,"href","",!0),S.setAttribute(h,"draggable",!1,!0)}var c=o.querySelectorAll("button");for(l=0;l<c.length;l++)S.setAttribute(c[l],"type","button",!0);var u=o.querySelectorAll("input"),p=1==u.length?u[0]:null;if(p){var d=x._rxInputAtts;this._copyAttributes(p,o.attributes,d),this._copyAttributes(p,this._orgAtts,d)}if(p&&o.id){for(var _=o;_.parentElement;)_=_.parentElement;var f=_.querySelector('label[for="'+o.id+'"]');if(f instanceof HTMLLabelElement){var g=S.getUniqueId(o.id+"_input");p.id=g,f.htmlFor=g}}if(p){var m=document.createEvent("HTMLEvents"),y=p.value;m.initEvent("change",!0,!1),this.addEventListener(p,"input",function(){r._pristine=!1,y=p.value},!0),this.gotFocus.addHandler(function(){y=p.value}),this.lostFocus.addHandler(function(){r._pristine&&(r._pristine=!1,r._updateState()),y!=p.value&&p.dispatchEvent(m)})}if(p?o.tabIndex=-1:o.getAttribute("tabindex")||(o.tabIndex=0),this._updateState(),i)for(var v in i){var b=i[v];if(this[v]=s.querySelector('[wj-part="'+b+'"]'),null==this[v]&&s.getAttribute("wj-part")==b&&(this[v]=s),null==this[v])throw'Missing template part: "'+b+'"';if(b==n){var w="name",C=o.attributes[w];C&&C.value&&this[v].setAttribute(w,C.value),w="accesskey",(C=o.attributes[w])&&C.value&&(this[v].setAttribute(w,C.value),o.removeAttribute(w))}}return s},x.prototype.dispose=function(){for(var t=this._e.querySelectorAll(".wj-control"),e=0;e<t.length;e++){var i=x.getControl(t[e]);i&&i.dispose()}for(var n in this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this.removeEventListener(),this){if(2<n.length&&0==n.indexOf("on"))(o=this[n[2].toLowerCase()+n.substr(3)])instanceof S.Event&&o.removeAllHandlers()}var r=this.collectionView;if(r instanceof S.collections.CollectionView)for(var n in r){var o;(o=r[n])instanceof S.Event&&o.removeHandler(null,this)}this._e.parentNode&&(this._e.outerHTML=this._orgOuter),this._e[x._CTRL_KEY]=null,this._e=this._orgOuter=this._orgTag=null},x.getControl=function(t){var e=S.getElement(t);return e?S.asType(e[x._CTRL_KEY],x,!0):null},Object.defineProperty(x.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"rightToLeft",{get:function(){return null==this._rtlDir&&(this._rtlDir=!!this._e&&"rtl"==getComputedStyle(this._e).direction),this._rtlDir},enumerable:!0,configurable:!0}),x.prototype.focus=function(){var t=this._e;t&&(t.tabIndex<0?S.moveFocus(t,0):t.focus())},x.prototype.containsFocus=function(){var t=this._e,e=S.getActiveElement();if(!t)return!1;for(var i=e;i;){if(i==t)return!0;i=i[x._OWNR_KEY]||i.parentElement}return!1},x.prototype.invalidate=function(t){var e=this;void 0===t&&(t=!0),this._rtlDir=null,this._fullUpdate=this._fullUpdate||t,this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this.isUpdating||(this._toInv=setTimeout(function(){e.refresh(e._fullUpdate),e._toInv=null},x._REFRESH_INTERVAL))},x.prototype.refresh=function(t){var e=this;void 0===t&&(t=!0);var i=this.hostElement;i&&(this._rtlDir="rtl"==getComputedStyle(i).direction,S.toggleClass(i,"wj-rtl",this._rtlDir)),this.isUpdating||(this.onRefreshing(),setTimeout(function(){e.onRefreshed()})),!this.isUpdating&&this._toInv&&(clearTimeout(this._toInv),this._toInv=null,this._fullUpdate=!1,this._updateWme())},x.invalidateAll=function(t){if(t||(t=document.body),t.children)for(var e=0;e<t.children.length;e++)x.invalidateAll(t.children[e]);var i=x.getControl(t);i&&i.invalidate()},x.refreshAll=function(t){if(t||(t=document.body),t.children)for(var e=0;e<t.children.length;e++)x.refreshAll(t.children[e]);var i=x.getControl(t);i&&i.refresh()},x.disposeAll=function(t){var e=x.getControl(t);if(e)e.dispose();else if(t.children)for(var i=0;i<t.children.length;i++)x.disposeAll(t.children[i])},x.prototype.beginUpdate=function(){this._updating++},x.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this.invalidate()},Object.defineProperty(x.prototype,"isUpdating",{get:function(){return 0<this._updating},enumerable:!0,configurable:!0}),x.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},Object.defineProperty(x.prototype,"isTouching",{get:function(){return x._touching},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"isDisabled",{get:function(){return this._e&&null!=this._e.getAttribute("disabled")},set:function(t){(t=S.asBoolean(t,!0))!=this.isDisabled&&S.enable(this._e,!t)},enumerable:!0,configurable:!0}),x.prototype.initialize=function(t){t&&S.copy(this,t)},x.prototype.addEventListener=function(t,e,i,n){void 0===n&&(n=!1),t&&(e.match(/touchstart|touchmove|wheel/i)&&S.isBoolean(n)&&(n=S.getEventOptions(n,!1)),t.addEventListener(e,i,n),this._listeners.push({target:t,type:e,fn:i,capture:n}))},x.prototype.removeEventListener=function(t,e,i,n){for(var r=0,o=0;o<this._listeners.length;o++){var s=this._listeners[o];null!=t&&t!=s.target||null!=e&&e!=s.type||(null==i||i==s.fn||i&&s.fn&&i.toString()==s.fn.toString())&&(null!=n&&n!=s.capture||(s.target.removeEventListener(s.type,s.fn,s.capture),this._listeners.splice(o,1),o--,r++))}return r},x.prototype.onGotFocus=function(t){this.gotFocus.raise(this,t)},x.prototype.onLostFocus=function(t){this.lostFocus.raise(this,t)},x.prototype.onRefreshing=function(t){this.refreshing.raise(this,t)},x.prototype.onRefreshed=function(t){this.refreshed.raise(this,t)},x.prototype._getProductInfo=function(){return"B0C3,Control"},x.prototype._updateWme=function(){var t=window.wijmo._updateWme;S.isFunction(t)&&t(this,x._licKey)},x.prototype._hasPendingUpdates=function(){return null!=this._toInv},x.prototype._handleResize=function(){if(this._e.parentElement){var t=new S.Size(this._e.offsetWidth,this._e.offsetHeight);t.equals(this._szCtl)||(this._szCtl=t,this.invalidate())}},x.prototype._handleFocusBlur=function(){var t=this;this._toFocus||(this._toFocus=setTimeout(function(){t._toFocus=null,t._updateFocusState()},x._FOCUS_INTERVAL))},x.prototype._updateFocusState=function(){setTimeout(function(){for(var t=S.EventArgs.empty,e=document.body.querySelectorAll(".wj-state-focused"),i=0;i<e.length;i++){(s=x.getControl(e[i]))&&s._focus&&!s.containsFocus()&&(S.removeClass(s._e,"wj-state-focus"),s._focus=!1,s._updateState(),s.onLostFocus(t))}var n=S.getActiveElement();if(n)for(var r=!0,o=n;o;){var s;(s=x.getControl(o))&&!s._focus&&s.containsFocus()&&(r&&(S.addClass(o,"wj-state-focus"),r=!1),s._focus=!0,s._updateState(),s.onGotFocus(t)),o=o[x._OWNR_KEY]||o.parentElement}})},x.prototype._updateState=function(){var t=this.hostElement;if(t){S.toggleClass(t,"wj-state-focused",this._focus);var e=t.querySelector("input");if(e instanceof HTMLInputElement){S.toggleClass(t,"wj-state-empty",0==e.value.length),S.toggleClass(t,"wj-state-readonly",e.readOnly);var i=e.validationMessage;S.toggleClass(t,"wj-state-invalid",!this._pristine&&null!=i&&0<i.length)}}},x.prototype._handleTouchStart=function(t){null!=t.pointerType&&"touch"!=t.pointerType||(x._toTouch&&(clearTimeout(x._toTouch),x._toTouch=null),x._touching=!0)},x.prototype._handleTouchEnd=function(t){null!=t.pointerType&&"touch"!=t.pointerType||(x._toTouch=setTimeout(function(){x._toTouch=null,x._touching=!1},900))},x.prototype._handleDisabled=function(t){this.isDisabled&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())},x.prototype._replaceWithDiv=function(t){var e=document.createElement("div");return t.parentElement.replaceChild(e,t),e.innerHTML=t.innerHTML,this._copyAttributes(e,t.attributes,/id|style|class/i),e},x.prototype._copyAttributes=function(t,e,i){if(t)for(var n=0;n<e.length;n++){var r=e[n].name;r.match(i)&&t.setAttribute(r,e[n].value)}},x._REFRESH_INTERVAL=10,x._FOCUS_INTERVAL=0,x._ANIM_DEF_DURATION=400,x._ANIM_DEF_STEP=35,x._CLICK_DELAY=800,x._CLICK_REPEAT=75,x._CLIPBOARD_DELAY=100,x._POPUP_ZINDEX=1500,x._SEARCH_DELAY=600,x._DRAG_SCROLL_EDGE=15,x._DRAG_SCROLL_STEP=10,x._CTRL_KEY="$WJ-CTRL",x._OWNR_KEY="$WJ-OWNR",x._SCRL_KEY="$WJ-SCRL",x._rxInputAtts=/name|tabindex|placeholder|autofocus|autocomplete|autocorrect|autocapitalize|spellcheck|readonly|minlength|maxlength|pattern|type|aria-.+/i,x}(S.ControlBase=n);S.Control=r}(wijmo||(wijmo={})),function(_){"use strict";var f,t;(t=f=_.Aggregate||(_.Aggregate={}))[t.None=0]="None",t[t.Sum=1]="Sum",t[t.Cnt=2]="Cnt",t[t.Avg=3]="Avg",t[t.Max=4]="Max",t[t.Min=5]="Min",t[t.Rng=6]="Rng",t[t.Std=7]="Std",t[t.Var=8]="Var",t[t.StdPop=9]="StdPop",t[t.VarPop=10]="VarPop",t[t.CntAll=11]="CntAll",t[t.First=12]="First",t[t.Last=13]="Last",_.getAggregate=function(t,e,i){var n=0,r=0,o=0,s=0,a=null,l=null,h=null,c=i?new _.Binding(i):null;if((t=_.asEnum(t,f))==f.CntAll)return e.length;for(var u=0;u<e.length;u++){var p=e[u];if(c&&(p=c.getValue(p)),t==f.First)return p;null!=p&&(n++,(null==a||p<a)&&(a=p),(null==l||l<p)&&(l=p),h=p,_.isNumber(p)&&!isNaN(p)?(r++,o+=p,s+=p*p):_.isBoolean(p)&&(r++,1==p&&(o++,s++)))}var d=0==r?0:o/r;switch(t){case f.Avg:return d;case f.Cnt:return n;case f.Max:return l;case f.Min:return a;case f.Rng:return l-a;case f.Sum:return o;case f.VarPop:return r<=1?0:s/r-d*d;case f.StdPop:return r<=1?0:Math.sqrt(s/r-d*d);case f.Var:return r<=1?0:(s/r-d*d)*r/(r-1);case f.Std:return r<=1?0:Math.sqrt((s/r-d*d)*r/(r-1));case f.Last:return h}throw"Invalid aggregate type."}}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(l){!function(t){"use strict";var o,e;(e=o=t.NotifyCollectionChangedAction||(t.NotifyCollectionChangedAction={}))[e.Add=0]="Add",e[e.Remove=1]="Remove",e[e.Change=2]="Change",e[e.Reset=3]="Reset";var i=function(r){function t(t,e,i){void 0===t&&(t=o.Reset),void 0===e&&(e=null),void 0===i&&(i=-1);var n=r.call(this)||this;return n.action=t,n.item=e,n.index=i,n}return __extends(t,r),t.reset=new t(o.Reset),t}(l.EventArgs);t.NotifyCollectionChangedEventArgs=i;var n=function(){function t(t,e){this._bnd=new l.Binding(t),this._asc=e}return Object.defineProperty(t.prototype,"property",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ascending",{get:function(){return this._asc},enumerable:!0,configurable:!0}),t}();t.SortDescription=n;var r=function(i){function t(t){var e=i.call(this)||this;return e.newPageIndex=t,e}return __extends(t,i),t}(l.CancelEventArgs);t.PageChangingEventArgs=r;var s=function(){function t(){}return t.prototype.groupNameFromItem=function(t,e){return""},t.prototype.namesMatch=function(t,e){return t===e},t}(),a=function(n){function t(t,e){var i=n.call(this)||this;return i._bnd=new l.Binding(t),i._converter=e,i}return __extends(t,n),Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),t.prototype.groupNameFromItem=function(t,e){return this._converter?this._converter(t,this.propertyName):this._bnd.getValue(t)},t.prototype.namesMatch=function(t,e){return t===e},t}(t.GroupDescription=s);t.PropertyGroupDescription=a}(l.collections||(l.collections={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){!function(s){"use strict";var t=function(e){function t(){var t=this;return i?t.length=0:t=e.call(this)||this,t}return __extends(t,e),t}(Array);s.ArrayBase=t;var i=!0;try{t.prototype=Array.prototype,i=t.prototype===Array.prototype}catch(t){i=!1}var e="undefined"!=typeof window?window.Symbol:null;!i&&e&&e.species&&Object.defineProperty(t,e.species,{get:function(){return Array},enumerable:!1,configurable:!1});var n=function(o){function t(t){var e=o.call(this)||this;if(e._updating=0,e.collectionChanged=new r.Event,t){t=r.asArray(t),e._updating++;for(var i=0;i<t.length;i++)e.push(t[i]);e._updating--}return e}return __extends(t,o),t.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=this.length,n=0;t&&n<t.length;n++)i=o.prototype.push.call(this,t[n]),this._updating||this._raiseCollectionChanged(s.NotifyCollectionChangedAction.Add,t[n],i-1);return i},t.prototype.pop=function(){var t=o.prototype.pop.call(this);return this._raiseCollectionChanged(s.NotifyCollectionChangedAction.Remove,t,this.length),t},t.prototype.splice=function(t,e,i){var n,r=s.NotifyCollectionChangedAction;return e&&i?(n=o.prototype.splice.call(this,t,e,i),1==e?this._raiseCollectionChanged(r.Change,i,t):this._raiseCollectionChanged()):i?(n=o.prototype.splice.call(this,t,0,i),this._raiseCollectionChanged(r.Add,i,t)):(n=o.prototype.splice.call(this,t,e),1==e?this._raiseCollectionChanged(r.Remove,n[0],t):this._raiseCollectionChanged()),n},t.prototype.slice=function(t,e){return o.prototype.slice.call(this,t,e)},t.prototype.indexOf=function(t,e){return o.prototype.indexOf.call(this,t,e)},t.prototype.sort=function(t){var e=o.prototype.sort.call(this,t);return this._raiseCollectionChanged(),e},t.prototype.insert=function(t,e){this.splice(t,0,e)},t.prototype.remove=function(t){var e=this.indexOf(t);return-1<e&&(this.removeAt(e),!0)},t.prototype.removeAt=function(t){this.splice(t,1)},t.prototype.setAt=function(t,e){t>this.length&&(this.length=t),this.splice(t,1,e)},t.prototype.clear=function(){this.length&&this.splice(0,this.length)},t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){0<this._updating&&(this._updating--,0==this._updating&&this._raiseCollectionChanged())},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return 0<this._updating},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},t.prototype.implementsInterface=function(t){return"INotifyCollectionChanged"==t},t.prototype.onCollectionChanged=function(t){void 0===t&&(t=s.NotifyCollectionChangedEventArgs.reset),this.isUpdating||this.collectionChanged.raise(this,t)},t.prototype._raiseCollectionChanged=function(t,e,i){if(void 0===t&&(t=s.NotifyCollectionChangedAction.Reset),!this.isUpdating){var n=new s.NotifyCollectionChangedEventArgs(t,e,i);this.onCollectionChanged(n)}},t}(t);s.ObservableArray=n}(r.collections||(r.collections={}))}(wijmo||(wijmo={})),function(f){!function(h){"use strict";var o=function(){function _(t,e){var i=this;this._idx=-1,this._srtDsc=new h.ObservableArray,this._grpDesc=new h.ObservableArray,this._newItem=null,this._edtItem=null,this._pgSz=0,this._pgIdx=0,this._updating=0,this._stableSort=!1,this._canFilter=!0,this._canGroup=!0,this._canSort=!0,this._canAddNew=!0,this._canCancelEdit=!0,this._canRemove=!0,this._canChangePage=!0,this._trackChanges=!1,this._chgAdded=new h.ObservableArray,this._chgRemoved=new h.ObservableArray,this._chgEdited=new h.ObservableArray,this.collectionChanged=new f.Event,this.sourceCollectionChanging=new f.Event,this.sourceCollectionChanged=new f.Event,this.currentChanged=new f.Event,this.currentChanging=new f.Event,this.pageChanged=new f.Event,this.pageChanging=new f.Event,this._srtDsc.collectionChanged.addHandler(function(){i._srtDsc.forEach(function(t){f.assert(t instanceof h.SortDescription,"sortDescriptions array must contain SortDescription objects.")}),i.canSort&&i.refresh()}),this._grpDesc.collectionChanged.addHandler(function(){i._grpDesc.forEach(function(t){f.assert(t instanceof h.GroupDescription,"groupDescriptions array must contain GroupDescription objects.")}),i.canGroup&&(i.currentEditItem||i.currentAddItem?i.commitEdit():i.refresh())}),this.sourceCollection=t||new h.ObservableArray,e&&(this.beginUpdate(),f.copy(this,e),this.endUpdate())}return _.prototype._copy=function(t,e){switch(t){case"sortDescriptions":this.sortDescriptions.clear();for(var i=f.asArray(e),n=0;n<i.length;n++){var r=i[n];f.isString(r)&&(r=new h.SortDescription(r,!0)),this.sortDescriptions.push(r)}return!0;case"groupDescriptions":this.groupDescriptions.clear();var o=f.asArray(e);for(n=0;n<o.length;n++){r=o[n];f.isString(r)&&(r=new h.PropertyGroupDescription(r)),this.groupDescriptions.push(r)}return!0;case"currentItem":return this.currentItem=e,!0}return!1},Object.defineProperty(_.prototype,"newItemCreator",{get:function(){return this._itemCreator},set:function(t){this._itemCreator=f.asFunction(t)},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"sortConverter",{get:function(){return this._srtCvt},set:function(t){t!=this._srtCvt&&(this._srtCvt=f.asFunction(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"sortComparer",{get:function(){return this._srtCmp},set:function(t){t!=this._srtCmp&&(this._srtCmp=f.asFunction(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"useStableSort",{get:function(){return this._stableSort},set:function(t){this._stableSort=f.asBoolean(t)},enumerable:!0,configurable:!0}),_.prototype.getAggregate=function(t,e,i){var n=i?this._pgView:this._view;return f.getAggregate(t,n,e)},Object.defineProperty(_.prototype,"trackChanges",{get:function(){return this._trackChanges},set:function(t){this._trackChanges=f.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"itemsAdded",{get:function(){return this._chgAdded},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"itemsRemoved",{get:function(){return this._chgRemoved},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"itemsEdited",{get:function(){return this._chgEdited},enumerable:!0,configurable:!0}),_.prototype.clearChanges=function(){this._chgAdded.clear(),this._chgRemoved.clear(),this._chgEdited.clear()},_.prototype.implementsInterface=function(t){switch(t){case"ICollectionView":case"IEditableCollectionView":case"IPagedCollectionView":case"INotifyCollectionChanged":return!0}return!1},Object.defineProperty(_.prototype,"getError",{get:function(){return this._getError},set:function(t){this._getError=f.asFunction(t)},enumerable:!0,configurable:!0}),_.prototype.onCollectionChanged=function(t){void 0===t&&(t=h.NotifyCollectionChangedEventArgs.reset),t.action!=h.NotifyCollectionChangedAction.Change||this._committing||this._canceling||t.item==this.currentEditItem||t.item==this.currentAddItem||this._trackItemChanged(t.item),this.collectionChanged.raise(this,t)},_.prototype._raiseCollectionChanged=function(t,e,i){void 0===t&&(t=h.NotifyCollectionChangedAction.Reset);var n=new h.NotifyCollectionChangedEventArgs(t,e,i);this.onCollectionChanged(n)},_.prototype._notifyItemChanged=function(t){var e=new h.NotifyCollectionChangedEventArgs(h.NotifyCollectionChangedAction.Change,t,this.items.indexOf(t));this.onCollectionChanged(e)},_.prototype.onSourceCollectionChanging=function(t){return this.sourceCollectionChanging.raise(this,t),!t.cancel},_.prototype.onSourceCollectionChanged=function(t){this.sourceCollectionChanged.raise(this,t)},Object.defineProperty(_.prototype,"canFilter",{get:function(){return this._canFilter},set:function(t){this._canFilter=f.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"canGroup",{get:function(){return this._canGroup},set:function(t){this._canGroup=f.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"canSort",{get:function(){return this._canSort},set:function(t){this._canSort=f.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"currentItem",{get:function(){return this._pgView&&-1<this._idx&&this._idx<this._pgView.length?this._pgView[this._idx]:null},set:function(t){this.moveCurrentTo(t)},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"currentPosition",{get:function(){return this._idx},set:function(t){this.moveCurrentToPosition(f.asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"filter",{get:function(){return this._filter},set:function(t){this._filter!=t&&(this._filter=f.asFunction(t),this.canFilter&&this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"groupDescriptions",{get:function(){return this._grpDesc},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"isEmpty",{get:function(){return!this._pgView||!this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"sortDescriptions",{get:function(){return this._srtDsc},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"sourceCollection",{get:function(){return this._src},set:function(t){if(t!=this._src){if(!this.onSourceCollectionChanging(new f.CancelEventArgs))return;var e=this.currentPosition;this.commitEdit(),null!=this._ncc&&this._ncc.collectionChanged.removeHandler(this._sourceChanged),this._src=f.asArray(t,!1),this._ncc=f.tryCast(this._src,"INotifyCollectionChanged"),this._ncc&&this._ncc.collectionChanged.addHandler(this._sourceChanged,this),this.clearChanges(),this.refresh(),this.moveCurrentToFirst(),this.onSourceCollectionChanged(),this.currentPosition<0&&-1<e&&this.onCurrentChanged()}},enumerable:!0,configurable:!0}),_.prototype._sourceChanged=function(t,e){this._updating<=0&&this.refresh()},_.prototype.contains=function(t){return-1<this._pgView.indexOf(t)},_.prototype.moveCurrentTo=function(t){return this.moveCurrentToPosition(this._pgView.indexOf(t))},_.prototype.moveCurrentToFirst=function(){return this.moveCurrentToPosition(0)},_.prototype.moveCurrentToLast=function(){return this.moveCurrentToPosition(this._pgView.length-1)},_.prototype.moveCurrentToPrevious=function(){return 0<this._idx&&this.moveCurrentToPosition(this._idx-1)},_.prototype.moveCurrentToNext=function(){return this.moveCurrentToPosition(this._idx+1)},_.prototype.moveCurrentToPosition=function(t){if(-1<=t&&t<this._pgView.length&&t!=this._idx){var e=new f.CancelEventArgs;if(this.onCurrentChanging(e)){var i=this._pgView[t];this._edtItem&&i!=this._edtItem?this.commitEdit():this._newItem&&i!=this._newItem&&this.commitNew(),this._idx=t,this.onCurrentChanged()}}return this._idx==t},_.prototype.refresh=function(){this._newItem||this._edtItem?this._pendingRefresh=!0:this._updating<=0&&(this._performRefresh(),this.onCollectionChanged())},_.prototype._performRefresh=function(){if(!(0<this._updating)){this._pendingRefresh=!1;var t=this.currentItem;this._view=this._src?this._performFilter(this._src):[],this.canSort&&0<this._srtDsc.length&&(this._view==this._src&&(this._view=this._src.slice()),this._performSort(this._view)),this._groups=this.canGroup?this._createGroups(this._view):null,this._fullGroups=this._groups,this._groups&&(this._view=this._mergeGroupItems(this._groups)),this._pgIdx=f.clamp(this._pgIdx,0,this.pageCount-1),this._pgView=this._getPageView(),this._groups&&1<this.pageCount&&(this._groups=this._createGroups(this._pgView),this._mergeGroupItems(this._groups));var e=this._pgView.indexOf(t);e<0&&(e=Math.min(this._idx,this._pgView.length-1)),this._idx=e,this._digest=this._getGroupsDigest(this.groups),this.currentItem!==t&&this.onCurrentChanged()}},_.prototype._performSort=function(t){if(this._stableSort){var e=t.map(function(t,e){return{item:t,index:e}}),n=this._compareItems();e.sort(function(t,e){var i=n(t.item,e.item);return 0==i?t.index-e.index:i});for(var i=0;i<t.length;i++)t[i]=e[i].item}else t.sort(this._compareItems())},_.prototype._compareItems=function(){var h=this._srtDsc,c=this._srtCvt,u=this._srtCmp,p=!0,d=0;return function(t,e){for(var i=0;i<h.length;i++){var n=h[i],r=n._bnd.getValue(t),o=n._bnd.getValue(e);if(c&&(r=c(n,t,r,p),o=c(n,e,o,!1),p=!1),u&&null!=(d=u(r,o)))return n.ascending?+d:-d;if(r!=r&&(r=null),o!=o&&(o=null),null!=r&&null==o)return-1;if(null==r&&null!=o)return 1;if("string"==typeof r&&"string"==typeof o){var s=_._collator;if(s){if(0!=(d=s.compare(r,o)))return n.ascending?+d:-d;continue}var a=r.toLowerCase(),l=o.toLowerCase();a!=l&&(r=a,o=l)}if(0!=(d=r<o?-1:o<r?1:0))return n.ascending?+d:-d}return 0}},_.prototype._performFilter=function(t){return this.canFilter&&this._filter?t.filter(this._filter,this):t},_.prototype.onCurrentChanged=function(t){void 0===t&&(t=f.EventArgs.empty),this.currentChanged.raise(this,t)},_.prototype.onCurrentChanging=function(t){return this.currentChanging.raise(this,t),!t.cancel},Object.defineProperty(_.prototype,"items",{get:function(){return this._pgView},enumerable:!0,configurable:!0}),_.prototype.beginUpdate=function(){this._updating++},_.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this.refresh()},Object.defineProperty(_.prototype,"isUpdating",{get:function(){return 0<this._updating},enumerable:!0,configurable:!0}),_.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},Object.defineProperty(_.prototype,"canAddNew",{get:function(){return this._canAddNew},set:function(t){this._canAddNew=f.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"canCancelEdit",{get:function(){return this._canCancelEdit},set:function(t){this._canCancelEdit=f.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"canRemove",{get:function(){return this._canRemove},set:function(t){this._canRemove=f.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"currentAddItem",{get:function(){return this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"currentEditItem",{get:function(){return this._edtItem},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"isAddingNew",{get:function(){return null!=this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"isEditingItem",{get:function(){return null!=this._edtItem},enumerable:!0,configurable:!0}),_.prototype.editItem=function(t){t!=this._edtItem&&this.moveCurrentTo(t)&&(this.commitEdit(),this._edtItem=t,this._edtClone={},this._extend(this._edtClone,this._edtItem))},_.prototype.commitEdit=function(){var t=this._edtItem,e=this._edtClone;if(null!=t){this._committing=!0;var i=this._sameContent(t,e),n=this._pendingRefresh;this._edtItem=null,this._edtClone=null;var r=this._pgView.indexOf(t),o=this._digest;this._performRefresh(),i||this._trackItemChanged(t),this._pgView.indexOf(t)!=r||o!=this._digest||n?this._raiseCollectionChanged():this._raiseCollectionChanged(h.NotifyCollectionChangedAction.Change,t,r),this.commitNew(),this._committing=!1}},_.prototype.cancelEdit=function(){var t=this._edtItem;if(null!=t){if(this._edtItem=null,!this.canCancelEdit)return void f.assert(!1,"cannot cancel edits (canCancelEdit == false).");var e=this._src.indexOf(t);0<=e&&this._edtClone&&(this._extend(this._src[e],this._edtClone),this._edtClone=null,this._canceling=!0,this._raiseCollectionChanged(h.NotifyCollectionChangedAction.Change,t,e),this._canceling=!1,this._pendingRefresh&&(this._performRefresh(),this._raiseCollectionChanged()))}},_.prototype.addNew=function(){if(0<arguments.length&&f.assert(!1,"addNew does not take any parameters, it creates the new items."),this.commitEdit(),!this.canAddNew)return f.assert(!1,"cannot add items (canAddNew == false)."),null;var t=null,e=this.sourceCollection;if(null!=(t=this.newItemCreator?this.newItemCreator():e&&e.length?new e[0].constructor:{})){if(this._newItem=t,this._updating++,this._src.push(t),this._updating--,this._pgView!=this._src&&this._pgView.push(t),this.groups&&this.groups.length){var i=this.groups[this.groups.length-1];for(i.items.push(t);i.groups&&i.groups.length;)(i=i.groups[i.groups.length-1]).items.push(t)}this._raiseCollectionChanged(h.NotifyCollectionChangedAction.Add,t,this._pgView.length-1),this.moveCurrentTo(t)}return this._newItem},_.prototype.commitNew=function(){var t=this._newItem;if(null!=t){this._newItem=null;var e=this._pgView.indexOf(t),i=this._digest;if(this._performRefresh(),this._trackChanges){var n=this._chgEdited.indexOf(t);-1<n&&this._chgEdited.removeAt(n),this._chgAdded.indexOf(t)<0&&this._chgAdded.push(t)}this._pgView.indexOf(t)==e&&i==this._digest?this._raiseCollectionChanged(h.NotifyCollectionChangedAction.Change,t,e):this._raiseCollectionChanged()}},_.prototype.cancelNew=function(){var t=this._newItem;null!=t&&this.remove(t)},_.prototype.remove=function(t){var e=t==this._newItem;if(e&&(this._newItem=null),t==this._edtItem&&this.cancelEdit(),this.canRemove){var i=this._src.indexOf(t);if(-1<i){var n=this.currentItem;this._updating++,this._src.splice(i,1),this._updating--;var r=this._digest;if(this._performRefresh(),this._trackChanges){var o=this._chgAdded.indexOf(t);-1<o&&this._chgAdded.removeAt(o);var s=this._chgEdited.indexOf(t);-1<s&&this._chgEdited.removeAt(s),this._chgRemoved.indexOf(t)<0&&!e&&o<0&&this._chgRemoved.push(t)}var a=0<this.sortDescriptions.length,l=0<this.pageSize&&-1<this._pgIdx;a||l||r!=this._getGroupsDigest(this.groups)?this._raiseCollectionChanged():this._raiseCollectionChanged(h.NotifyCollectionChangedAction.Remove,t,i),this.currentItem!==n&&this.onCurrentChanged()}}else f.assert(!1,"cannot remove items (canRemove == false).")},_.prototype.removeAt=function(t){t=f.asInt(t),this.remove(this._pgView[t])},_.prototype._trackItemChanged=function(t){if(this._trackChanges){var e=this.sourceCollection;if(e&&-1<e.indexOf(t)){var i=this._chgEdited.indexOf(t),n=h.NotifyCollectionChangedAction.Change;if(i<0&&this._chgAdded.indexOf(t)<0)this._chgEdited.push(t);else if(-1<i){var r=new h.NotifyCollectionChangedEventArgs(n,t,i);this._chgEdited.onCollectionChanged(r)}else if(-1<(i=this._chgAdded.indexOf(t))){r=new h.NotifyCollectionChangedEventArgs(n,t,i);this._chgAdded.onCollectionChanged(r)}}}},_.prototype._extend=function(t,e){for(var i in e)t[i]=e[i]},_.prototype._sameContent=function(t,e){for(var i in f.assert(null!=e&&null!=t,"Two objects expected"),e)if(!this._sameValue(t[i],e[i]))return!1;for(var i in t)if(!this._sameValue(t[i],e[i]))return!1;return!0},_.prototype._sameValue=function(t,e){return t===e||f.DateTime.equals(t,e)},Object.defineProperty(_.prototype,"canChangePage",{get:function(){return this._canChangePage},set:function(t){this._canChangePage=f.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"isPageChanging",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"itemCount",{get:function(){return this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"pageIndex",{get:function(){return this._pgIdx},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"pageSize",{get:function(){return this._pgSz},set:function(t){t!=this._pgSz&&(this._pgSz=f.asInt(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"totalItemCount",{get:function(){return this._view.length},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"pageCount",{get:function(){return this.pageSize?Math.ceil(this.totalItemCount/this.pageSize):1},enumerable:!0,configurable:!0}),_.prototype.moveToFirstPage=function(){return this.moveToPage(0)},_.prototype.moveToLastPage=function(){return this.moveToPage(this.pageCount-1)},_.prototype.moveToPreviousPage=function(){return this.moveToPage(this.pageIndex-1)},_.prototype.moveToNextPage=function(){return this.moveToPage(this.pageIndex+1)},_.prototype.moveToPage=function(t){var e=f.clamp(t,0,this.pageCount-1);if(e!=this._pgIdx){this.canChangePage||f.assert(!1,"cannot change pages (canChangePage == false).");var i=new h.PageChangingEventArgs(e);this.onPageChanging(i)&&(this._pgIdx=e,this._pgView=this._getPageView(),this._idx=0,this.groupDescriptions&&0!=this.groupDescriptions.length?this.refresh():this.onCollectionChanged(),this.onPageChanged())}return this._pgIdx==t},_.prototype.onPageChanged=function(t){void 0===t&&(t=f.EventArgs.empty),this.pageChanged.raise(this,t)},_.prototype.onPageChanging=function(t){return this.pageChanging.raise(this,t),!t.cancel},_.prototype._getFullGroup=function(t){var e=this._getGroupByPath(this._fullGroups,t.level,t._path);return null!=e&&(t=e),t},_.prototype._getGroupByPath=function(t,e,i){for(var n=0;n<t.length;n++){var r=t[n];if(r.level==e&&r._path==i)return r;if(r.level<e&&0==i.indexOf(r._path)&&null!=(r=this._getGroupByPath(r.groups,e,i)))return r}return null},_.prototype._getPageView=function(){if(this.pageSize<=0||this._pgIdx<0)return this._view;var t=this._pgSz*this._pgIdx,e=Math.min(t+this._pgSz,this._view.length);return this._view.slice(t,e)},_.prototype._createGroups=function(t){if(!this._grpDesc||!this._grpDesc.length)return null;for(var e=[],i={},n=null,r=0;r<t.length;r++)for(var o=t[r],s=e,a=this._grpDesc.length,l="",h=0;h<a;h++){var c=this._grpDesc[h],u=c.groupNameFromItem(o,h),p=h==a-1;!(n=i[l])&&f.isPrimitive(u)&&(n={},i[l]=n);var d=this._getGroup(c,s,n,u,h,p);l+="/"+u,d._path=l,p&&d.items.push(o),s=d.groups}return e},_.prototype._getGroupsDigest=function(t){for(var e="",i=0;null!=t&&i<t.length;i++){var n=t[i];e+="{"+n.name+":"+(n.items?n.items.length:"*"),0<n.groups.length&&(e+=",",e+=this._getGroupsDigest(n.groups)),e+="}"}return e},_.prototype._mergeGroupItems=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];if(!n._isBottomLevel)for(var r=this._mergeGroupItems(n.groups),o=0,s=r.length;o<s;o++)n._items.push(r[o]);for(o=0,s=n._items.length;o<s;o++)e.push(n._items[o])}return e},_.prototype._getGroup=function(t,e,i,n,r,o){var s;if(i&&f.isPrimitive(n)){if(s=i[n])return s}else for(var a=0;a<e.length;a++)if(t.namesMatch(e[a].name,n))return e[a];var l=new c(t,n,r,o);return e.push(l),i&&(i[n]=l),l},_._collator="undefined"!=typeof window&&window.Intl?new Intl.Collator:null,_}();h.CollectionView=o;var c=function(){function t(t,e,i,n){this._gd=t,this._name=e,this._level=i,this._isBottomLevel=n,this._groups=[],this._items=[]}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBottomLevel",{get:function(){return this._isBottomLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupDescription",{get:function(){return this._gd},enumerable:!0,configurable:!0}),t.prototype.getAggregate=function(t,e,i){var n=f.tryCast(i,o),r=n?n._getFullGroup(this):this;return f.getAggregate(t,r.items,e)},t}();h.CollectionViewGroup=c}(f.collections||(f.collections={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(s){"use strict";var t=function(){function o(t){this._showAutoTipBnd=this._showAutoTip.bind(this),this._hideAutoTipBnd=this._hideAutoTip.bind(this),this._html=!0,this._gap=6,this._showAtMouse=!1,this._showDelay=500,this._hideDelay=0,this._tips=[],this.popup=new s.Event,s.copy(this,t)}return o.prototype.setTooltip=function(t,e){t=s.getElement(t),e=this._getContent(e);var i=this._indexOf(t);-1<i&&(this._detach(t),this._tips.splice(i,1)),e&&(this._attach(t),this._tips.push({element:t,content:e}))},o.prototype.getTooltip=function(t){t=s.getElement(t);for(var e=this._tips,i=0;i<e.length;i++)if(e[i].element==t)return e[i].content;return null},o.prototype.show=function(t,e,i){t=s.getElement(t),e=this._getContent(e),i||(i=s.Rect.fromBoundingRect(t.getBoundingClientRect()));var n=o._eTip;n||(n=o._eTip=document.createElement("div"),s.addClass(n,"wj-tooltip"),n.style.visibility="none"),this._setContent(e);var r=new a(e);this.onPopup(r),r.content&&!r.cancel&&(document.body.appendChild(n),this._setContent(r.content),n.style.minWidth="",i=new s.Rect(i.left-(n.offsetWidth-i.width)/2,i.top-this.gap,n.offsetWidth,i.height+2*this.gap),s.showPopup(n,i,!0),document.addEventListener("mousedown",this._hideAutoTipBnd))},o.prototype.hide=function(){var t=o._eTip;t&&(s.removeChild(t),t.innerHTML=""),document.removeEventListener("mousedown",this._hideAutoTipBnd)},o.prototype.dispose=function(){var e=this;this._tips.forEach(function(t){e._detach(t.element)}),this._tips.splice(0,this._tips.length)},Object.defineProperty(o.prototype,"isVisible",{get:function(){var t=o._eTip;return null!=t&&null!=t.parentElement&&0<t.offsetWidth},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){this._html=s.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap=s.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showAtMouse",{get:function(){return this._showAtMouse},set:function(t){this._showAtMouse=s.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showDelay",{get:function(){return this._showDelay},set:function(t){this._showDelay=s.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"hideDelay",{get:function(){return this._hideDelay},set:function(t){this._hideDelay=s.asInt(t)},enumerable:!0,configurable:!0}),o.prototype.onPopup=function(t){return this.popup&&this.popup.raise(this,t),!t.cancel},o.prototype._indexOf=function(t){for(var e=0;e<this._tips.length;e++)if(this._tips[e].element==t)return e;return-1},o.prototype._attach=function(t){t.addEventListener("mouseenter",this._showAutoTipBnd),t.addEventListener("mouseleave",this._hideAutoTipBnd),t.addEventListener("click",this._showAutoTipBnd)},o.prototype._detach=function(t){t.removeEventListener("mouseenter",this._showAutoTipBnd),t.removeEventListener("mouseleave",this._hideAutoTipBnd),t.removeEventListener("click",this._showAutoTipBnd)},o.prototype._showAutoTip=function(n){var r=this;if(!n.defaultPrevented)if("click"!=n.type||s.Control._touching){var t="mouseenter"==n.type?this._showDelay:0;this._clearTimeouts(),this._toShow=setTimeout(function(){var t=r._indexOf(n.target);if(-1<t){var e=r._tips[t],i=r._showAtMouse?new s.Rect(n.clientX,n.clientY,0,0):null;r.show(e.element,e.content,i),0<r._hideDelay&&(r._toHide=setTimeout(function(){r.hide()},r._hideDelay))}},t)}else this._hideAutoTip()},o.prototype._hideAutoTip=function(){this._clearTimeouts(),this.hide()},o.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},o.prototype._getContent=function(t){if((t=s.asString(t))&&"#"==t[0]){var e=s.getElement(t);e&&(t=e.innerHTML)}return t},o.prototype._setContent=function(t){var e=o._eTip;e&&(this.isContentHtml?e.innerHTML=t:e.textContent=t)},o}();s.Tooltip=t;var a=function(i){function t(t){var e=i.call(this)||this;return e._content=s.asString(t),e}return __extends(t,i),Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(t){this._content=s.asString(t)},enumerable:!0,configurable:!0}),t}(s.CancelEventArgs);s.TooltipEventArgs=a}(wijmo||(wijmo={})),function(u){"use strict";var t=function(){function c(t){this._r=0,this._g=0,this._b=0,this._a=1,t&&this._parse(t)}return Object.defineProperty(c.prototype,"r",{get:function(){return this._r},set:function(t){this._r=u.clamp(u.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"g",{get:function(){return this._g},set:function(t){this._g=u.clamp(u.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"b",{get:function(){return this._b},set:function(t){this._b=u.clamp(u.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"a",{get:function(){return this._a},set:function(t){this._a=u.clamp(u.asNumber(t),0,1)},enumerable:!0,configurable:!0}),c.prototype.equals=function(t){return t instanceof c&&this.r==t.r&&this.g==t.g&&this.b==t.b&&this.a==t.a},c.prototype.toString=function(){var t=Math.round(100*this.a);return 99<t?"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1):"rgba("+this.r+","+this.g+","+this.b+","+t/100+")"},c.fromRgba=function(t,e,i,n){void 0===n&&(n=1);var r=new c(null);return r.r=Math.round(u.clamp(u.asNumber(t),0,255)),r.g=Math.round(u.clamp(u.asNumber(e),0,255)),r.b=Math.round(u.clamp(u.asNumber(i),0,255)),r.a=u.clamp(u.asNumber(n),0,1),r},c.fromHsb=function(t,e,i,n){void 0===n&&(n=1);var r=c._hsbToRgb(u.clamp(u.asNumber(t),0,1),u.clamp(u.asNumber(e),0,1),u.clamp(u.asNumber(i),0,1));return c.fromRgba(r[0],r[1],r[2],n)},c.fromHsl=function(t,e,i,n){void 0===n&&(n=1);var r=c._hslToRgb(u.clamp(u.asNumber(t),0,1),u.clamp(u.asNumber(e),0,1),u.clamp(u.asNumber(i),0,1));return c.fromRgba(r[0],r[1],r[2],n)},c.fromString=function(t){var e=new c(null);return e._parse(u.asString(t))?e:null},c.prototype.getHsb=function(){return c._rgbToHsb(this.r,this.g,this.b)},c.prototype.getHsl=function(){return c._rgbToHsl(this.r,this.g,this.b)},c.interpolate=function(t,e,i){i=u.clamp(u.asNumber(i),0,1);var n=c._rgbToHsl(t.r,t.g,t.b),r=c._rgbToHsl(e.r,e.g,e.b),o=1-i,s=t.a*o+e.a*i,a=[n[0]*o+r[0]*i,n[1]*o+r[1]*i,n[2]*o+r[2]*i],l=c._hslToRgb(a[0],a[1],a[2]);return c.fromRgba(l[0],l[1],l[2],s)},c.toOpaque=function(t,e){if(1==(t=u.isString(t)?c.fromString(t):u.asType(t,c)).a)return t;e=null==e?c.fromRgba(255,255,255,1):u.isString(e)?c.fromString(e):u.asType(e,c);var i=t.a,n=1-i;return c.fromRgba(t.r*i+e.r*n,t.g*i+e.g*n,t.b*i+e.b*n)},c.prototype._parse=function(t){if("transparent"==(t=t.toLowerCase()))return this._r=this._g=this._b=this._a=0,!0;if(t&&0!=t.indexOf("#")&&0!=t.indexOf("rgb")&&0!=t.indexOf("hsl")){var e=document.createElement("div");e.style.color=t;var i=e.style.color;i==t&&((i=window.getComputedStyle(e).color)||(document.body.appendChild(e),i=window.getComputedStyle(e).color,u.removeChild(e))),t=i.toLowerCase()}if(0==t.indexOf("#"))return 4==t.length?(this.r=parseInt(t[1]+t[1],16),this.g=parseInt(t[2]+t[2],16),this.b=parseInt(t[3]+t[3],16),this.a=1,!0):7==t.length&&(this.r=parseInt(t.substr(1,2),16),this.g=parseInt(t.substr(3,2),16),this.b=parseInt(t.substr(5,2),16),this.a=1,!0);if(0==t.indexOf("rgb")){var n=t.indexOf("("),r=t.indexOf(")");if(-1<n&&-1<r)if(2<(o=t.substr(n+1,r-(n+1)).split(",")).length)return this.r=parseInt(o[0]),this.g=parseInt(o[1]),this.b=parseInt(o[2]),this.a=3<o.length?parseFloat(o[3]):1,!0}if(0==t.indexOf("hsl")){var o;n=t.indexOf("("),r=t.indexOf(")");if(-1<n&&-1<r)if(2<(o=t.substr(n+1,r-(n+1)).split(",")).length){var s=parseInt(o[0])/360,a=parseInt(o[1]),l=parseInt(o[2]);-1<o[1].indexOf("%")&&(a/=100),-1<o[2].indexOf("%")&&(l/=100);var h=c._hslToRgb(s,a,l);return this.r=h[0],this.g=h[1],this.b=h[2],this.a=3<o.length?parseFloat(o[3]):1,!0}}return!1},c._hslToRgb=function(t,e,i){var n,r,o;if(u.assert(0<=t&&t<=1&&0<=e&&e<=1&&0<=i&&i<=1,"bad HSL values"),0==e)n=r=o=i;else{var s=i<.5?i*(1+e):i+e-i*e,a=2*i-s;n=c._hue2rgb(a,s,t+1/3),r=c._hue2rgb(a,s,t),o=c._hue2rgb(a,s,t-1/3)}return[Math.round(255*n),Math.round(255*r),Math.round(255*o)]},c._hue2rgb=function(t,e,i){return i<0&&(i+=1),1<i&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},c._rgbToHsl=function(t,e,i){u.assert(0<=t&&t<=255&&0<=e&&e<=255&&0<=i&&i<=255,"bad RGB values"),t/=255,e/=255,i/=255;var n,r,o=Math.max(t,e,i),s=Math.min(t,e,i),a=(o+s)/2;if(o==s)n=r=0;else{var l=o-s;switch(r=.5<a?l/(2-o-s):l/(o+s),o){case t:n=(e-i)/l+(e<i?6:0);break;case e:n=(i-t)/l+2;break;case i:n=(t-e)/l+4}n/=6}return[n,r,a]},c._rgbToHsb=function(t,e,i){u.assert(0<=t&&t<=255&&0<=e&&e<=255&&0<=i&&i<=255,"bad RGB values");var n=c._rgbToHsl(t,e,i);return c._hslToHsb(n[0],n[1],n[2])},c._hsbToRgb=function(t,e,i){var n=c._hsbToHsl(t,e,i);return c._hslToRgb(n[0],n[1],n[2])},c._hsbToHsl=function(t,e,i){u.assert(0<=t&&t<=1&&0<=e&&e<=1&&0<=i&&i<=1,"bad HSB values");var n=u.clamp(i*(2-e)/2,0,1),r=1-Math.abs(2*n-1),o=u.clamp(0<r?i*e/r:e,0,1);return u.assert(!isNaN(n)&&!isNaN(o),"bad conversion to HSL"),[t,o,n]},c._hslToHsb=function(t,e,i){u.assert(0<=t&&t<=1&&0<=e&&e<=1&&0<=i&&i<=1,"bad HSL values");var n=u.clamp(1==i?1:(2*i+e*(1-Math.abs(2*i-1)))/2,0,1),r=u.clamp(0<n?2*(n-i)/n:e,0,1);return u.assert(!isNaN(n)&&!isNaN(r),"bad conversion to HSB"),[t,r,n]},c}();u.Color=t}(wijmo||(wijmo={})),function(o){"use strict";var t=function(){function e(){}return e.copy=function(t){e._copyPaste(o.asString(t),null)},e.paste=function(t){e._copyPaste(null,o.asFunction(t))},e._copyPaste=function(t,e){for(var i=o.getActiveElement(),n=o.closest(i,".wj-control");n&&o.Control.getControl(n);)n=n.parentElement;if(n=n||document.body){var r=o.createElement('<textarea class="wj-clipboard" style="position:fixed;opacity:0"/>',n);o.isString(t)&&(r.value=t),r.select(),r.onkeydown=function(t){t.preventDefault()},setTimeout(function(){i.focus(),o.removeChild(r),o.isFunction(e)&&e(r.value)},o.Control._CLIPBOARD_DELAY)}},e}();o.Clipboard=t}(wijmo||(wijmo={})),function(D){"use strict";function I(t,e){t.style.display="none",e&&t.parentElement&&setTimeout(function(){"none"==t.style.display&&(D.removeChild(t),D.isFunction(e)&&e())},D.Control._FOCUS_INTERVAL+1);var i=t[D.Control._SCRL_KEY];i instanceof D.Control&&i.dispose(),delete t[D.Control._SCRL_KEY],delete t[D.Control._OWNR_KEY]}function O(t){var e=window.jQuery,i=D.isFunction(e)?e(t):null;return i&&D.isFunction(i.dialog)&&D.hasClass(t,"ui-dialog")}D.showPopup=function(r,o,t,e,i){void 0===i&&(i=!0);var n=document.body;if(o instanceof HTMLElement){if(!D.contains(document.body,o))return;for(var s=o;s;s=s.parentElement)if(O(s)||"fixed"==getComputedStyle(s).position){n=s;break}}D.setCss(r,{display:"",opacity:"0",position:"fixed",left:0,top:0}),r.offsetHeight&&r.offsetWidth&&r.parentElement==n||n.lastChild!=r&&n.appendChild(r);var a=document.body,l=new D.Point(a.scrollLeft||pageXOffset,a.scrollTop||pageYOffset),h=document.documentElement,c=h.clientWidth/window.innerWidth;if(n!=a||1.005<c){var u=n==a?h:r.offsetParent||n;if(O(n)&&n.offsetParent&&(u=n.offsetParent),u){var p=u.getBoundingClientRect();l=new D.Point(u.scrollLeft-p.left,u.scrollTop-p.top)}}r.offsetHeight&&r.offsetWidth&&D.contains(n,r)||n.lastChild!=r&&n.appendChild(r);var d=null;o instanceof HTMLElement&&(d=getComputedStyle(o),i&&new D.Color(d.backgroundColor).a&&D.setCss(r,{color:d.color,backgroundColor:d.backgroundColor,fontFamily:d.fontFamily,fontSize:d.fontSize,fontWeight:d.fontWeight,fontStyle:d.fontStyle})),D.Control.refreshAll(r);var _=getComputedStyle(r),f=parseFloat(_.marginTop)+parseFloat(_.marginBottom),g=parseFloat(_.marginLeft)+parseFloat(_.marginRight),m=new D.Size(r.offsetWidth+g,r.offsetHeight+f),y=new D.Point,v=null,b=h.clientWidth,w=h.clientHeight;if(o&&null!=o.clientX&&null!=o.clientY&&null!=o.pageX&&null!=o.pageY)o.clientX<=0&&o.clientY<=0&&o.target?v=o.target.getBoundingClientRect():(y.x=Math.max(0,o.pageX-pageXOffset),y.y=Math.max(0,o.pageY-pageYOffset));else if(o instanceof D.Point)y=o;else if(o instanceof HTMLElement)v=o.getBoundingClientRect();else if(o&&null!=o.top&&null!=o.left)v=o;else{if(null!=o)throw"Invalid ref parameter.";y.x=Math.max(0,(b-m.width)/2),y.y=Math.max(0,Math.round((w-m.height)/2*.7))}var C=parseFloat(_.minWidth);if(v){C=Math.max(C,v.width),D.isIE()&&(C-=r.offsetWidth-(r.clientWidth+parseInt(_.borderLeftWidth)+parseInt(_.borderRightWidth)));var x=v.top,S=w-v.bottom;y.x=Math.max(0,Math.min(v.left,b-m.width)),y.y=t?x>m.height||S<x?Math.max(0,v.top-m.height):v.bottom:S>m.height||x<S?v.bottom:Math.max(0,v.top-m.height)}else y.y+m.height>w-20&&(y.y=Math.max(0,w-20-m.height)),y.x+m.width>b-20&&(y.x=Math.max(0,b-20-m.width));var E={position:"absolute",opacity:"",left:y.x+l.x,top:y.y+l.y,minWidth:C,zIndex:D.Control._POPUP_ZINDEX,pointerEvents:"auto"};o instanceof HTMLElement&&(r[D.Control._OWNR_KEY]=o);var P=null;e&&(E.opacity="0",P=D.animate(function(t){r.style.opacity=t<1?t.toString():""})),D.setCss(r,E);var T=o instanceof MouseEvent?o.target:o;if(T instanceof HTMLElement&&T.parentElement!=document.body){var M=Date.now(),A=T.getBoundingClientRect(),R=new D.Control(document.createElement("div"));(r[D.Control._SCRL_KEY]=R).addEventListener(document,"scroll",function(t){if(100<Date.now()-M&&D.contains(document,T)&&!D.contains(r,t.target)&&(t.target!=document||null!=o&&"fixed"==r.style.position)){var e=T.getBoundingClientRect(),i=Math.abs(e.left-A.left),n=Math.abs(e.top-A.top);(1<i||1<n)&&I(r,!0)}},!0)}return P},D.hidePopup=function(e,i,t){void 0===i&&(i=!0),void 0===t&&(t=!1);var n=null;return t?n=D.animate(function(t){e.style.opacity=(1-t).toString(),1==t&&(I(e,i),e.style.opacity="")}):I(e,i),n}}(wijmo||(wijmo={})),function(a){"use strict";var t=function(){function t(t){this._copyCss=!0,null!=t&&a.copy(this,t)}return Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){this._title=a.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyCss",{get:function(){return this._copyCss},set:function(t){this._copyCss=a.asBoolean(t)},enumerable:!0,configurable:!0}),t.prototype.addCSS=function(t){this._css||(this._css=[]),this._css.push(t)},t.prototype.append=function(t){var e=this._getDocument(),i=e.body,n=!1;if(i)if(a.isString(t))i.appendChild(a.createElement(t));else if(t instanceof Node){var r=this._cloneNode(t);i.appendChild(r)}else n=!0;else if(a.isString(t))e.write(t);else if(t instanceof HTMLElement){r=this._cloneNode(t);e.write(r.outerHTML)}else n=!0;n&&a.assert(!1,"child parameter should be an HTML node or an HTML string.")},t.prototype.print=function(){var i=this;this._iframe&&(this._close(),setTimeout(function(){var t=i._iframe.contentWindow,e="onafterprint"in t&&!a.isFirefox();e&&(t.onafterprint=function(){a.removeChild(i._iframe),i._iframe=null}),document.queryCommandSupported("print")?t.document.execCommand("print",!1,null):(t.focus(),t.print()),e||(a.removeChild(i._iframe),i._iframe=null)},100))},t.prototype._cloneNode=function(r){var o=r.cloneNode(!0);if(r instanceof HTMLElement&&o instanceof HTMLElement){["select","textarea"].forEach(function(t){for(var e=r.querySelectorAll(t),i=o.querySelectorAll(t),n=0;n<e.length;n++)i[n].value=e[n].value})}return o},t.prototype._getDocument=function(){this._iframe||(this._iframe=document.createElement("iframe"),a.addClass(this._iframe,"wj-printdocument"),a.setCss(this._iframe,{position:"fixed",left:1e4,top:1e4}),document.body.appendChild(this._iframe),this._iframe.contentDocument.write('<body style="position:static"/>'));return this._iframe.contentDocument},t.prototype._close=function(){var t=this._getDocument();if(t.close(),t.title=null!=this.title?this.title:document.title,t.title&&t.title.trim()||(t.title=" "),this._copyCss){for(var e=document.head.querySelectorAll("link"),i=0;i<e.length;i++){var n=e[i];if(n.href.match(/\.css$/i)&&n.rel.match(/stylesheet/i)){var r=a.httpRequest(n.href,{async:!1});this._addStyle(r.responseText)}}var o=document.head.querySelectorAll("STYLE");for(i=0;i<o.length;i++)this._addStyle(o[i].textContent)}if(this._css)for(i=0;i<this._css.length;i++){var s=t.createElement("style");r=a.httpRequest(this._css[i],{async:!1});s.textContent=r.responseText,t.head.appendChild(s)}},t.prototype._addStyle=function(t){var e=this._getDocument(),i=e.createElement("style");i.textContent=t,e.head.appendChild(i)},t}();a.PrintDocument=t}(wijmo||(wijmo={})),function(h){"use strict";var t="The Wijmo license in this application ",c={evl:"Wijmo Evaluation Version ({version})",prd:t+"is not valid for the <b>{control}</b> control.",ver:t+"is not valid for the version in use. The license version is <b>{licVer}</b>; the product version is <b>{version}</b>.",dmn:t+"is not valid for the current domain. The license domain is <b>{licDomain}</b>; the current domain is <b>{domain}</b>.",exp:t+"has expired. The license expiration date is <b>{expDate:d}</b>.",lic:t+"is invalid.",mss:t+"is not set.",ctc:'Please <a target="_blank" rel="noopener" href="https://www.grapecity.com/en/licensing/wijmo">create a license</a> or contact GrapeCity: <a href="mailto:us.sales@grapecity.com">us.sales@grapecity.com</a>.',hdr:"Wijmo License",cls:"CLOSE"},u={};function o(t){return t._getProductInfo().split(",")[0]}function r(t,e,i){var n=h.culture.Licensing||c,r=null;i?!function(t,e){if(e.Exp){var i=e.Exp,n=new Date(parseInt(i.substr(0,4))||0,parseInt(i.substr(4,2))-1||0,parseInt(i.substr(6,2))||0),r=Math.ceil((n.valueOf()-Date.now())/864e5);if(r<=0)return!1}return!0}(0,i)?r=n.exp:!function(t,e){var i=e.Anl?e.Anl.ver:null,n=h.getVersion();if(i&&n){var r=parseInt(i.replace("v",""))+10,o=parseInt(n.split(".")[1]);return o<=r}return!0}(0,i)?r=n.ver:!function(t,e){if(d()||!e.Dms)return!0;for(var i=location.hostname,n=e.Dms.split(","),r=!1,o=0;o<n.length;o++){var s=n[o];if((s=(r=s&&0==s.lastIndexOf("*.",0))?s.slice(2):s)==i)return!0;if(r){var a=i.indexOf("."+s);if(0<a&&a==i.length-s.length-1)return!0}}return!1}(0,i)?r=n.dmn:!function(t,e){var i=o(t);if(i&&4<=i.length)for(var n=0;n<e.Prd.length;n++)if(-1<e.Prd[n].C.indexOf(i))return!0;return!1}(t,i)?r=n.prd:p(t,i)&&(r=n.evl):r=e?n.lic:n.mss,r&&function(t,e,i){if(e=_(t,e,i),!u[" "]&&!d()&&!p(t,i)){u[" "]=!0;var n=h.culture.Licensing||c,r='<div style="position:fixed;background:rgba(0,0,0,0.3);left:0;top:0;width:100%;height:100%;font-family: sans-serif;z-index:10000;"><div style="position:relative;background:white;width:450px;padding:36pt;left:50%;top:50%;transform:translate(-50%,-50%)"><div><p style="font-size:150%;font-weight:bold">'+n.hdr+"</p><p>"+e+'</p></div><div style="text-align:right;margin-top:24pt"><button style="border:none;background:rgba(158,158,158,.2);padding:8px 16px">'+n.cls+"</button></div></div></div>",o=h.createElement(r,document.body);o.addEventListener("click",function(t){t.target instanceof HTMLButtonElement&&h.removeChild(o)})}if(!h.Control._wme){var r='<div><a href="'+("ja"==h.culture.Globalize.name?"https://www.grapecity.co.jp/developer/support/wijmo-license":"https://www.grapecity.com/en/licensing/wijmo")+'" target="_blank" rel="noopener">'+_(t)+"</a></div>",s=h.createElement(r),a={position:"fixed",display:"block",visibility:"visible",background:"rgba(240,240,240,.9)",padding:"8px 12px",margin:"6px",fontFamily:"sans-serif",fontSize:"14pt",fontWeight:"bold",zIndex:1e4,opacity:.8,height:"auto",width:"auto",transform:"none"};switch(Math.round(100*Math.random())%3){case 0:a.right=a.bottom=0;break;case 1:a.left=a.bottom=0;break;case 2:a.right=a.top=0}h.setCss(s,a),document.body.appendChild(s),h.Control._wme=s;var l=new h.Tooltip;l.setTooltip(s,e)}}(t,r+="<br/><br/>"+n.ctc,i)}function p(t,e){return!!e&&e.Evl}function d(){var t=atob("Xih8bG9jYWxob3N0fGZpZGRsZS5qc2hlbGwubmV0fHJ1bi5wbG5rci5jb3xzLmNvZGVwZW4uaW98bnVsbC5qc2Jpbi5jb218MTI3LjAuMC4xKSQ="),e=new RegExp(t,"i");return location.hostname.match(e)}function _(t,e,i){(!e||e.trim().length<15)&&(e=(h.culture.Licensing||c).evl);(!e||e.trim().length<15)&&(e=atob("V2lqbW8gRXZhbHVhdGlvbiBWZXJzaW9uICh7dmVyc2lvbn0p"));var n,r=null;if(i&&i.Exp){var o=i.Exp;r=new Date(parseInt(o.substr(0,4))||0,parseInt(o.substr(4,2))-1||0,parseInt(o.substr(6,2))||0)}return e=h.format(e,{version:h.getVersion(),domain:location.hostname,control:(n=t,n._getProductInfo().split(",")[1]),licVer:i&&i.Anl?"5."+i.Anl.ver.replace("v","")+".*":null,licDomain:i?i.Dms:null,expDate:r})}h._updateWme=function(e,i){var t=h.Control._wme;if(!(t&&h.contains(document.body,t)&&t.offsetWidth&&t.offsetHeight))if(i){var n=o(e);u[n]||(u[n]=!0,function(t,e,o,s){var i=function(t,e){try{e="#"+e;var i=t.indexOf(e);if(-1<i)return{prefix:t.substring(0,i),licData:JSON.parse(function(t){if(!t)return"";var e=function(t){for(var e=t.split(""),i=e.length-5;0<=i;i--)g(e,i+1,i+3,m),g(e,i,i+2,m);return e.join("")}(t);e=e.split("").reverse().join("");var i,n=Math.ceil(e.length/2);return i=e=(e=(e=e.substr(n)+e.substr(0,n)).replace("#","=")).replace("&","=="),decodeURIComponent(Array.prototype.map.call(atob(i),function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""))}(t.substr(i+e.length)))}}catch(t){}return null}(t,e.algorithmCode);if(!i)return s();var a=i.licData,l=i.prefix+"#"+e.algorithmCode;if(function(t){for(var e=0,i=5381,n=0,r=t.length-1;0<=r;r--){var o=t.charCodeAt(r);e=o+(e<<6)+(e<<16)-e,i=o+((i<<5)+i),n=o+((n<<5)-n),n&=n}var s=e^i^n;return s<0&&(s=~s),s.toString(16).toUpperCase()}(l+JSON.stringify(a.D))!=a.H)return s();var n=window.msCrypto||window.crypto,h=n?n.subtle:null;if(!h||!location.protocol.match(/^https/i))return o(a.D);var r,c={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},u={alg:"RS256",e:"AQAB",kty:"RSA",n:(r=e.publicKey,r.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,""))};u=window.msCrypto?v(JSON.stringify(u)):u;try{var p=b(h.importKey("jwk",u,c,!1,["verify"]));p.then(function(t){var e,i,n=l+(e=y((i=JSON.stringify(a.D),btoa(encodeURIComponent(i).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode(parseInt(e,16))})))),String.fromCharCode.apply(null,new f(e))),r=b(h.verify(c,t,y(a.S),v(n)));r.then(function(t){return t?o(a.D):s()})},function(){return o(a.D)})}catch(t){return o(a.D)}}(i,{algorithmCode:"B0",publicKey:"l6/zrbWoSbcLFwEetFh38rH3ErBZE9H+Cqix3R+wTlfA1wD5B+lUcCQn+EJ60I4RGrm0x1sFjkiLWwB0jAn6BWZv0W4WbqAKriOdeoivxDp1Wmjs3qkEDhvbsjPtfvwx2BHil6o+/tDrdMJQSGs18WZm2PoQLQuL+9VhZ4FNRHUQU3Jtioke/OZEGHJOdYVwvCGalzBad6QFOiVbDBQPePpS3++GJzOxN8SN/7lyS5/IdKiy3WJRaVGkB370+HbN6hKraDfUgReLX26yxRaKC/5aWnGAJ2NnWLoGyAGRcwT9dVjo4bcAZNrrA0U9JVKQxaSskhdv2p49XzJkltXx5w=="},function(t){r(e,i,t)},function(){r(e,i,null)}),setTimeout(function(){delete u[n]},50))}else r(e,null,null)};var f="undefined"==typeof window?null:window.Uint8Array||window.TypedArray;function g(t,e,i,n){1<t.length&&t.splice(i,1,n(t.splice(e,1,n(t[i]))[0]))}function m(t){return i=-1,65<=(n=(e=t).charCodeAt(0))&&n<=90?e.toLowerCase():97<=n&&n<=122?e.toUpperCase():48<=n&&n<=57?String.fromCharCode(48+(n-48+10+i)%10):e;var e,i,n}function y(t){for(var e=atob(t),i=e.length,n=new f(i),r=0;r<i;r++)n[r]=e.charCodeAt(r);return n.buffer}function v(t){for(var e=new ArrayBuffer(t.length),i=new f(e),n=0,r=t.length;n<r;n++)i[n]=t.charCodeAt(n);return e}function b(i){return"oncomplete"in i&&(i.then=function(t,e){i.resolve=t,i.reject=e},i.oncomplete=function(t){i.resolve(i.result)},i.onerror=function(t){i.reject()}),i}}(wijmo||(wijmo={})),function(l){"use strict";var t=function(){function n(t,e,i){void 0===e&&(e=null),void 0===i&&(i="_"),this._promptChar="_",this._mskArr=[],this._full=!0,this._hbInput=this._input.bind(this),this._hbKeyDown=this._keydown.bind(this),this._hbKeyPress=this._keypress.bind(this),this._hbCompositionStart=this._compositionstart.bind(this),this._hbCompositionEnd=this._compositionend.bind(this),this.mask=l.asString(e),this.input=t,this.promptChar=l.asString(i,!1),this._connect(!0),this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1)}return Object.defineProperty(n.prototype,"input",{get:function(){return this._tbx},set:function(t){this._connect(!1),this._tbx=t,this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mask",{get:function(){return this._msk},set:function(t){t!=this._msk&&(this._msk=l.asString(t,!0),this._parseMask(),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"promptChar",{get:function(){return this._promptChar},set:function(t){t!=this._promptChar&&(this._promptChar=l.asString(t,!1),l.assert(1==this._promptChar.length,"promptChar must be a string with length 1."),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maskFull",{get:function(){return this._full},enumerable:!0,configurable:!0}),n.prototype.getMaskRange=function(){return this._mskArr.length?[this._firstPos,this._lastPos]:[0,this._tbx.value.length-1]},n.prototype.getRawValue=function(){var t=this._tbx.value,e="";if(!this.mask)return t;for(var i=0;i<this._mskArr.length&&i<t.length;i++)this._mskArr[i].literal||t[i]==this._promptChar||(e+=t[i]);return e},n.prototype.refresh=function(){this._parseMask(),this._valueChanged()},n.prototype._input=function(t){var e=this;this._composing?t.stopImmediatePropagation():setTimeout(function(){e._valueChanged()})},n.prototype._keydown=function(t){if(t.keyCode==l.Key.Back){var e=this._tbx.selectionStart,i=this._tbx.selectionEnd;if(e<=this._firstPos&&i==e)return t.preventDefault(),void(this._backSpace=!1)}this._backSpace=t.keyCode==l.Key.Back},n.prototype._keypress=function(t){t.ctrlKey||t.metaKey||t.altKey||this._composing||!this._preventKey(t.charCode)||t.preventDefault()},n.prototype._compositionstart=function(t){this._composing=!0},n.prototype._compositionend=function(t){var e=this;this._composing&&(this._composing=!1,setTimeout(function(){e._tbx&&(e._valueChanged()||l.setSelectionRange(e._tbx,e._tbx.value.length),e._tbx.dispatchEvent(e._evtInput))}))},n.prototype._preventKey=function(t){if(t&&this._mskArr.length){var e=this._tbx,i=e.selectionStart,n=String.fromCharCode(t);if(i<this._firstPos&&(i=this._firstPos,l.setSelectionRange(e,i)),i>=this._mskArr.length)return!0;var r=this._mskArr[i];if(r.literal)this._validatePosition(i);else if(r.wildCard!=n&&!this._isCharValid(r.wildCard,n))return!0}return!1},n.prototype._connect=function(t){var e=this._tbx;e&&(l.assert(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected."),t?(this._autoComplete=e.autocomplete,this._spellCheck=e.spellcheck,e.autocomplete="off",e.spellcheck=!1,e.addEventListener("input",this._hbInput),e.addEventListener("keydown",this._hbKeyDown,!0),e.addEventListener("keypress",this._hbKeyPress,!0),e.addEventListener("compositionstart",this._hbCompositionStart,!0),e.addEventListener("compositionend",this._hbCompositionEnd,!0),e.addEventListener("blur",this._hbCompositionEnd,!0),this._valueChanged()):(e.autocomplete=this._autoComplete,e.spellcheck=this._spellCheck,e.removeEventListener("input",this._hbInput),e.removeEventListener("keydown",this._hbKeyDown,!0),e.removeEventListener("keypress",this._hbKeyPress,!0),e.removeEventListener("compositionstart",this._hbCompositionStart,!0),e.removeEventListener("compositionend",this._hbCompositionEnd,!0),e.removeEventListener("blur",this._hbCompositionEnd,!0)))},n.prototype._valueChanged=function(){if(!this._tbx||!this._msk)return!1;var t=this._tbx,e=t.value.length<2,i=t.selectionStart,n=0<i?t.value[i-1]:"",r=t.value;t.value=this._applyMask(),e&&(i=this._firstPos+1);var o=0<i?t.value[i-1]:"";return 0<i&&o==this._promptChar&&n!=this.promptChar&&i--,i==r.length&&(i=this._matchEnd),this._validatePosition(i),r!=t.value},n.prototype._applyMask=function(){this._full=!0,this._matchEnd=0;var t=this._tbx.value;if(!this._msk)return t;if(!t&&!this._tbx.required)return t;var e="",i=0,n=this._promptChar;t=this._handleVagueLiterals(t);for(var r=0;r<this._mskArr.length;r++){var o=this._mskArr[r],s=o.literal;if(s&&s==t[i]&&i++,o.wildCard){if(s=n,t){for(var a=i;a<t.length;a++)if(this._isCharValid(o.wildCard,t[a])){switch(s=t[a],o.charCase){case">":s=s.toUpperCase();break;case"<":s=s.toLowerCase()}s!=n&&(this._matchEnd=e.length+1);break}i=a+1}s==n&&(this._full=!1)}e+=s}return e},n.prototype._handleVagueLiterals=function(t){if(t.length>this._mskArr.length+1)return t;var e=t.length-this._mskArr.length;if(0!=e&&1<t.length){for(var i=-1,n=this._tbx,r=n==l.getActiveElement()?n.selectionStart:n.value.length,o=Math.max(0,r-e);o<this._mskArr.length;o++)if(this._mskArr[o].vague){i=o;break}if(-1<i)if(e<0){var s=Array(1-e).join(this._promptChar),a=i+e;-1<a&&(t=t.substr(0,a)+s+t.substr(a))}else{for(;0<i&&this._mskArr[i-1].literal;)i--;t=t.substr(0,i)+t.substr(i+e)}}return t},n.prototype._isCharValid=function(t,e){var i=this._promptChar;switch(t){case"0":return"0"<=e&&e<="9"||e==i;case"9":return"0"<=e&&e<="9"||" "==e||e==i;case"#":return"0"<=e&&e<="9"||" "==e||"+"==e||"-"==e||e==i;case"L":return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||e==i;case"l":return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||" "==e||e==i;case"A":return"0"<=e&&e<="9"||"a"<=e&&e<="z"||"A"<=e&&e<="Z"||e==i;case"a":return"0"<=e&&e<="9"||"a"<=e&&e<="z"||"A"<=e&&e<="Z"||" "==e||e==i;case"９":return"０"<=e&&e<="９"||e==i;case"Ｊ":case"Ｇ":return!("Ｇ"==t&&-1<n._X_DBCS_BIG_HIRA.indexOf(e))&&("ぁ"<=e&&e<="ゖ"||e==i);case"Ｋ":case"Ｎ":return!("Ｎ"==t&&-1<n._X_DBCS_BIG_KATA.indexOf(e))&&("ァ"<=e&&e<="ヺ"||e==i);case"Ｚ":return e<="!"||"ÿ"<=e||e==i;case"H":return"!"<=e&&e<="ÿ"||e==i;case"K":case"N":return!("N"==t&&-1<n._X_SBCS_BIG_KATA.indexOf(e))&&("ｦ"<=e&&e<="ﾟ"||e==i)}return!1},n.prototype._validatePosition=function(t){var e=this._mskArr;if(this._backSpace)for(;0<t&&t<e.length&&e[t-1].literal;)t--;if(0==t||!this._backSpace)for(;t<e.length&&e[t].literal;)t++;l.getActiveElement()==this._tbx&&l.setSelectionRange(this._tbx,t),this._backSpace=!1},n.prototype._parseMask=function(){this._mskArr=[],this._firstPos=-1,this._lastPos=-1;for(var t,e=this._msk,i="|",n=0;e&&n<e.length;n++)switch(e[n]){case"0":case"9":case"#":case"A":case"a":case"L":case"l":case"９":case"Ｊ":case"Ｇ":case"Ｋ":case"Ｎ":case"Ｚ":case"K":case"N":case"H":this._firstPos<0&&(this._firstPos=this._mskArr.length),this._lastPos=this._mskArr.length,this._mskArr.push(new a(e[n],i));break;case".":case",":case":":case"/":case"$":switch(e[n]){case".":case",":t=l.culture.Globalize.numberFormat[e[n]];break;case":":case"/":t=l.culture.Globalize.calendar[e[n]];break;case"$":t=l.culture.Globalize.numberFormat.currency.symbol}for(var r=0;r<t.length;r++)this._mskArr.push(new a(t[r]));break;case"<":case">":case"|":i=e[n];break;case"\\":n<e.length-1&&n++,this._mskArr.push(new a(e[n]));break;default:this._mskArr.push(new a(e[n]))}for(n=0;n<this._mskArr.length;n++){var o=this._mskArr[n];if(o.literal)for(r=0;r<n;r++){var s=this._mskArr[r];if(s.wildCard&&this._isCharValid(s.wildCard,o.literal)){o.vague=!0;break}}}},n._X_DBCS_BIG_HIRA="ぁぃぅぇぉっゃゅょゎゕゖ",n._X_DBCS_BIG_KATA="ァィゥェォッャュョヮヵヶ",n._X_SBCS_BIG_KATA="ｧｨｩｪｫｬｭｮｯ",n}();l._MaskProvider=t;var a=function(t,e){e?(this.wildCard=t,this.charCase=e):this.literal=t};l._MaskElement=a}(wijmo||(wijmo={})),function(n){"use strict";var t=function(){function i(t){this._isDown=!1,this._mousedownBnd=this._mousedown.bind(this),this._mouseupBnd=this._mouseup.bind(this),this._onClickBnd=this._onClick.bind(this),this.element=t,this._connect(!0)}return Object.defineProperty(i.prototype,"element",{get:function(){return this._e},set:function(t){this._connect(!1),this._e=n.asType(t,HTMLElement,!0),this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=n.asBoolean(t)},enumerable:!0,configurable:!0}),i.prototype._connect=function(t){if(this._e){var e="mousedown";t?this._e.addEventListener(e,this._mousedownBnd):this._e.removeEventListener(e,this._mousedownBnd)}},i.prototype._clearTimeouts=function(){this._toRepeat&&(clearInterval(this._toRepeat),this._toRepeat=null),this._toDelay&&(clearInterval(this._toDelay),this._toDelay=null)},i.prototype._mousedown=function(t){var e=this;this._isDown&&this._mouseup(null),this._disabled||(this._isDown=!0,i._stopEvents.forEach(function(t){document.addEventListener(t,e._mouseupBnd)}),this._clearTimeouts(),this._toDelay=setTimeout(function(){e._isDown&&(e._onClick(),e._toRepeat=setTimeout(e._onClickBnd,n.Control._CLICK_REPEAT))},n.Control._CLICK_DELAY))},i.prototype._mouseup=function(t){var e=this;this._isDown&&t&&"mouseup"==t.type&&t.preventDefault(),i._stopEvents.forEach(function(t){document.removeEventListener(t,e._mouseupBnd)}),this._clearTimeouts(),this._isDown=!1},i.prototype._onClick=function(){this._clearTimeouts(),this._e&&(this._e.click(),this._isDown&&(this._toRepeat=setTimeout(this._onClickBnd,n.Control._CLICK_REPEAT)))},i._stopEvents=["mouseup","mouseout","keydown"],i}();n._ClickRepeater=t}(wijmo||(wijmo={})),function(n){"use strict";var t=null!=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i);n.isMobile=function(){return t};var e=null!=navigator.userAgent.match(/Firefox\//);function i(){return e}n.isFirefox=i;var r=null!=navigator.userAgent.match(/^((?!chrome|android).)*safari/i);n.isSafari=function(){return r};var o=null!=navigator.userAgent.match(/Edge\//);n.isEdge=function(){return o};var s=null!=navigator.userAgent.match(/MSIE |Trident\/|Edge\//);var a=!(n.isIE=function(){return s});var l=!(n.isIE9=function(){return a});"undefined"!=typeof document&&document.addEventListener("test",function(t){},{get passive(){return l=!0}});var h=!(n.getEventOptions=function(t,e){return l?{capture:t,passive:e}:t});if("undefined"!=typeof document&&document.createElement("div").focus({get preventScroll(){return h=!0}}),n.supportsFocusOptions=function(){return h},n._startDrag=function(t,e){t.effectAllowed=e,i()&&t.setData("text","")},"undefined"!=typeof document&&document.doctype&&-1<navigator.appVersion.indexOf("MSIE 9")&&(a=!0,document.addEventListener("mousemove",function(t){if(1==t.which){var e=n.closest(t.target,".wj-control");if(e&&!e.style.cursor)for(var i=t.target;i;i=i.parentElement)if(i.attributes&&i.attributes.draggable)return i.dragDrop(),!1}})),"undefined"!=typeof window){var c="requestAnimationFrame";if(!window[c]){var u=0;window[c]=function(t){var e=Date.now(),i=16-(e-u),n=0<i?i:0;return u=e+n,setTimeout(function(){t(u)},n)},window.cancelAnimationFrame=clearTimeout}if(!window.atob){var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=new RegExp("[^"+p+"]");window.atob=function(t){var e,i,n,r,o=[],s=0,a=t.length;if(d.test(t)||/=/.test(t)&&(/=[^=]/.test(t)||/={3}/.test(t)))throw new Error("Invalid base64 data");for(0<a%4&&(a=(t+=Array(4-a%4+1).join("=")).length);s<a;){for(i=[],r=s;s<r+4;)i.push(p.indexOf(t.charAt(s++)));for(n=[((e=(i[0]<<18)+(i[1]<<12)+((63&i[2])<<6)+(63&i[3]))&255<<16)>>16,64===i[2]?-1:(65280&e)>>8,64===i[3]?-1:255&e],r=0;r<3;++r)(0<=n[r]||0===r)&&o.push(String.fromCharCode(n[r]))}return o.join("")},window.btoa=function(t){for(var e,i,n=[],r=0,o=t.length;r<o;)e=((i=[t.charCodeAt(r++),t.charCodeAt(r++),t.charCodeAt(r++)])[0]<<16)+((i[1]||0)<<8)+(i[2]||0),n.push(p.charAt((e&63<<18)>>18),p.charAt((258048&e)>>12),p.charAt(isNaN(i[1])?64:(4032&e)>>6),p.charAt(isNaN(i[2])?64:63&e));return n.join("")}}}}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(_){!function(p){"use strict";var t=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e};p.DataPoint=t;var o,e,i=function(i){function t(t){var e=i.call(this)||this;return e._engine=t,e}return __extends(t,i),Object.defineProperty(t.prototype,"engine",{get:function(){return this._engine},enumerable:!0,configurable:!0}),t}(_.CancelEventArgs),n=function(r){function t(t,e,i){var n=r.call(this,t)||this;return n._index=e,n._count=i,n}return __extends(t,r),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),t}(p.RenderEventArgs=i);p.SeriesRenderingEventArgs=n,(e=o=p.ImageFormat||(p.ImageFormat={}))[e.Png=0]="Png",e[e.Jpeg=1]="Jpeg",e[e.Svg=2]="Svg";var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._palette=null,t._selectionMode=p.SelectionMode.None,t._defPalette=p.Palettes.standard,t._notifyCurrentChanged=!0,t._legendHost=null,t._needBind=!1,t.rendering=new _.Event,t.rendered=new _.Event,t.selectionChanged=new _.Event,t}return __extends(t,e),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=_.asCollectionView(t),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._clearCachedValues(),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"palette",{get:function(){return this._palette},set:function(t){t!=this._palette&&(this._palette=_.asArray(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plotMargin",{get:function(){return this._plotMargin},set:function(t){t!=this._plotMargin&&(this._plotMargin=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"legend",{get:function(){return this._legend},set:function(t){t!=this._legend&&(this._legend=_.asType(t,p.Legend),null!=this._legend&&(this._legend._chart=this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"header",{get:function(){return this._header},set:function(t){t!=this._header&&(this._header=_.asString(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"footer",{get:function(){return this._footer},set:function(t){t!=this._footer&&(this._footer=_.asString(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerStyle",{get:function(){return this._headerStyle},set:function(t){t!=this._headerStyle&&(this._headerStyle=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"footerStyle",{get:function(){return this._footerStyle},set:function(t){t!=this._footerStyle&&(this._footerStyle=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._selectionMode},set:function(t){(t=_.asEnum(t,p.SelectionMode))!=this._selectionMode&&(this._selectionMode=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=_.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.onRendered=function(t){this.rendered.raise(this,t)},t.prototype.onRendering=function(t){this.rendering.raise(this,t)},t.prototype.saveImageToFile=function(t){var e,i,n,r;t&&0!==t.length&&-1!==t.indexOf(".")||(t="image.png"),r=t.split("."),e=r[0].toLowerCase(),i=r[1].toLowerCase(),n=o[i[0].toUpperCase()+i.substring(1)],this.saveImageToDataUrl(n,function(t){u.downloadImage(t,e,i)})},t.prototype.saveImageToDataUrl=function(t,e){var i=_.asEnum(t,o,!1),n=o[i].toLowerCase();n&&n.length&&this._exportToImage(n,function(t){e.call(e,t)})},t.prototype._exportToImage=function(a,l){var t,h=new Image,c=this._currentRenderEngine.element;t=u.getDataUri(c),"svg"===a?l.call(null,t):(h.onload=function(){var t,e=document.createElement("canvas"),i=c.parentNode||c,n=_.getElementRect(i);e.width=n.width,e.height=n.height;var r=e.getContext("2d");r.fillStyle="#ffffff",r.fillRect(0,0,n.width,n.height);var o=window.getComputedStyle(i,null).getPropertyValue("padding-left").replace("px",""),s=window.getComputedStyle(i,null).getPropertyValue("padding-top").replace("px","");r.drawImage(h,+o||0,+s||0),t=e.toDataURL("image/"+a),l.call(null,t),e=null},h.src=t)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.isUpdating||this._refreshChart()},t.prototype.onSelectionChanged=function(t){this.selectionChanged.raise(this,t)},t.prototype.onLostFocus=function(t){this._tooltip&&this._tooltip.isVisible&&this._tooltip.hide(),e.prototype.onLostFocus.call(this,t)},t.prototype._cvCollectionChanged=function(t,e){this._clearCachedValues(),this._bindChart()},t.prototype._cvCurrentChanged=function(t,e){this._notifyCurrentChanged&&this._bindChart()},t.prototype._getColor=function(t){var e=this._defPalette;return null!=this._palette&&0<this._palette.length&&(e=this._palette),e[t%e.length]},t.prototype._getColorLight=function(t){var e=this._getColor(t);return this._getLightColor(e)},t.prototype._getLightColor=function(t){var e=new _.Color(t);return null!=e&&-1===t.indexOf("-")&&(1==e.a&&-1==t.indexOf("rgba")&&(e.a*=.7),t=e.toString()),t},t.prototype._bindChart=function(){this._needBind=!0,this.invalidate()},t.prototype._clearCachedValues=function(){},t.prototype._render=function(t,e){void 0===e&&(e=!0);this.hostElement;var i=this._getHostSize(),n=i.width,r=i.height;if(0!=n){if(isNaN(n)&&(n=p.FlexChart._WIDTH),(0==r||isNaN(r))&&(r=p.FlexChart._HEIGHT),t.beginRender(),0<n&&0<r){t.setViewportSize(n,r),this._rectChart=new _.Rect(0,0,n,r),this._prepareRender();var o=new _.Rect(0,0,n,r);this._chartRectId="chartRect"+(1e6*Math.random()).toFixed(),t.addClipRect(o,this._chartRectId),this._renderHeader(t,o),this._renderFooter(t,o),this._renderLegends(t,o),this._renderChart(t,o,e)}t.endRender()}},t.prototype._renderHeader=function(t,e){t.startGroup(p.FlexChart._CSS_HEADER,this._chartRectId),e=this._drawTitle(t,e,this.header,this.headerStyle,!1),t.endGroup()},t.prototype._renderFooter=function(t,e){t.startGroup(p.FlexChart._CSS_FOOTER,this._chartRectId),e=this._drawTitle(t,e,this.footer,this.footerStyle,!0),t.endGroup()},t.prototype._renderLegends=function(t,e){var i,n,r=this.legend,o=e.width,s=e.height,a=r._getPosition(o,s);switch(i=r._getDesiredSize(t,a,o,s),a){case p.Position.Right:o-=i.width,n=new _.Point(o,e.top+.5*(s-i.height));break;case p.Position.Left:e.left+=i.width,o-=i.width,n=new _.Point(0,e.top+.5*(s-i.height));break;case p.Position.Top:s-=i.height,n=new _.Point(.5*(o-i.width),e.top),e.top+=i.height;break;case p.Position.Bottom:s-=i.height,n=new _.Point(.5*(o-i.width),e.top+s)}e.width=o,e.height=s,i?(this._legendHost=t.startGroup(p.FlexChart._CSS_LEGEND,this._chartRectId),this._rectLegend=new _.Rect(n.x,n.y,i.width,i.height),this.legend._render(t,n,a,i.width,i.height),t.endGroup()):(this._legendHost=null,this._rectLegend=null)},t.prototype._prepareRender=function(){},t.prototype._renderChart=function(t,e,i){},t.prototype._performBind=function(){},t.prototype._getDesiredLegendSize=function(t,e,i,n){return null},t.prototype._renderLegend=function(t,e,i,n,r,o){},t.prototype._getHitTestItem=function(t){return null},t.prototype._getHitTestValue=function(t){return null},t.prototype._getHitTestLabel=function(t){return null},t.prototype._refreshChart=function(){this._needBind&&(this._needBind=!1,this._performBind()),this.hostElement&&this._render(this._currentRenderEngine)},t.prototype._drawTitle=function(t,e,i,n,r){var o=p.FlexChart._CSS_TITLE,s=r?p.FlexChart._CSS_FOOTER:p.FlexChart._CSS_HEADER,a=null;if(r?this._rectFooter=null:this._rectHeader=null,null!=i){var l=null,h=null,c=null,u=null;n&&(n.fontSize&&(l=n.fontSize),n.foreground&&(h=n.foreground),n.fill&&(h=n.fill),n.fontFamily&&(c=n.fontFamily),n.halign&&(u=n.halign)),t.fontSize=l,t.fontFamily=c,a=t.measureString(i,o,s,n),e.height-=a.height,h||(h=p.FlexChart._FG),t.textFill=h,r?("left"==u?p.FlexChart._renderText(t,i,new _.Point(e.left,e.bottom),0,0,o,s,n):"right"==u?p.FlexChart._renderText(t,i,new _.Point(e.left+e.width,e.bottom),2,0,o,s,n):p.FlexChart._renderText(t,i,new _.Point(e.left+.5*e.width,e.bottom),1,0,o,s,n),this._rectFooter=new _.Rect(e.left,e.bottom,e.width,a.height)):(this._rectHeader=new _.Rect(e.left,e.top,e.width,a.height),e.top+=a.height,"left"==u?p.FlexChart._renderText(t,i,new _.Point(e.left,0),0,0,o,s,n):"right"==u?p.FlexChart._renderText(t,i,new _.Point(e.left+e.width,0),2,0,o,s,n):p.FlexChart._renderText(t,i,new _.Point(e.left+.5*e.width,0),1,0,o,s,n)),t.textFill=null,t.fontSize=null,t.fontFamily=null}return e},t.prototype.pageToControl=function(t,e){return this._toControl(t,e)},t.prototype._toControl=function(t,e){_.isNumber(t)&&_.isNumber(e)?t=new _.Point(t,e):t instanceof MouseEvent&&(t=_.mouseToPage(t)),_.asType(t,_.Point);var i=t.clone(),n=this._getHostOffset();i.x-=n.x,i.y-=n.y;var r=this._getHostComputedStyle();if(r){var o=parseInt(r.paddingLeft.replace("px",""));o&&!isNaN(o)&&(i.x-=o);var s=parseInt(r.paddingTop.replace("px",""));s&&!isNaN(s)&&(i.y-=s)}return i},t.prototype._highlightItems=function(t,e,i){if(i)for(var n=0;n<t.length;n++)_.addClass(t[n],e);else for(n=0;n<t.length;n++)_.removeClass(t[n],e)},t.prototype._parseMargin=function(t){var e={};if(_.isNumber(t)&&!isNaN(t))e.top=e.bottom=e.left=e.right=_.asNumber(t);else if(_.isString(t)){var i=_.asString(t).split(" ",4),n=NaN,r=NaN,o=NaN,s=NaN;i&&(4==i.length?(n=parseFloat(i[0]),s=parseFloat(i[1]),r=parseFloat(i[2]),o=parseFloat(i[3])):2==i.length?(n=r=parseFloat(i[0]),o=s=parseFloat(i[1])):1==i.length&&(n=r=o=s=parseFloat(i[1])),isNaN(n)||(e.top=n),isNaN(r)||(e.bottom=r),isNaN(o)||(e.left=o),isNaN(s)||(e.right=s))}return e},t.prototype._showToolTip=function(t,e){var i=this,n=this._tooltip.showDelay;i._clearTimeouts(),0<n?i._toShow=setTimeout(function(){i._tooltip.show(i.hostElement,t,e),0<i._tooltip.hideDelay&&(i._toHide=setTimeout(function(){i._tooltip.hide()},i._tooltip.hideDelay))},n):(i._tooltip.show(i.hostElement,t,e),0<i._tooltip.hideDelay&&(i._toHide=setTimeout(function(){i._tooltip.hide()},i._tooltip.hideDelay)))},t.prototype._hideToolTip=function(){this._clearTimeouts(),this._tooltip.hide()},t.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},t.prototype._getHostOffset=function(){var t=_.getElementRect(this.hostElement);return new _.Point(t.left,t.top)},t.prototype._getHostSize=function(){var t=new _.Size,e=this.hostElement,i=this._getHostComputedStyle(),n=e.offsetWidth,r=e.offsetHeight;if(i){var o=parseFloat(i.paddingLeft.replace("px","")),s=parseFloat(i.paddingRight.replace("px","")),a=parseFloat(i.paddingTop.replace("px","")),l=parseFloat(i.paddingBottom.replace("px",""));isNaN(o)||(n-=o),isNaN(s)||(n-=s),isNaN(a)||(r-=a),isNaN(l)||(r-=l);var h=parseFloat(i.borderLeftWidth.replace("px","")),c=parseFloat(i.borderRightWidth.replace("px","")),u=parseFloat(i.borderTopWidth.replace("px","")),p=parseFloat(i.borderBottomWidth.replace("px",""));isNaN(h)||(n-=h),isNaN(c)||(n-=c),isNaN(u)||(r-=u),isNaN(p)||(r-=p),t.width=n,t.height=r}return t},t.prototype._getHostComputedStyle=function(){var t=this.hostElement;return t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(this.hostElement):null},t.prototype._find=function(t,e){for(var i=[],n=0;n<t.childElementCount;n++){var r=t.childNodes.item(n);if(0<=e.indexOf(r.nodeName))i.push(r);else{var o=this._find(r,e);if(0<o.length)for(var s=0;s<o.length;s++)i.push(o[s])}}return i},t._WIDTH=300,t._HEIGHT=200,t._SELECTION_THRESHOLD=15,t}(_.Control);p.FlexChartBase=r;var s=function(){function t(){this._keys={},this._keys.seriesName=null,this._keys.pointIndex=null,this._keys.x=null,this._keys.y=null,this._keys.value=null,this._keys.name=null}return t.prototype.replace=function(t,r){var o=this;return _.format(t,{},function(t,e,i,n){return o.getValue(e,r,i)})},t.prototype.getValue=function(t,e,i){switch(t){case"seriesName":return e.series?e.series.name:"";case"pointIndex":return null!=e.pointIndex?e.pointIndex.toFixed():"";case"x":return i?_.Globalize.format(e.x,i):e._xfmt;case"y":return i?_.Globalize.format(e.y,i):e._yfmt;case"value":return i?_.Globalize.format(e.value,i):e.value;case"name":return e.name}return e.item&&(0==t.indexOf("item.")&&(t=t.substr(5)),t in e.item)?i?_.Globalize.format(e.item[t],i):e.item[t]:""},t}();p._KeyWords=s;var u=function(){function d(){}return d.downloadImage=function(t,e,i){var n=document.createElement("a"),r="image/"+i;if(navigator.msSaveOrOpenBlob){t=t.substring(t.indexOf(",")+1);var o,s,a,l=atob(t),h=[];for(o=0;o<l.length;o+=512){s=l.slice(o,o+512);for(var c=new Array(s.length),u=0;u<s.length;u++)c[u]=s.charCodeAt(u);var p=new Uint8Array(c);h.push(p)}a=new Blob(h,{type:r}),navigator.msSaveOrOpenBlob(a,e+"."+i)}else n.download=e+"."+i,n.href=t,document.body.appendChild(n),n.addEventListener("click",function(t){_.removeChild(n)}),n.click()},d.getDataUri=function(t){var e,i,n,r,o,s,a,l,h,c,u=document.createElement("div"),p=t.cloneNode(!0);return"svg"==t.tagName?(i=(e=_.getElementRect(t.parentNode||t)).width||0,n=e.height||0,r=t.viewBox.baseVal&&0!==t.viewBox.baseVal.width?t.viewBox.baseVal.width:i,o=t.viewBox.baseVal&&0!==t.viewBox.baseVal.height?t.viewBox.baseVal.height:n):(i=(s=t.getBBox()).x+s.width,n=s.y+s.height,p.setAttribute("transform",p.getAttribute("transform").replace(/translate\(.*?\)/,"")),r=i,o=n,(l=document.createElementNS("http://www.w3.org/2000/svg","svg")).appendChild(p),p=l),p.setAttribute("version","1.1"),p.setAttributeNS(d.xmlns,"xmlns","http://www.w3.org/2000/svg"),p.setAttributeNS(d.xmlns,"xmlns:xlink","http://www.w3.org/1999/xlink"),p.setAttribute("width",i),p.setAttribute("height",n),p.setAttribute("viewBox","0 0 "+r+" "+o),_.addClass(p,t.parentNode&&t.parentNode.getAttribute("class")||""),u.appendChild(p),a=d.getStyles(t),(h=document.createElement("style")).setAttribute("type","text/css"),h.innerHTML="<![CDATA[\n"+a+"\n]]>",(c=document.createElement("defs")).appendChild(h),p.insertBefore(c,p.firstChild),"data:image/svg+xml;base64,"+window.btoa(window.unescape(encodeURIComponent(d.doctype+u.innerHTML)))},d.getStyles=function(n){var r="",t=document.styleSheets;return null==t||0===t.length?null:([].forEach.call(t,function(e){var t;try{if(null==e.cssRules||0===e.cssRules.length)return!0}catch(t){if("SecurityError"==t.name)return console.log("SecurityError. Can't read: "+e.href),!0}t=e.cssRules,[].forEach.call(t,function(e){var t,i=e.style;if(null==i)return!0;try{t=n.querySelector(e.selectorText)}catch(t){console.warn('Invalid CSS selector "'+e.selectorText+'"',t)}t?r+=e.selectorText+" { "+i.cssText+" }\n":e.cssText.match(/^@font-face/)&&(r+=e.cssText+"\n")})}),r)},d.doctype='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">',d.xmlns="http://www.w3.org/2000/xmlns/",d}()}(_.chart||(_.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(X){!function(G){"use strict";var D,t,l,e;(t=D=G.Stacking||(G.Stacking={}))[t.None=0]="None",t[t.Stacked=1]="Stacked",t[t.Stacked100pc=2]="Stacked100pc",(e=l=G.SelectionMode||(G.SelectionMode={}))[e.None=0]="None",e[e.Series=1]="Series",e[e.Point=2]="Point";var i=function(n){function a(t,e){var i=n.call(this,t,null,!0)||this;i._series=new X.collections.ObservableArray,i._axes=new G.AxisCollection,i._pareas=new G.PlotAreaCollection,i._interpolateNulls=!1,i._legendToggle=!1,i._symbolSize=10,i._dataInfo=new o,i.__barPlotter=null,i.__linePlotter=null,i.__areaPlotter=null,i.__bubblePlotter=null,i.__financePlotter=null,i.__funnelPlotter=null,i._plotters=[],i._rotated=!1,i._stacking=D.None,i._xlabels=[],i._xvals=[],i._lblAreas=[],i._colRowLens=[],i._bindingSeparator=",",i.seriesVisibilityChanged=new X.Event,i.applyTemplate("wj-control wj-flexchart",null,null);var r=i;return r._series.collectionChanged.addHandler(function(){for(var t=r._series,e=0;e<t.length;e++){var i=X.tryCast(t[e],X.chart.SeriesBase);if(!i)throw"chartSeries array must contain SeriesBase objects.";i._chart=r,i.axisX&&(i.axisX._chart=r),i.axisY&&(i.axisY._chart=r)}r.invalidate()}),i._currentRenderEngine=new G._SvgRenderEngine(i.hostElement),i._hitTester=new G._HitTester(i),i._legend=new G.Legend(i),i._tooltip=new s,i._tooltip.showDelay=0,i._lbl=new G.DataLabel,(i._lbl._chart=i)._initAxes(),r._axes.collectionChanged.addHandler(function(){for(var t=r._axes,e=0;e<t.length;e++){var i=X.tryCast(t[e],X.chart.Axis);if(!i)throw"axes array must contain Axis objects.";i._chart=r}r.invalidate()}),r._pareas.collectionChanged.addHandler(function(){for(var t=r._pareas,e=0;e<t.length;e++){var i=X.tryCast(t[e],X.chart.PlotArea);if(!i)throw"plotAreas array must contain PlotArea objects.";i._chart=r}r.invalidate()}),i._keywords=new G._KeyWords,i.hostElement.addEventListener("click",function(t){var e=r._tooltip;if(e.content&&r.isTouching){var i=r.hitTest(t);if(i.distance<=e.threshold){var n=r._getLabelContent(i,r._tooltip.content);r._showToolTip(n,new X.Rect(t.clientX,t.clientY,5,5))}else r._hideToolTip()}}),i.hostElement.addEventListener("mousemove",function(t){var e=r._tooltip;if(e.content&&!r.isTouching){var i=r.hitTest(t);if(i.distance<=e.threshold){var n=r._getLabelContent(i,r._tooltip.content);r._showToolTip(n,new X.Rect(t.clientX,t.clientY,5,5))}else r._hideToolTip()}}),i.hostElement.addEventListener("mouseleave",function(t){r._hideToolTip()}),i.hostElement.addEventListener("click",function(t){if(r.selectionMode!=l.None){var e=r._hitTestData(t),i=G.FlexChart._SELECTION_THRESHOLD;r.tooltip&&r.tooltip.threshold&&(i=r.tooltip.threshold),e.distance<=i&&e.series?r._select(e.series,e.pointIndex):r.selectionMode==l.Series&&(e=r.hitTest(t)).chartElement==G.ChartElement.Legend&&e.series?r._select(e.series,null):r._select(null,null)}!0===r.legendToggle&&(e=r.hitTest(t)).chartElement==G.ChartElement.Legend&&e.series&&(e.series.visibility==G.SeriesVisibility.Legend?e.series.visibility=G.SeriesVisibility.Visible:e.series.visibility==G.SeriesVisibility.Visible&&(e.series.visibility=G.SeriesVisibility.Legend),r.focus())}),i.initialize(e),i}return __extends(a,n),a.prototype._initAxes=function(){this._axisX=new G.Axis(G.Position.Bottom),this._axisY=new G.Axis(G.Position.Left),this._axisX.majorGrid=!1,this._axisX.name="axisX",this._axisY.majorGrid=!0,this._axisY.majorTickMarks=G.TickMark.None,this._axisY.name="axisY",((this._axisX._chart=this)._axisY._chart=this)._axes.push(this._axisX),this._axes.push(this._axisY)},Object.defineProperty(a.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"axisX",{get:function(){return this._axisX},set:function(t){if(t!=this._axisX){var e=this._axisX=X.asType(t,G.Axis);this.beginUpdate(),e&&(void 0===e.majorGrid&&(e.majorGrid=!1),void 0===e.name&&(e.name="axisX"),null==e.position&&(e.position=G.Position.Bottom),e._axisType=G.AxisType.X,e._chart=this),this.endUpdate()}},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"axisY",{get:function(){return this._axisY},set:function(t){if(t!=this._axisY){var e=this._axisY=X.asType(t,G.Axis);this.beginUpdate(),e&&(void 0===e.majorGrid&&(e.majorGrid=!0),void 0===e.name&&(e.name="axisY"),e.majorTickMarks=G.TickMark.None,null==e.position&&(e.position=G.Position.Left),e._axisType=G.AxisType.Y,e._chart=this),this.endUpdate()}},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"plotAreas",{get:function(){return this._pareas},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=X.asString(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"bindingX",{get:function(){return this._bindingX},set:function(t){t!=this._bindingX&&(this._bindingX=X.asString(t,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(t){t!=this._symbolSize&&(this._symbolSize=X.asNumber(t,!1,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"interpolateNulls",{get:function(){return this._interpolateNulls},set:function(t){t!=this._interpolateNulls&&(this._interpolateNulls=X.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"legendToggle",{get:function(){return this._legendToggle},set:function(t){t!=this._legendToggle&&(this._legendToggle=X.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"dataLabel",{get:function(){return this._lbl},set:function(t){t!=this._lbl&&(this._lbl=X.asType(t,G.DataLabel),this._lbl&&(this._lbl._chart=this))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"selection",{get:function(){return this._selection},set:function(t){t!=this._selection&&(this._selection=X.asType(t,G.SeriesBase,!0),this.invalidate())},enumerable:!0,configurable:!0}),a.prototype.onSeriesVisibilityChanged=function(t){this.seriesVisibilityChanged.raise(this,t)},a.prototype.hitTest=function(t,e){var i=this._toControl(t,e),n=new G.HitTestInfo(this,i),r=null;if(G.FlexChart._contains(this._rectHeader,i))n._chartElement=G.ChartElement.Header;else if(G.FlexChart._contains(this._rectFooter,i))n._chartElement=G.ChartElement.Footer;else if(G.FlexChart._contains(this._rectLegend,i))n._chartElement=G.ChartElement.Legend,null!==(r=this.legend._hitTest(i))&&0<=r&&r<this.series.length&&(this._getChartType()===G.ChartType.Bar?n._setData(this.series[this.series.length-1-r]):n._setData(this.series[r]));else if(G.FlexChart._contains(this._rectChart,i)){var o=this._hitTestLabels(i);if(o)n._chartElement=G.ChartElement.DataLabel,n._dist=0,n._setDataPoint(o.tag);else{for(var s=this._hitTester.hitTest(i),a=null,l=null,h=this.series.length-1;0<=h;h--)if(this.series[h].hitTest!==G.Series.prototype.hitTest){var c=this.series[h].hitTest(t);if(c&&((!a||c.distance<a.distance)&&(a=c,l=h),0===c.distance))break}s&&s.area?a&&a.distance<s.distance?n=a:a&&a.distance==s.distance&&l>s.area.tag.seriesIndex?n=a:(n._setDataPoint(s.area.tag),n._dist=s.distance):a&&(n=a),G.FlexChart._contains(this.axisX._axrect,i)?n._chartElement=G.ChartElement.AxisX:G.FlexChart._contains(this.axisY._axrect,i)?n._chartElement=G.ChartElement.AxisY:G.FlexChart._contains(this._plotRect,i)?n._chartElement=G.ChartElement.PlotArea:G.FlexChart._contains(this._rectChart,i)&&(n._chartElement=G.ChartElement.ChartArea)}}else n._chartElement=G.ChartElement.None;return n},a.prototype.pointToData=function(t,e){return X.isNumber(t)&&X.isNumber(e)&&(t=new X.Point(t,e)),t instanceof MouseEvent?(t=new X.Point(t.pageX,t.pageY),t=this._toControl(t)):t=t.clone(),t.x=this.axisX.convertBack(t.x),t.y=this.axisY.convertBack(t.y),t},a.prototype.dataToPoint=function(t,e){X.isNumber(t)&&X.isNumber(e)&&(t=new X.Point(t,e)),X.asType(t,X.Point);var i=t.clone();return i.x=this.axisX.convert(i.x),i.y=this.axisY.convert(i.y),i},a.prototype._copy=function(t,e){if("series"==t){this.series.clear();for(var i=X.asArray(e),n=0;n<i.length;n++){var r=this._createSeries();X.copy(r,i[n]),this.series.push(r)}return!0}return!1},a.prototype._createSeries=function(){return new G.Series},a.prototype._clearCachedValues=function(){for(var t=0;t<this._series.length;t++){var e=this._series[t];null==e.itemsSource&&e._clearValues()}},a.prototype._performBind=function(){if(this._xDataType=null,this._xlabels.splice(0),this._xvals.splice(0),this._cv){var t=this._cv.items;if(t){for(var e=t.length,i=0;i<e;i++){var n=t[i];if(this._bindingX){var r=n[this._bindingX];X.isNumber(r)?(this._xvals.push(X.asNumber(r)),this._xDataType=X.DataType.Number):X.isDate(r)&&(this._xvals.push(X.asDate(r).valueOf()),this._xDataType=X.DataType.Date),this._xlabels.push(n[this._bindingX])}}this._xvals.length==e?this._xlabels.splice(0):this._xvals.splice(0)}}},a.prototype._hitTestSeries=function(t,e){var i=this._toControl(t),n=new G.HitTestInfo(this,i),r=this._hitTester.hitTestSeries(i,e);return r&&r.area&&(n._setDataPoint(r.area.tag),n._chartElement=G.ChartElement.PlotArea,n._dist=r.distance),n},a.prototype._hitTestData=function(t){var e=this._toControl(t),i=new G.HitTestInfo(this,e),n=this._hitTester.hitTest(e,!0);return n&&n.area&&(i._setDataPoint(n.area.tag),i._dist=n.distance),i},a.prototype._hitTestLabels=function(t){for(var e=null,i=this._lblAreas.length,n=0;n<i;n++)if(this._lblAreas[n].contains(t)){e=this._lblAreas[n];break}return e},a._dist2=function(t,e){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n},a._dist=function(t,e,i){return Math.sqrt(G.FlexChart._distToSegmentSquared(t,e,i))},a._distToSegmentSquared=function(t,e,i){var n=G.FlexChart._dist2(e,i);if(0==n)return G.FlexChart._dist2(t,e);var r=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/n;return r<0?G.FlexChart._dist2(t,e):1<r?G.FlexChart._dist2(t,i):G.FlexChart._dist2(t,new X.Point(e.x+r*(i.x-e.x),e.y+r*(i.y-e.y)))},a.prototype._isRotated=function(){return this._getChartType()==G.ChartType.Bar?!this._rotated:this._rotated},a.prototype._getChartType=function(){return null},a.prototype._prepareRender=function(){this._hitTester.clear()},a.prototype._renderChart=function(t,e,i){var n=this._rectChart.clone(),r=new X.Size(n.width,n.height);e.width,e.height;(g=this._getPlotter(null)).stacking=this._stacking,this._curPlotter!=g&&(this._curPlotter&&this._curPlotter.unload(),this._curPlotter=g),g.load();var o=this._isRotated();this._dataInfo.analyse(this._series,o,g.stacking,0<this._xvals.length?this._xvals:null,0<this.axisX._getLogBase(),0<this.axisY._getLogBase());var s=g.adjustLimits(this._dataInfo,e.clone());if(o){var a=this._dataInfo.getDataTypeX();a||(a=this._xDataType),this.axisX._updateActualLimits(this._dataInfo.getDataTypeY(),s.left,s.right),this.axisY._updateActualLimits(a,s.top,s.bottom,this._xlabels,this._xvals)}else{var l=this._dataInfo.getDataTypeX();l||(l=this._xDataType),this.axisX._updateActualLimits(l,s.left,s.right,this._xlabels,this._xvals),this.axisY._updateActualLimits(this._dataInfo.getDataTypeY(),s.top,s.bottom)}var h=this._getAxes();if(this._updateAuxAxes(h,o),this._layout(e,r,t),t.startGroup(G.FlexChart._CSS_PLOT_AREA),t.fill="transparent",t.stroke=null,0<this.plotAreas.length)for(var c=0;c<this.plotAreas.length;c++){this.plotAreas[c]._render(t)}else{var u=this._plotRect;t.drawRect(u.left,u.top,u.width,u.height)}t.endGroup();var p=this._series.length;this._clearPlotters();var d={};for(c=0;c<p;c++){var _=this._series[c];if(((w=_.visibility)==G.SeriesVisibility.Visible||w==G.SeriesVisibility.Plot)&&_.getValues(0)){var f=_._getAxisY(),g=this._getPlotter(_);if(!f||f==this.axisY||g instanceof G._BarPlotter)g.seriesCount++;else{var m=f._uniqueId;d[m]?d[m].count+=1:d[m]={count:1,index:0}}}}if(this.onRendering(new G.RenderEventArgs(t)),this._getChartType()!==G.ChartType.Funnel)for(c=0;c<h.length;c++){var y=h[c];b=y.axisType==G.AxisType.X?t.startGroup(G.FlexChart._CSS_AXIS_X,this._chartRectId):t.startGroup(G.FlexChart._CSS_AXIS_Y,this._chartRectId),y._hostElement=i?b:y._hostElement,y._render(t),t.endGroup()}t.startGroup("wj-series-group"),this._plotrectId="plotRect"+(1e6*Math.random()).toFixed(),t.addClipRect(this._plotRect,this._plotrectId);for(c=0;c<p;c++){var v=this._series[c];v._pointIndexes=[];g=this._getPlotter(v);v._plotter=g;var b=t.startGroup(v.cssClass,g.clipping?this._plotrectId:null);v._hostElement=i?b:v._hostElement;var w=v.visibility,C=v.axisX,x=v.axisY;if(C||(C=this.axisX),x||(x=this.axisY),w==G.SeriesVisibility.Visible||w==G.SeriesVisibility.Plot){var S,E,P=d[x._uniqueId];P?(S=P.index,E=P.count,P.index++):(S=g.seriesIndex,E=g.seriesCount,g.seriesIndex++),v.onRendering(t,S,E)||g.plotSeries(t,C,x,v,this,S,E),v.onRendered(t)}t.endGroup()}t.endGroup(),this._lblAreas=[],this.dataLabel.content&&this.dataLabel.position!=G.LabelPosition.None&&this._renderLabels(t),this._highlightCurrent(),this.onRendered(new G.RenderEventArgs(t))},a.prototype._getDesiredLegendSize=function(t,e,i,n){var r=new X.Size,o=this.series,s=o.length,a=0,l=0;this._colRowLens=[];for(var h=0;h<s;h++){var c=X.tryCast(o[h],X.chart.SeriesBase),u=c.visibility;if(c.name&&u!=G.SeriesVisibility.Hidden&&u!=G.SeriesVisibility.Plot)for(var p=c.legendItemLength(),d=0;d<p;d++){var _=c.measureLegendItem(t,d);e?(a+_.height>n&&(r.height=n,this._colRowLens.push(l),a=l=0),l<_.width&&(l=_.width),a+=_.height):(l+_.width>i&&(r.width=i,this._colRowLens.push(a),l=a=0),a<_.height&&(a=_.height),l+=_.width)}}return e?(r.height<a&&(r.height=a),this._colRowLens.push(l),r.width=this._colRowLens.reduce(function(t,e){return t+e},0),r.width>i/2&&(r.width=i/2)):(r.width<l&&(r.width=l),this._colRowLens.push(a),r.height=this._colRowLens.reduce(function(t,e){return t+e},0),r.height>n/2&&(r.height=n/2)),r},a.prototype._renderLegend=function(t,e,i,n,r,o){var s,a=this.series,l=a.length,h=e.clone(),c=0;if(this._getChartType()===G.ChartType.Bar)for(var u=l-1;0<=u;u--)s=X.tryCast(a[u],X.chart.SeriesBase),c=this._renderLegendElements(t,s,e,h,i,n,r,o,c);else for(u=0;u<l;u++)s=X.tryCast(a[u],X.chart.SeriesBase),c=this._renderLegendElements(t,s,e,h,i,n,r,o,c)},a.prototype._renderLegendElements=function(t,e,i,n,r,o,s,a,l){var h=this._rectLegend,c=l;if(!e)return c;var u=e.visibility;if(!e.name||u==G.SeriesVisibility.Hidden||u==G.SeriesVisibility.Plot)return e._legendElement=null,r.push(null),c;var p=e.legendItemLength(),d=t.startGroup(e.cssClass);u==G.SeriesVisibility.Legend?(d.setAttribute("opacity","0.5"),e._legendElement=d):u==G.SeriesVisibility.Visible?e._legendElement=d:e._legendElement=null;for(var _=0;_<p;_++){var f=e.measureLegendItem(t,_);o?n.y+f.height>h.top+h.height+1&&(n.x+=this._colRowLens[c],c++,n.y=i.y):n.x+f.width>h.left+h.width+1&&(n.y+=this._colRowLens[c],c++,n.x=i.x);var g=new X.Rect(n.x,n.y,f.width,f.height);u!=G.SeriesVisibility.Legend&&u!=G.SeriesVisibility.Visible||e.drawLegendItem(t,g,_),r.push(g),o?n.y+=f.height:n.x+=f.width}return t.endGroup(),c},a.prototype._renderLabels=function(t){var e=this.series,i=e.length;t.stroke="null",t.fill="transparent",t.strokeWidth=1;var n=a._CSS_DATA_LABELS;t.startGroup(n);for(var r=0;r<i;r++){var o=e[r],s=this._hitTester._map[r];s&&o._renderLabels(t,s,this,this._lblAreas)}t.endGroup()},a.prototype._getAxes=function(){for(var t=[this.axisX,this.axisY],e=this.series.length,i=0;i<e;i++){var n=this.series[i],r=n.axisX;r&&-1===t.indexOf(r)&&t.push(r);var o=n.axisY;o&&-1===t.indexOf(o)&&t.push(o)}return t},a.prototype._clearPlotters=function(){for(var t=this._plotters.length,e=0;e<t;e++)this._plotters[e].clear()},a.prototype._initPlotter=function(t){t.chart=this,t.dataInfo=this._dataInfo,t.hitTester=this._hitTester,this._plotters.push(t)},Object.defineProperty(a.prototype,"_barPlotter",{get:function(){return null===this.__barPlotter&&(this.__barPlotter=new G._BarPlotter,this._initPlotter(this.__barPlotter)),this.__barPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"_linePlotter",{get:function(){return null===this.__linePlotter&&(this.__linePlotter=new G._LinePlotter,this._initPlotter(this.__linePlotter)),this.__linePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"_areaPlotter",{get:function(){return null===this.__areaPlotter&&(this.__areaPlotter=new G._AreaPlotter,this._initPlotter(this.__areaPlotter)),this.__areaPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"_bubblePlotter",{get:function(){return null===this.__bubblePlotter&&(this.__bubblePlotter=new G._BubblePlotter,this._initPlotter(this.__bubblePlotter)),this.__bubblePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"_financePlotter",{get:function(){return null===this.__financePlotter&&(this.__financePlotter=new G._FinancePlotter,this._initPlotter(this.__financePlotter)),this.__financePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"_funnelPlotter",{get:function(){return null===this.__funnelPlotter&&(this.__funnelPlotter=new G._FunnelPlotter,this._initPlotter(this.__funnelPlotter)),this.__funnelPlotter},enumerable:!0,configurable:!0}),a.prototype._getPlotter=function(t){var e,i=this._getChartType(),n=!1;if(t){var r=t._getChartType();null!=r&&r!=i&&(i=r,n=!0)}switch(i){case G.ChartType.Column:this._barPlotter.isVolume=!1,this._barPlotter.width=.7,e=this._barPlotter;break;case G.ChartType.Bar:this._barPlotter.rotated=!this._rotated,this._barPlotter.isVolume=!1,this._barPlotter.width=.7,e=this._barPlotter;break;case G.ChartType.Line:this._linePlotter.hasSymbols=!1,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!1,e=this._linePlotter;break;case G.ChartType.Scatter:this._linePlotter.hasSymbols=!0,this._linePlotter.hasLines=!1,this._linePlotter.isSpline=!1,e=this._linePlotter;break;case G.ChartType.LineSymbols:this._linePlotter.hasSymbols=!0,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!1,e=this._linePlotter;break;case G.ChartType.Area:this._areaPlotter.isSpline=!1,e=this._areaPlotter;break;case G.ChartType.Bubble:e=this._bubblePlotter;break;case G.ChartType.Candlestick:(o=this._financePlotter).isCandle=!0,o.isEqui=!1,o.isArms=!1,o.isVolume=!1,e=o;break;case G.ChartType.HighLowOpenClose:var o;(o=this._financePlotter).isCandle=!1,o.isEqui=!1,o.isArms=!1,o.isVolume=!1,e=o;break;case G.ChartType.Spline:this._linePlotter.hasSymbols=!1,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!0,e=this._linePlotter;break;case G.ChartType.SplineSymbols:this._linePlotter.hasSymbols=!0,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!0,e=this._linePlotter;break;case G.ChartType.SplineArea:this._areaPlotter.isSpline=!0,e=this._areaPlotter;break;case G.ChartType.Funnel:e=this._funnelPlotter;break;default:throw"Invalid chart type."}return e.rotated=this._rotated,i==G.ChartType.Bar&&(e.rotated=!e.rotated),n&&(e.rotated=this._isRotated()),e},a.prototype._layout=function(t,e,i){0<this.plotAreas.length?this._layoutMultiple(t,e,i):this._layoutSingle(t,e,i)},a.prototype._layoutSingle=function(t,e,i){for(var n=t.width,r=t.height,o=new X.Size(n,.75*r),s=new X.Size(r,.75*n),a=0,l=0,h=n,c=r,u=0,p=0,d=n,_=r,f=this._getAxes(),g=0;g<f.length;g++){var m=(E=f[g]).origin,y=E._getPosition();if(E.axisType==G.AxisType.X){(C=E._getHeight(i,n))>o.height&&(C=o.height),E._desiredSize=new X.Size(o.width,C);var v=E._hasOrigin=X.isNumber(m)&&m>this.axisY._getMinNum()&&m<this.axisY._getMaxNum(),b=Math.min(.25*n,E._annoSize.width);if(y==G.Position.Bottom)if(a=Math.max(a,.5*b),h=Math.min(h,n-.5*b),v){var w=this._convertY(m,p,_);_-=Math.max(0,w+C-_)}else _-=C;else if(y==G.Position.Top)if(a=Math.max(a,.5*b),h=Math.min(h,n-.5*b),v){w=this._convertY(m,p,_);p+=Math.max(0,p-(w-C))}else p+=C}else if(E.axisType==G.AxisType.Y){var C;(C=E._getHeight(i,r))>s.height&&(C=s.height),E._desiredSize=new X.Size(s.width,C);v=E._hasOrigin=X.isNumber(m)&&m>this.axisX._getMinNum()&&m<this.axisX._getMaxNum();if(y==G.Position.Left)if(E._actualAngle<0?c=Math.min(c,r-E._annoSize.height):0<E._actualAngle?l=Math.max(l,E._annoSize.height):(l=Math.max(l,E._annoSize.height),c=Math.min(c,r-E._annoSize.height)),v){var x=this._convertX(m,u,d);u+=Math.max(0,u-(x-C))}else u+=C;else if(y==G.Position.Right)if(0<E._actualAngle?c=Math.min(c,r-E._annoSize.height):E._actualAngle<0?l=Math.max(l,E._annoSize.height):(l=Math.max(l,E._annoSize.height),c=Math.min(c,r-E._annoSize.height)),v){x=this._convertX(m,u,d);d-=Math.max(0,x+C-d)}else d-=C}}var S=this._parseMargin(this.plotMargin);a=u=isNaN(S.left)?Math.max(a,u)+t.left:S.left,h=d=isNaN(S.right)?Math.min(h,d)+t.left:e.width-S.right,l=p=isNaN(S.top)?Math.max(l,p)+t.top:S.top,c=_=isNaN(S.bottom)?Math.min(c,_)+t.top:e.height-S.bottom,n=Math.max(1,h-a),r=Math.max(1,c-l),this._plotRect=new X.Rect(a,l,n,r),i.stroke=null;for(g=0;g<f.length;g++){var E;m=(E=f[g]).origin,y=E._getPosition();if(E.axisType==G.AxisType.X){var P;if(E._hasOrigin){w=this._convertY(m,this._plotRect.top,this._plotRect.bottom);y==G.Position.Bottom?(P=new X.Rect(a,w,n,E._desiredSize.height),_+=Math.max(0,P.bottom-this._plotRect.bottom)):y==G.Position.Top?(P=new X.Rect(a,w-E._desiredSize.height,n,E._desiredSize.height),p-=Math.max(0,this._plotRect.top-P.top)):P=new X.Rect(a,w,n,1)}else y==G.Position.Bottom?(P=new X.Rect(a,_,n,E._desiredSize.height),_+=E._desiredSize.height):y==G.Position.Top?(P=new X.Rect(a,p-E._desiredSize.height,n,E._desiredSize.height),p-=E._desiredSize.height):P=new X.Rect(a,p,n,1);E._layout(P,this._plotRect)}else if(E.axisType==G.AxisType.Y){var T;if(E._hasOrigin){x=this._convertX(m,this._plotRect.left,this._plotRect.right);y==G.Position.Left?(T=new X.Rect(x-E._desiredSize.height,l,r,E._desiredSize.height),u-=E._desiredSize.height):y==G.Position.Right?(T=new X.Rect(x,l,r,E._desiredSize.height),d+=E._desiredSize.height):T=new X.Rect(x,l,r,1)}else y==G.Position.Left?(T=new X.Rect(u-E._desiredSize.height,l,r,E._desiredSize.height),u-=E._desiredSize.height):y==G.Position.Right?(T=new X.Rect(d,l,r,E._desiredSize.height),d+=E._desiredSize.height):T=new X.Rect(u,l,r,1);E._layout(T,this._plotRect)}}},a.prototype._layoutMultiple=function(t,e,i){for(var n=t.width,r=t.height,o=[],s=[],a=this._getAxes(),l=a.length,h=0;h<l;h++){if((S=a[h])._plotrect=null,S.axisType==G.AxisType.X){for(var c=S.plotArea?S.plotArea.column:0;o.length<=c;)o.push(new Y);o[c].axes.push(S)}else if(S.axisType==G.AxisType.Y){for(var u=S.plotArea?S.plotArea.row:0;s.length<=u;)s.push(new Y);s[u].axes.push(S)}}for(var p=o.length,d=s.length,_=new X.Size(n,.3*r),f=new X.Size(r,.3*n),g=0,m=0,y=n,v=r,b=0;b<p;b++){(R=o[b]).right=n,R.bottom=r;for(h=0;h<R.axes.length;h++){var w=(S=R.axes[h])._getHeight(i,S.axisType==G.AxisType.X?n:r);w>_.height&&(w=_.height);var C=new X.Size(_.width,w);S._desiredSize=C,0==b&&(R.left=Math.max(R.left,.5*S._annoSize.width)),b==p-1&&(R.right=Math.min(R.right,n-.5*S._annoSize.width)),(j=S._getPosition())==G.Position.Bottom?R.bottom-=C.height:j==G.Position.Top&&(R.top+=C.height)}}for(var x=0;x<d;x++){(R=s[x]).right=n,R.bottom=r;for(h=0;h<R.axes.length;h++){var S=R.axes[h],E=new X.Size(f.width,S._getHeight(i,S.axisType==G.AxisType.X?n:r));E.height>f.height&&(E.height=f.height),S._desiredSize=E,0==x&&(R.top=Math.max(R.top,.5*S._annoSize.width)),x==d-1&&(R.bottom=Math.min(R.bottom,r-.5*S._annoSize.width)),(j=S._getPosition())==G.Position.Left?R.left+=E.height:j==G.Position.Right&&(R.right-=E.height)}}var P=0,T=0,M=n,A=r;for(b=0;b<p;b++){var R=o[b];P=Math.max(P,R.left),T=Math.max(T,R.top),M=Math.min(M,R.right),A=Math.min(A,R.bottom)}for(x=0;x<d;x++){R=s[x];P=Math.max(P,R.left),T=Math.max(T,R.top),M=Math.min(M,R.right),A=Math.min(A,R.bottom)}P=g=Math.max(g,P),M=y=Math.min(y,M),T=m=Math.max(m,T),A=v=Math.min(v,A),this._plotRect=new X.Rect(g,m,y-g,v-m);var D=this._plotRect.clone(),I=g,O=this.plotAreas._calculateWidths(this._plotRect.width,p);for(b=0;b<p;b++){A=v,T=m;R=o[b];var L=O[b];for(h=0;h<R.axes.length;h++){var k,j=(S=R.axes[h])._getPosition(),N=new X.Rect(I,D.top,L,D.height);j==G.Position.Bottom?(k=new X.Rect(I,A,L,S._desiredSize.height),A+=S._desiredSize.height):j==G.Position.Top&&(k=new X.Rect(I,T-S._desiredSize.height,L,S._desiredSize.height),T-=S._desiredSize.height),S._layout(k,N)}for(h=0;h<this.plotAreas.length;h++){(B=this.plotAreas[h]).column==b&&B._setPlotX(I,L)}I+=L}var F=m,z=this.plotAreas._calculateHeights(this._plotRect.height,d);for(x=0;x<d;x++){P=g,M=y;R=s[x];var H=z[x];for(h=0;h<R.axes.length;h++){var V;j=(S=R.axes[h])._getPosition(),N=new X.Rect(D.left,F,D.width,H);S._plotrect?(N.left=S._plotrect.left,N.width=S._plotrect.width):O&&0<O.length&&(N.width=O[0]),j==G.Position.Left?(V=new X.Rect(P-S._desiredSize.height,F,H,S._desiredSize.height),P-=S._desiredSize.height):j==G.Position.Right&&(V=new X.Rect(M,F,H,S._desiredSize.height),M+=S._desiredSize.height),S._layout(V,N)}for(h=0;h<this.plotAreas.length;h++){var B;(B=this.plotAreas[h]).row==x&&B._setPlotY(F,H)}F+=H}},a.prototype._convertX=function(t,e,i){var n=this.axisX;return n.reversed?i-(i-e)*(t-n._getMinNum())/(n._getMaxNum()-n._getMinNum()):e+(i-e)*(t-n._getMinNum())/(n._getMaxNum()-n._getMinNum())},a.prototype._convertY=function(t,e,i){var n=this.axisY;return n.reversed?e+(i-e)*(t-n._getMinNum())/(n._getMaxNum()-n._getMinNum()):i-(i-e)*(t-n._getMinNum())/(n._getMaxNum()-n._getMinNum())},a.prototype._getLabelContent=function(t,e){return X.isString(e)?this._keywords.replace(e,t):X.isFunction(e)?e(t):null},a.prototype._select=function(t,e){var i=!1;if(t==this._selection&&e==this._selectionIndex||(i=!0),this._selection&&this._highlight(this._selection,!1,this._selectionIndex),this._selection=t,this._selectionIndex=e,this._selection&&this._highlight(this._selection,!0,this._selectionIndex),this.selectionMode==l.Point){var n=t?t.collectionView:this._cv;n&&(this._notifyCurrentChanged=!1,n.moveCurrentToPosition(t?e:-1),this._notifyCurrentChanged=!0)}i&&this.onSelectionChanged()},a.prototype._highlightCurrent=function(){if(this.selectionMode!=l.None){var t=this._selection,e=-1;if(t){var i=t.collectionView;i||(i=this._cv),i&&(e=i.currentPosition),this._highlight(t,!0,e)}}},a.prototype._highlight=function(t,e,i){if(t=X.asType(t,G.SeriesBase,!0),this.selectionMode==l.Series){var n=this.series.indexOf(t),r=t.hostElement;e?r.parentNode.appendChild(r):r.parentNode.insertBefore(r,r.parentNode.childNodes.item(n));var o=this._find(r,["rect","ellipse","polyline","polygon","line","path"]);this._highlightItems(o,G.FlexChart._CSS_SELECTION,e),t.legendElement&&this._highlightItems(this._find(t.legendElement,["rect","ellipse","line"]),G.FlexChart._CSS_SELECTION,e)}else if(this.selectionMode==l.Point){n=this.series.indexOf(t),r=t.hostElement;if(e){r.parentNode.appendChild(r);var s=t.getPlotElement(i);if(s)if(s instanceof SVGElement){"g"!=s.nodeName&&this._highlightItems([s],G.FlexChart._CSS_SELECTION,e);o=this._find(s,["line","rect","ellipse","path","polygon"]);this._highlightItems(o,G.FlexChart._CSS_SELECTION,e)}else Array.isArray(s)&&this._highlightItems(s,G.FlexChart._CSS_SELECTION,e)}else{r.parentNode.insertBefore(r,r.parentNode.childNodes.item(n));o=this._find(r,["rect","ellipse","line","path","polygon"]);this._highlightItems(o,G.FlexChart._CSS_SELECTION,e)}}},a.prototype._updateAuxAxes=function(t,e){for(var i=2;i<t.length;i++){var n=t[i];n._chart=this;for(var r,o,s=[],a=0;a<this.series.length;a++){var l=this.series[a];l.axisX!=n&&l.axisY!=n||s.push(l)}for(a=0;a<s.length;a++){var h=s[a].getDataRect()||s[a]._getDataRect();h&&(n.axisType==G.AxisType.X&&!e||n.axisType==G.AxisType.Y&&e?((void 0===r||h.left<r)&&(r=h.left),(void 0===o||h.right>o)&&(o=h.right)):((void 0===r||h.top<r)&&(r=h.top),(void 0===o||h.bottom>o)&&(o=h.bottom)))}var c=s[0].getDataType(0);null==c&&(c=X.DataType.Number),t[i]._updateActualLimits(c,r,o)}},a._contains=function(t,e){return!(!t||!e)&&(e.x>=t.left&&e.x<=t.right&&e.y>=t.top&&e.y<=t.bottom)},a._intersects=function(t,e){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)},a._toOADate=function(t){return t.valueOf()},a._fromOADate=function(t){return new Date(t)},a._renderText=function(t,e,i,n,r,o,s,a,l){var h=t.measureString(e,o,s,a),c=i.x,u=i.y;switch(n){case 1:c-=.5*h.width;break;case 2:c-=h.width}switch(r){case 1:u+=.5*h.height;break;case 0:u+=h.height}var p=new X.Rect(c,u-h.height,h.width,h.height);return l?l(p)?(t.drawString(e,new X.Point(c,u),o,a),p):null:(t.drawString(e,new X.Point(c,u),o,a),p)},a._renderRotatedText=function(t,e,i,n,r,o,s,a,l,h){var c=t.measureString(e,a,l,h),u=i.x,p=i.y;switch(n){case 1:u-=.5*c.width;break;case 2:u-=c.width}switch(r){case 1:p+=.5*c.height;break;case 0:p+=c.height}return t.drawStringRotated(e,new X.Point(u,p),o,s,a,h)},a._CSS_AXIS_X="wj-axis-x",a._CSS_AXIS_Y="wj-axis-y",a._CSS_LINE="wj-line",a._CSS_GRIDLINE="wj-gridline",a._CSS_TICK="wj-tick",a._CSS_GRIDLINE_MINOR="wj-gridline-minor",a._CSS_TICK_MINOR="wj-tick-minor",a._CSS_LABEL="wj-label",a._CSS_LEGEND="wj-legend",a._CSS_HEADER="wj-header",a._CSS_FOOTER="wj-footer",a._CSS_TITLE="wj-title",a._CSS_SELECTION="wj-state-selected",a._CSS_PLOT_AREA="wj-plot-area",a._CSS_DATA_LABELS="wj-data-labels",a._FG="#666",a._epoch=new Date(1899,11,30).getTime(),a._msPerDay=864e5,a}(G.FlexChartBase);G.FlexChartCore=i;var Y=function(){function t(){this._axes=new Array,this.left=0,this.right=0,this.top=0,this.bottom=0}return Object.defineProperty(t.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0}),t}(),o=function(){function R(){this.stackAbs={},this._xvals=null}return R.prototype.analyse=function(t,e,i,n,r,o){var s=this;this.minY=NaN,this.maxY=NaN,this.minX=NaN,this.maxX=NaN,this.minXp=NaN,this.minYp=NaN,this.dx=0;var a={},l={},h={};if(this.dataTypeX=null,(this.dataTypeY=null)!=(this._xvals=n))for(var c=n.length,u=0;u<c;u++){var p=n[u];if((isNaN(this.minX)||this.minX>p)&&(this.minX=p),(isNaN(this.maxX)||this.maxX<p)&&(this.maxX=p),0<p&&(isNaN(this.minXp)||this.minXp>p)&&(this.minXp=p),0<u){var d=Math.abs(p-n[u-1]);!isNaN(d)&&(d<this.dx||0==this.dx)&&(this.dx=d)}}for(u=0;u<t.length;u++){var _=t[u],f=_._getChartType(),g=void 0!==_.chartType,m=_.visibility;if(m!=G.SeriesVisibility.Hidden&&m!=G.SeriesVisibility.Legend){var y,v=_.getDataRect();v&&(!isNaN(this.minX)&&this.minX<v.left&&(y=v.right,v.left=this.minX,v.width=y-this.minX),!isNaN(this.maxX)&&this.maxX>v.right&&(v.width=this.maxX-v.left),!isNaN(this.minY)&&this.minY<v.top&&(y=v.bottom,v.top=this.minY,v.height=y-this.minY),!isNaN(this.maxY)&&this.maxY>v.bottom&&(v.height=this.maxY-v.top));var b=null;if(e?_._isCustomAxisY()||(b=_.getValues(1)):_._isCustomAxisX()||(b=_.getValues(1)),b){this.dataTypeX||(this.dataTypeX=_.getDataType(1));for(var w=0;w<b.length;w++){var C=b[w];if(R.isValid(C)&&((isNaN(this.minX)||this.minX>C)&&(this.minX=C),(isNaN(this.maxX)||this.maxX<C)&&(this.maxX=C),0<w&&(!f||f==G.ChartType.Column||f==G.ChartType.Bar))){d=Math.abs(C-b[w-1]);!isNaN(d)&&0<d&&(d<this.dx||0==this.dx)&&(this.dx=d)}}}var x=null,S=!1;if(S=e?_._isCustomAxisX():_._isCustomAxisY(),(x=_.getValues(0))&&(this.dataTypeY||S||(this.dataTypeY=_.getDataType(0)),isNaN(this.minX)?this.minX=0:b||n||(this.minX=Math.min(this.minX,0)),isNaN(this.maxX)?this.maxX=x.length-1:b||n||(this.maxX=Math.max(this.maxX,x.length-1)),!S))for(w=0;w<x.length;w++){C=x[w],p=b?X.asNumber(b[w],!0):n?X.asNumber(n[w],!0):w;X.isArray(C)?C.forEach(function(t){s._parseYVal(t,p,g,h,a,l)}):this._parseYVal(C,p,g,h,a,l)}var E=_.getDataRect(new X.Rect(this.minX,this.minY,this.maxX-this.minX,this.maxY-this.minY),v);E&&(this.minX=E.left,this.maxX=E.right,this.minY=E.top,this.maxY=E.bottom)}}if(i==D.Stacked){for(var P in a)a[P]>this.maxY&&(this.maxY=a[P]);for(var P in l)l[P]<this.minY&&(this.minY=l[P])}else if(i==D.Stacked100pc)for(var P in this.minY=0,this.maxY=1,h){var T=h[P];if(isFinite(T)&&0!=T){var M=a[P],A=l[P];isFinite(M)&&(M=Math.min(M/T,this.maxY)),isFinite(A)&&(A=Math.max(A/T,this.minY))}}this.stackAbs=h,r&&(e?this.minY=isNaN(this.minYp)?1:this.minYp:this.minX=isNaN(this.minXp)?1:this.minXp),o&&(e?this.minX=isNaN(this.minXp)?1:this.minXp:this.minY=isNaN(this.minYp)?1:this.minYp)},R.prototype._parseYVal=function(t,e,i,n,r,o){R.isValid(t)&&(null!=t&&(isNaN(this.minY)||this.minY>t)&&(this.minY=t),null!=t&&(isNaN(this.maxY)||this.maxY<t)&&(this.maxY=t),0<t&&(isNaN(this.minYp)||this.minYp>t)&&(this.minYp=t),i||(0<t?isNaN(r[e])?r[e]=t:r[e]+=t:isNaN(o[e])?o[e]=t:o[e]+=t,isNaN(n[e])?n[e]=Math.abs(t):n[e]+=Math.abs(t)))},R.prototype.getMinY=function(){return this.minY},R.prototype.getMaxY=function(){return this.maxY},R.prototype.getMinX=function(){return this.minX},R.prototype.getMaxX=function(){return this.maxX},R.prototype.getMinXp=function(){return this.minXp},R.prototype.getMinYp=function(){return this.minYp},R.prototype.getDeltaX=function(){return this.dx},R.prototype.getDataTypeX=function(){return this.dataTypeX},R.prototype.getDataTypeY=function(){return this.dataTypeY},R.prototype.getStackedAbsSum=function(t){var e=this.stackAbs[t];return isFinite(e)?e:0},R.prototype.getXVals=function(){return this._xvals},R.isValid=function(t){return isFinite(t)},R}();G._DataInfo=o;var s=function(e){function t(){var t=e.call(this)||this;return t._content="<b>{seriesName}</b><br/>{x} {y}",t._threshold=15,t}return __extends(t,e),Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(t){t!=this._content&&(this._content=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"threshold",{get:function(){return this._threshold},set:function(t){t!=this._threshold&&(this._threshold=X.asNumber(t))},enumerable:!0,configurable:!0}),t}(X.Tooltip);G.ChartTooltip=s}(X.chart||(X.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(o){!function(e){"use strict";var r,t;(t=r=e.ChartType||(e.ChartType={}))[t.Column=0]="Column",t[t.Bar=1]="Bar",t[t.Scatter=2]="Scatter",t[t.Line=3]="Line",t[t.LineSymbols=4]="LineSymbols",t[t.Area=5]="Area",t[t.Bubble=6]="Bubble",t[t.Candlestick=7]="Candlestick",t[t.HighLowOpenClose=8]="HighLowOpenClose",t[t.Spline=9]="Spline",t[t.SplineSymbols=10]="SplineSymbols",t[t.SplineArea=11]="SplineArea",t[t.Funnel=12]="Funnel";var i=function(n){function t(t,e){var i=n.call(this,t,null)||this;return i._chartType=r.Column,i.initialize(e),i}return __extends(t,n),t.prototype._getChartType=function(){return this._chartType},Object.defineProperty(t.prototype,"chartType",{get:function(){return this._chartType},set:function(t){(t=o.asEnum(t,r))!=this._chartType&&(this._chartType=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotated",{get:function(){return this._rotated},set:function(t){t!=this._rotated&&(this._rotated=o.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stacking",{get:function(){return this._stacking},set:function(t){(t=o.asEnum(t,e.Stacking))!=this._stacking&&(this._stacking=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(t){t!=this._options&&(this._options=t,this.invalidate())},enumerable:!0,configurable:!0}),t}(e.FlexChartCore);e.FlexChart=i}(o.chart||(o.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(D){!function(P){"use strict";var T,t,M,e,A,i,R,n;(t=T=P.Position||(P.Position={}))[t.None=0]="None",t[t.Left=1]="Left",t[t.Top=2]="Top",t[t.Right=3]="Right",t[t.Bottom=4]="Bottom",t[t.Auto=5]="Auto",(e=M=P.AxisType||(P.AxisType={}))[e.X=0]="X",e[e.Y=1]="Y",(i=A=P.OverlappingLabels||(P.OverlappingLabels={}))[i.Auto=0]="Auto",i[i.Show=1]="Show",(n=R=P.TickMark||(P.TickMark={}))[n.None=0]="None",n[n.Outside=1]="Outside",n[n.Inside=2]="Inside",n[n.Cross=3]="Cross";var r=function(){function w(t){this._GRIDLINE_WIDTH=1,this._LINE_WIDTH=1,this._TICK_WIDTH=1,this._TICK_HEIGHT=4,this._TICK_OVERLAP=1,this._TICK_LABEL_DISTANCE=4,this._minorGrid=!1,this._labels=!0,this._axisLine=!0,this._isTimeAxis=!1,this._labelPadding=5,this.rangeChanged=new D.Event,this._customConvert=null,this._customConvertBack=null,this.__uniqueId=w._id++,(this._position=t)==T.Bottom||t==T.Top?this._axisType=M.X:(this._axisType=M.Y,this._axisLine=!1),this._minorTickMarks=R.None,this._overlap=A.Auto}return Object.defineProperty(w.prototype,"hostElement",{get:function(){return this._hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"actualMin",{get:function(){return this._isTimeAxis?new Date(this._actualMin):this._actualMin},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"actualMax",{get:function(){return this._isTimeAxis?new Date(this._actualMax):this._actualMax},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"min",{get:function(){return this._min},set:function(t){t!=this._min&&(D.isDate(t)?this._min=D.asDate(t,!0):this._min=D.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"max",{get:function(){return this._max},set:function(t){t!=this._max&&(D.isDate(t)?this._max=D.asDate(t,!0):this._max=D.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"reversed",{get:function(){return this._reversed},set:function(t){this._reversed!=t&&(this._reversed=D.asBoolean(t),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"position",{get:function(){return this._position},set:function(t){(t=D.asEnum(t,T,!1))!=this._position&&(this._position=t,this._position==T.Bottom||this._position==T.Top?this._axisType=M.X:this._position!=T.Left&&this._position!=T.Right||(this._axisType=M.Y),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"majorUnit",{get:function(){return this._majorUnit},set:function(t){t!=this._majorUnit&&(this._majorUnit=D.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"minorUnit",{get:function(){return this._minorUnit},set:function(t){t!=this._minorUnit&&(this._minorUnit=D.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"name",{get:function(){return this._name},set:function(t){t!=this._name&&(this._name=D.asString(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"title",{get:function(){return this._title},set:function(t){t!=this._title&&(this._title=D.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"format",{get:function(){return this._format},set:function(t){t!=this._format&&(this._format=D.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"majorGrid",{get:function(){return this._majorGrid},set:function(t){t!=this._majorGrid&&(this._majorGrid=D.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"majorTickMarks",{get:function(){return this._majorTickMarks},set:function(t){(t=D.asEnum(t,R,!0))!=this._majorTickMarks&&(this._majorTickMarks=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"minorGrid",{get:function(){return this._minorGrid},set:function(t){t!=this._minorGrid&&(this._minorGrid=D.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"minorTickMarks",{get:function(){return this._minorTickMarks},set:function(t){(t=D.asEnum(t,R,!0))!=this._minorTickMarks&&(this._minorTickMarks=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"axisLine",{get:function(){return this._axisLine},set:function(t){t!=this._axisLine&&(this._axisLine=D.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"labels",{get:function(){return this._labels},set:function(t){t!=this._labels&&(this._labels=D.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"labelAlign",{get:function(){return this._labelAlign},set:function(t){t!=this._labelAlign&&(this._labelAlign=D.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"labelAngle",{get:function(){return this._labelAngle},set:function(t){t!=this._labelAngle&&(this._labelAngle=D.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"origin",{get:function(){return this._origin},set:function(t){t!=this._origin&&(this._origin=D.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"overlappingLabels",{get:function(){return this._overlap},set:function(t){(t=D.asEnum(t,A,!0))!=this._overlap&&(this._overlap=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=D.asCollectionView(t),null!=this._cv&&this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this))},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=D.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"itemFormatter",{get:function(){return this._ifmt},set:function(t){this._ifmt!=t&&(this._ifmt=D.asFunction(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"logBase",{get:function(){return this._logBase},set:function(t){t!=this._logBase&&(this._logBase=D.asNumber(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),w.prototype._getLogBase=function(){return this._chart&&this._chart._stacking===P.Stacking.Stacked100pc?0:this.logBase},Object.defineProperty(w.prototype,"plotArea",{get:function(){return this._parea},set:function(t){t!=this._parea&&(this._parea=D.asType(t,P.PlotArea,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"labelPadding",{get:function(){return this._labelPadding},set:function(t){t!=this._labelPadding&&(this._labelPadding=D.asNumber(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"_groupClass",{get:function(){return this.axisType===M.X?P.FlexChartCore._CSS_AXIS_X:P.FlexChartCore._CSS_AXIS_Y},enumerable:!0,configurable:!0}),w.prototype.onRangeChanged=function(t){this.rangeChanged.raise(this,t)},w.prototype._getPosition=function(){if(this.axisType==M.X){if(this.position==T.Auto)return T.Bottom}else if(this.axisType==M.Y&&this.position==T.Auto)return T.Left;return this.position},w.prototype._isOverlapped=function(t,e,i,n){var r=this._lbls;if(null!=r&&1<r.length)for(var o=r.length,s=this._values&&this._values.length==o?this._values:null,a=0,l=0,h=0;h<o;h++){var c=s?s[h]:h;if(c>=this._actualMin&&c<=this._actualMax){var u=e*(c-this._actualMin)/(this._actualMax-this._actualMin),p=t.measureString(r[h],i,this._groupClass);if(this.axisType==M.X){if(0<h&&Math.abs(u-a)<Math.max(p.width,l)+12)return!0;a=u,l=p.width}else this.axisType,M.Y}}return!1},w.prototype._getHeight=function(t,e){this._actualAngle=null;var i=P.FlexChart._CSS_LABEL,n=P.FlexChart._CSS_TITLE,r=this._actualMax-this._actualMin,o=this._nicePrecision(r);(o<0||15<o)&&(o=0);var s=.1*r,a=this._lbls,l=this.labelAngle;if(this.labels&&this._chart._getChartType()!==P.ChartType.Funnel){if(s=this._updateAutoFormat(s),null!=a&&0<a.length){var h=a.length,c=this._values&&this._values.length==h?this._values:null;this._annoSize=new D.Size;for(var u=0;u<h;u++){var p=c?c[u]:u;if(p>=this._actualMin&&p<=this._actualMax){var d=t.measureString(a[u],i,this._groupClass);this.axisType,M.X,d.width>this._annoSize.width&&(this._annoSize.width=d.width),d.height>this._annoSize.height&&(this._annoSize.height=d.height)}}null==l&&this.axisType==M.X&&(this._isOverlapped(t,e,i,this.axisType)?l=this._actualAngle=-45:this._actualAngle=0)}else{var _=this._formatValue(this._actualMin-s);d=t.measureString(_,i,this._groupClass);this._annoSize=d,_=this._formatValue(this._actualMax+s),(d=t.measureString(_,i,this._groupClass)).width>this._annoSize.width&&(this._annoSize.width=d.width),d.height>this._annoSize.height&&(this._annoSize.height=d.height)}if(l){90<l?l=90:l<-90&&(l=-90);var f=l*Math.PI/180,g=this._annoSize.width,m=this._annoSize.height;this._annoSize.width=g*Math.abs(Math.cos(f))+m*Math.abs(Math.sin(f)),this._annoSize.height=g*Math.abs(Math.sin(f))+m*Math.abs(Math.cos(f))}}else this._annoSize=new D.Size;m=2*(this._labelPadding||5);this._axisType==M.X?m+=this._annoSize.height:m+=this._annoSize.width+this._TICK_LABEL_DISTANCE+2;var y=this._TICK_HEIGHT,v=this._TICK_OVERLAP;b==R.Outside?v=1:b==R.Inside?v=-1:b==R.Cross&&(v=0);var b=this.majorTickMarks;return null==b&&(b=R.Outside),b!=R.None&&(m+=.5*(1+v)*y),this._title&&(_=this._title,this._szTitle=t.measureString(_,n,this._groupClass),m+=this._szTitle.height),t.fontSize=null,m},w.prototype._updateAutoFormat=function(t){if(this._isTimeAxis){var e=this.format,i=.001*this._getActualRange()/10,n=new x(i*x.TicksPerSecond),r=D.isNumber(this._majorUnit)?x.fromDays(this._majorUnit):S.NiceTimeSpan(n,e);e||(this._tfmt=S.GetTimeDefaultFormat(1e3*r.TotalSeconds,0)),t=r.TotalSeconds}return t},w.prototype._getActualRange=function(){return this._actualMax-this._actualMin},w.prototype._updateActualLimitsByChartType=function(t,e,i){if(t&&0<t.length&&!this._isTimeAxis){var n=this._chart._getChartType();n!=P.ChartType.Column&&n!=P.ChartType.Bar&&(e-=.5,i+=.5)}return{min:e,max:i}},w.prototype._updateActualLimits=function(t,e,i,n,r){void 0===n&&(n=null),void 0===r&&(r=null);var o=this._actualMin,s=this._actualMax;this._isTimeAxis=t==D.DataType.Date;var a=this._updateActualLimitsByChartType(n,e,i);e=a.min,i=a.max;var l=this._min,h=this._max;if(D.isDate(l)&&(l=l.valueOf()),D.isDate(h)&&(h=h.valueOf()),this._actualMin=null!=l&&this._chart&&this._chart._stacking!==P.Stacking.Stacked100pc?l:e,this._actualMax=null!=h&&this._chart&&this._chart._stacking!==P.Stacking.Stacked100pc?h:i,this._actualMin==this._actualMax&&(this._actualMin-=.5,this._actualMax+=.5),0<this._getLogBase()){var c=this.logBase,u=Math.log(c);if(!this._max){var p=Math.ceil(Math.log(this._actualMax)/u);this._actualMax=Math.pow(c,p)}if(!this._min){var d=Math.floor(Math.log(this._actualMin)/u);this._actualMin=Math.pow(c,d)}(this._actualMin<=0||!D.isNumber(this._actualMin))&&(this._actualMin=1),this._actualMax<this._actualMin&&(this._actualMax=this._actualMin+1)}if((o!=this._actualMin&&(D.isNumber(o)||D.isNumber(this._actualMin))||s!=this._actualMax&&(D.isNumber(s)||D.isNumber(this._actualMax)))&&this.onRangeChanged(),this._items){this._values=[],this._lbls=[];var _=this._items.length,f="value",g="text";if(this.binding){var m=this.binding.split(",");2==m.length&&(f=m[0],g=m[1])}for(var y=0;y<_;y++){var v=this._items[y],b=v[f];D.isNumber(b)&&(this._values.push(b),this._lbls.push(v[g]))}}else this._lbls=n,this._values=r},w.prototype._layout=function(t,e){var i=this.axisType==M.Y;this._plotrect=e,this._axrect=i?new D.Rect(t.left,t.top,t.height,t.width):t},w.prototype._hasVisibileSeries=function(){for(var t,e=this._chart.series,i=0,n=e.length;i<n;i++)if((t=e[i].visibility)==P.SeriesVisibility.Plot||t==P.SeriesVisibility.Visible)return!0;return!1},w.prototype._render=function(t){if(this.position!=T.None&&this._hasVisibileSeries()){this._vals={};var e=0;this.labelAngle&&(90<(e=this.labelAngle)?e=90:e<-90&&(e=-90)),null==this.labelAngle&&null!=this._actualAngle&&(e=this._actualAngle);var i=P.FlexChart._FG,n=this._actualMax-this._actualMin;if(D.isNumber(n)){var r=this._calcMajorUnit();0==r&&(r=.1*this._niceTickNumber(n));var o=Math.min(w.MAX_MAJOR,Math.floor(n/r)+1),s=[],a=[];this._rects=[],this._vals.major=s,this._vals.hasLbls=[];var l=Math.floor(this._actualMin/r)*r;l<this._actualMin&&(l+=r);var h=!1;if(this._lbls&&0<this._lbls.length)if(a=this._lbls,0==this._values.length){h=!0;for(var c=0;c<a.length;c++)s.push(c)}else s=this._values;else this._isTimeAxis?this._createTimeLabels(l,o,s,a):this._getLogBase()?this._createLogarithmicLabels(this._actualMin,this._actualMax,this.majorUnit,s,a,!0):this._createLabels(l,o,r,s,a);o=Math.min(s.length,a.length),t.textFill=i;var u=this._TICK_HEIGHT,p=this._TICK_OVERLAP,d=this.majorTickMarks;null==d&&(d=R.Outside),d==R.Outside?p=1:d==R.Inside?p=-1:d==R.Cross&&(p=0);var _=.5*(p-1)*u,f=.5*(1+p)*u;for(c=0;c<o;c++){var g=!0,m=s[c],y=a[c],v=this.labels;if(v&&(h||this.itemsSource)&&this.majorUnit&&c%this.majorUnit!=0&&(v=!1),m>=this._actualMin&&m<=this._actualMax){var b=t.textFill;g=this._renderLabelsAndTicks(t,c,m,y,e,d,v,_,f),t.textFill=b}this._vals.hasLbls.push(g)}}(this.minorGrid||this.minorTickMarks!=R.None)&&this._renderMinor(t,s,h),t.stroke=i,t.fontSize=null,this._renderLineAndTitle(t),t.stroke=null,t.fontSize=null,t.textFill=null,t.strokeWidth=null}},w.prototype._renderLineAndTitle=function(t){var e=this._getPosition(),i=this.axisType==M.Y,n=e!=T.Top&&e!=T.Right,r=P.FlexChart._CSS_TITLE,o=P.FlexChart._CSS_LINE;if(i)if(n){if(this._title){var s=new D.Point(this._axrect.left+.5*this._szTitle.height,this._axrect.top+.5*this._axrect.height);P.FlexChart._renderRotatedText(t,this._title,s,1,1,s,-90,r,this._groupClass)}this.axisLine&&t.drawLine(this._axrect.right,this._axrect.top,this._axrect.right,this._axrect.bottom,o)}else{if(this._title){s=new D.Point(this._axrect.right-.5*this._szTitle.height,this._axrect.top+.5*this._axrect.height);P.FlexChart._renderRotatedText(t,this._title,s,1,1,s,90,r,this._groupClass)}this.axisLine&&t.drawLine(this._axrect.left,this._axrect.top,this._axrect.left,this._axrect.bottom,o)}else n?(this.axisLine&&t.drawLine(this._axrect.left,this._axrect.top,this._axrect.right,this._axrect.top,o),this._title&&P.FlexChart._renderText(t,this._title,new D.Point(this._axrect.left+.5*this._axrect.width,this._axrect.bottom),1,2,r)):(this.axisLine&&t.drawLine(this._axrect.left,this._axrect.bottom,this._axrect.right,this._axrect.bottom,o),this._title&&P.FlexChart._renderText(t,this._title,new D.Point(this._axrect.left+.5*this._axrect.width,this._axrect.top),1,0,r))},w.prototype._renderMinor=function(t,e,i){var n=this._getPosition(),r=this.axisType==M.Y,o=n!=T.Top&&n!=T.Right;if(this._getLogBase()){if(0<this.minorUnit){var s=[];this._createLogarithmicLabels(this._actualMin,this._actualMax,this.minorUnit,s,null,!1);for(var a=[],l=0;l<s.length;l++){var h=s[l];-1==e.indexOf(h)&&h>this._actualMin&&a.push(h)}this._renderMinors(t,a,r,o)}}else this._createMinors(t,e,r,o,i)},w.prototype._renderRotatedText=function(t,e,i,n,r,o,s,a,l,h,c){if(this.itemFormatter){var u=this._getFormattedItem(t,e,i,n,l);u?(i=u.text,l=u.cls):i=null}P.FlexChart._renderRotatedText(t,i,n,r,o,s,a,l,h,c)},w.prototype._getFormattedItem=function(t,e,i,n,r){if(this.itemFormatter){var o=n.clone();this.axisType==M.X?this.position==T.Top?o.y=this._plotrect.top:o.y=this._plotrect.bottom:this.position==T.Right?o.x=this._plotrect.right:o.x=this._plotrect.left;var s={val:e,text:i,pos:o,cls:r};return s=this.itemFormatter(t,s)}},w.prototype._renderLabelsAndTicks=function(t,e,i,n,r,o,s,a,l){var h=this._getPosition(),c=!0,u=this.axisType==M.Y,p=h!=T.Top&&h!=T.Right,d=this.labelPadding||5,_=this._TICK_WIDTH,f=this._getLabelAlign(u),g=P.FlexChart._CSS_LABEL,m=P.FlexChart._CSS_GRIDLINE,y=P.FlexChart._CSS_TICK,v=P.FlexChart._FG,b=P.FlexChart._FG,w=this._GRIDLINE_WIDTH,C=i!=this._actualMin&&this.majorGrid;if(u){var x=this.convert(i);if(C&&(t.stroke=v,t.strokeWidth=w,t.drawLine(this._plotrect.left,x,this._plotrect.right,x,m)),t.stroke=b,t.strokeWidth=_,p){if(o!=R.None&&t.drawLine(this._axrect.right-a,x,this._axrect.right-l,x,y),s){var S=new D.Point(this._axrect.right-l-this._TICK_LABEL_DISTANCE-d,x);0<r?90==r?this._renderRotatedText(t,i,n,S,1,0,S,r,g,this._groupClass):this._renderRotatedText(t,i,n,S,2,1,S,r,g,this._groupClass):r<0?-90==r?this._renderRotatedText(t,i,n,S,1,2,S,r,g,this._groupClass):this._renderRotatedText(t,i,n,S,2,1,S,r,g,this._groupClass):this._renderLabel(t,i,n,S,2,f,g)}}else if(o!=R.None&&t.drawLine(this._axrect.left+a,x,this._axrect.left+l,x,y),s){S=new D.Point(this._axrect.left+l+this._TICK_LABEL_DISTANCE+d,x);0<r?90==r?this._renderRotatedText(t,i,n,S,1,2,S,r,g,this._groupClass):this._renderRotatedText(t,i,n,S,0,1,S,r,g,this._groupClass):r<0?-90==r?this._renderRotatedText(t,i,n,S,1,0,S,r,g,this._groupClass):this._renderRotatedText(t,i,n,S,0,1,S,r,g,this._groupClass):this._renderLabel(t,i,n,S,0,f,g)}}else{var E=this.convert(i);if(this.overlappingLabels==A.Auto&&this._xCross(E)&&(s=!1),C&&s&&(t.stroke=v,t.strokeWidth=w,t.drawLine(E,this._plotrect.top,E,this._plotrect.bottom,m)),t.stroke=b,t.strokeWidth=_,p){if(c=!1,s){S=new D.Point(E,this._axrect.top+l+d);c=0!=r?this._renderRotatedLabel(t,i,n,S,f,r,g,p):this._renderLabel(t,i,n,S,f,0,g)}o!=R.None&&c&&(E=this.convert(i),t.drawLine(E,this._axrect.top+a,E,this._axrect.top+l,y))}else{if(s){S=new D.Point(E,this._axrect.bottom-l-d);c=0!=r?this._renderRotatedLabel(t,i,n,S,f,r,g,p):this._renderLabel(t,i,n,S,f,2,g)}o!=R.None&&c&&(E=this.convert(i),t.drawLine(E,this._axrect.bottom-a,E,this._axrect.bottom-l,y))}}return c},w.prototype._xCross=function(t){for(var e=this._rects.length,i=0;i<e;i++){var n=this._rects[i];if(t>=n.left&&t<=n.right)return!0}return!1},w.prototype._createMinors=function(t,e,i,n,r){if(e&&1<e.length){for(var o=this.majorUnit?this._isTimeAxis?24*this.majorUnit*3600*1e3:this.majorUnit:e[1]-e[0],s=D.isNumber(this.minorUnit)?this._isTimeAxis?24*this.minorUnit*3600*1e3:this.minorUnit:.5*o,a=[],l=e[0];l>this._actualMin&&a.length<w.MAX_MINOR;l-=s)-1==e.indexOf(l)&&a.push(l);for(l=e[0]+s;l<this._actualMax&&a.length<w.MAX_MINOR;l+=s)-1==e.indexOf(l)?a.push(l):r&&this.majorUnit&&l%this.majorUnit!=0&&a.push(l);this._renderMinors(t,a,i,n)}},w.prototype._renderMinors=function(t,e,i,n){var r=this._TICK_HEIGHT,o=this._TICK_WIDTH,s=this._TICK_OVERLAP,a=P.FlexChart._FG,l=this.minorTickMarks,h=!0;this._vals.minor=e,l==R.Outside?s=1:l==R.Inside?s=-1:l==R.Cross?s=0:h=!1;for(var c=.5*(s-1)*r,u=.5*(1+s)*r,p=e?e.length:0,d=this.minorGrid,_=this._plotrect,f=this._GRIDLINE_WIDTH,g=P.FlexChart._FG,m=P.FlexChart._CSS_GRIDLINE_MINOR,y=P.FlexChart._CSS_TICK_MINOR,v=0;v<p;v++)if(e[v]>=this.actualMin&&e[v]<=this.actualMax)if(i){var b=this.convert(e[v]);h&&(t.stroke=a,t.strokeWidth=o,n?t.drawLine(this._axrect.right-c,b,this._axrect.right-u,b,y):t.drawLine(this._axrect.left+c,b,this._axrect.left+u,b,y)),d&&(t.stroke=g,t.strokeWidth=f,t.drawLine(_.left,b,_.right,b,m))}else{var w=this.convert(e[v]);h&&(t.stroke=a,t.strokeWidth=o,n?t.drawLine(w,this._axrect.top+c,w,this._axrect.top+u,y):t.drawLine(w,this._axrect.bottom-c,w,this._axrect.bottom-u,y)),d&&(t.stroke=g,t.strokeWidth=f,t.drawLine(w,_.top,w,_.bottom,m))}},w.prototype._renderLabel=function(t,e,i,n,r,o,s){var a=!1;if(this.itemFormatter){var l=this._getFormattedItem(t,e,i,n,s);l?(i=l.text,s=l.cls):i=null}if(i){var h=this._rects,c=this.overlappingLabels==A.Auto&&!D.isNumber(this._actualAngle),u=P.FlexChart._renderText(t,i,n,r,o,s,this._groupClass,null,function(t){if(c)for(var e=h.length,i=0;i<e;i++)if(P.FlexChart._intersects(h[i],t))return!1;return!0});u&&(u.left+=4,u.width+=8,h.push(u),a=!0)}return a},w.prototype._renderRotatedLabel=function(t,e,i,n,r,o,s,a){if(this.itemFormatter){var l=this._getFormattedItem(t,e,i,n,s);l?(i=l.text,s=l.cls):i=null}if(i){var h=t.measureString(i,s,this._groupClass),c=.5*h.height,u=.5*h.width*Math.abs(Math.sin(o*Math.PI/180)),p=.5*h.width,d=.5*(h.width*Math.abs(Math.cos(o*Math.PI/180))+h.height*Math.abs(Math.sin(o*Math.PI/180))),_=new D.Point(n.x,n.y),f=new D.Point(n.x,n.y);this.labelAlign||(r=90==o||-90==o?1:a?0<o?0:2:0<o?2:0),a?(n.y+=c+u,_.y+=c+u-.5*h.height):(n.y-=c+u-h.height,_.y-=c+u-.5*h.height);var g=0;2===r?(_.x-=d,n.x-=p+d,g=_.x+d-h.height-2):0===r?(_.x+=d,n.x-=p-d,g=_.x-d):(n.x-=p,g=_.x-h.height/2);var m=new D.Rect(g,f.y,h.height+2,h.width),y=this._rects;if(this.overlappingLabels==A.Auto)for(var v=y.length,b=0;b<v;b++)if(P.FlexChart._intersects(y[b],m))return!1;return P.FlexChart._renderRotatedText(t,i,n,0,2,_,o,s,this._groupClass),this._rects.push(m),!0}return!1},w.prototype._getLabelAlign=function(t){var e=1;if(this.labelAlign){var i=this.labelAlign.toLowerCase();t?"top"==i?e=0:"bottom"==i&&(e=2):"left"==i?e=0:"right"==i&&(e=2)}return e},w.prototype.convert=function(t,e,i){var n=null==e?this._actualMax:e,r=null==i?this._actualMin:i;if(n==r)return 0;var o=this._axrect.left,s=this._axrect.width,a=this._axrect.top,l=this._axrect.height;if(null!=this._customConvert){var h=this._customConvert(t,r,n);return this.axisType==M.Y?a+h*l:o+h*s}if(this._getLogBase()){if(t<=0)return NaN;var c=Math.log(n/r);return this._reversed?this.axisType==M.Y?a+Math.log(t/r)/c*l:o+s-Math.log(t/r)/c*s:this.axisType==M.Y?a+l-Math.log(t/r)/c*l:o+Math.log(t/r)/c*s}return this._reversed?this.axisType==M.Y?a+(t-r)/(n-r)*l:o+s-(t-r)/(n-r)*s:this.axisType==M.Y?a+l-(t-r)/(n-r)*l:o+(t-r)/(n-r)*s},w.prototype.convertBack=function(t){if(this._actualMax==this._actualMin)return 0;var e=this._plotrect.left,i=this._plotrect.width,n=this._plotrect.top,r=this._plotrect.height,o=this._actualMax-this._actualMin,s=this._getLogBase();if(null!=this._customConvertBack)return this.axisType==M.Y?this._customConvertBack((t-n)/r,this._actualMin,this._actualMax):this._customConvertBack((t-e)/i,this._actualMin,this._actualMax);if(s){var a=0;return a=this._reversed?this.axisType==M.Y?(t-n)/r:1-(t-e)/i:this.axisType==M.Y?1-(t-n)/r:(t-e)/i,Math.pow(s,(Math.log(this._actualMin)+(Math.log(this._actualMax)-Math.log(this._actualMin))*a)/Math.log(s))}return this._reversed?this.axisType==M.Y?this._actualMin+(t-n)*o/r:this._actualMin+(e+i-t)*o/i:this.axisType==M.Y?this._actualMax-(t-n)*o/r:this._actualMin+(t-e)*o/i},Object.defineProperty(w.prototype,"axisType",{get:function(){var t=this._chart;if(t){if(t.axisX==this)return M.X;if(t.axisY==this)return M.Y}return this._axisType},enumerable:!0,configurable:!0}),w.prototype._getMinNum=function(){return this._actualMin},w.prototype._getMaxNum=function(){return this._actualMax},w.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},w.prototype._cvCollectionChanged=function(t,e){this._invalidate()},w.prototype._createLabels=function(t,e,i,n,r){for(var o=0;o<e;o++){var s=(t+i*o).toFixed(14),a=parseFloat(s),l=this._formatValue(a);n.push(a),r.push(l)}},w.prototype._createLogarithmicLabels=function(t,e,i,n,r,o){var s=this._getLogBase(),a=Math.log(s),l=Math.floor(Math.log(t)/a),h=Math.ceil(Math.log(e)/a),c=s,u=!0;0<i&&(u=!1,c=i),c<s&&(c=s);var p=(h-l+1)*s/c,d=1;if(o){var _=this._getPosition(),f=this._getAnnoNumber(_==T.Left||_==T.Right);f<p?d=Math.floor(p/f+1):u&&(p<=.2*f?c=.2*s:p<=.1*f&&(c=.1*s))}for(var g=l;g<=h;g+=d){if(u)for(var m=Math.pow(s,g),y=0;y*c<s-1;y++){var v;t<=(v=m*(1+y*c))&&v<=e&&(0==y?(n.unshift(v),r&&r.unshift(this._formatValue(v))):(n.push(v),r&&r.push(this._formatValue(v))))}else t<=(v=Math.pow(c,g))&&v<=e&&(n.push(v),r&&r.push(this._formatValue(v)))}},w.prototype._createTimeLabels=function(t,e,i,n){var r=this._actualMin,o=this._actualMax,s=new Date(r),a=new Date(o),l=this._format,h=this._getAnnoNumber(this._axisType==M.Y);12<h&&(h=12);var c=.001*(this._actualMax-this._actualMin)/h,u=new x(c*x.TicksPerSecond),p=D.isNumber(this._majorUnit)?x.fromDays(this._majorUnit):S.NiceTimeSpan(u,l);l||(this._tfmt=l=S.GetTimeDefaultFormat(1e3*p.TotalSeconds,0));var d=p.Ticks,_=S.RoundTime(r,p.TotalDays,!1);isFinite(_)&&(r=_);var f=S.RoundTime(o,p.TotalDays,!0);isFinite(f)&&(o=f);var g=new Date(r);new Date(o);if(365<=p.TotalDays&&!D.isNumber(this._majorUnit)){(g=new Date(s.getFullYear(),1,1))<s&&g.setFullYear(g.getFullYear()+1);var m=p.TotalDays/365;m-=m%1;for(var y=g;y<=a&&m;y.setFullYear(y.getFullYear()+m)){var v=y.valueOf();i.push(v),n.push(this._formatValue(v))}}else if(30<=p.TotalDays&&!D.isNumber(this._majorUnit)){(g=new Date(s.getFullYear(),s.getMonth(),1))<s&&g.setMonth(g.getMonth()+1);var b=p.TotalDays/30;b-=b%1;for(y=g;y<=a;y.setMonth(y.getMonth()+b)){v=y.valueOf();i.push(v),n.push(this._formatValue(v))}}else{var w=1e3*d/x.TicksPerSecond,C=(y=g,s.getTime()-y.getTime());for(w<C&&(y=new Date(y.getTime()+Math.floor(C/w)*w));y<=a&&w;y=new Date(y.getTime()+w))if(s<=y){v=y.valueOf();i.push(v),n.push(this._formatValue(v))}}},w.prototype._formatValue=function(t){if(this._isTimeAxis)return this._format?D.Globalize.format(new Date(t),this._format):D.Globalize.format(new Date(t),this._tfmt);if(this._format)return D.Globalize.format(t,this._format);var e=t==Math.round(t)?"n0":"n";return D.Globalize.format(t,e)},w.prototype._calcMajorUnit=function(){var t=this._majorUnit;if(!D.isNumber(t)){var e=this._actualMax-this._actualMin,i=this._nicePrecision(e),n=e/this._getAnnoNumber(this.axisType==M.Y);(t=this._niceNumber(2*n,-i,!0))<n&&(t=this._niceNumber(n,1-i,!1)),t<n&&(t=this._niceTickNumber(n))}return t},w.prototype._getAnnoNumber=function(t){var e=t?this._annoSize.height:this._annoSize.width,i=t?this._axrect.height:this._axrect.width;if(0<e&&0<i){var n=Math.floor(i/(e+6));return n<=0&&(n=1),n}return 10},w.prototype._nicePrecision=function(t){if(!D.isNumber(t)||t<=0)return 0;var e,i=Math.log(t)/Math.LN10;e=0<=i?Math.floor(i):Math.ceil(i);var n=t/Math.pow(10,e);return n<3&&(e=1-e,(n=t/Math.pow(10,e))<3&&(e+=1)),e},w.prototype._niceTickNumber=function(t){if(0==t)return t;t<0&&(t=-t);var e=Math.log(t)/Math.LN10,i=Math.floor(e),n=t/Math.pow(10,i),r=10;return n<=1?r=1:n<=2?r=2:n<=5&&(r=5),r*Math.pow(10,i)},w.prototype._niceNumber=function(t,e,i){if(0==t)return t;t<0&&(t=-t);var n=t/Math.pow(10,e),r=10;return i?n<1.5?r=1:n<3?r=2:n<4.5?r=4:n<7&&(r=5):n<=1?r=1:n<=2?r=2:n<=5&&(r=5),r*Math.pow(10,e)},Object.defineProperty(w.prototype,"_uniqueId",{get:function(){return this.__uniqueId},enumerable:!0,configurable:!0}),w.MAX_MAJOR=1e3,w.MAX_MINOR=2e3,w._id=0,w}();P.Axis=r;var h,o,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getAxis=function(t){var e=this.indexOf(t);return-1<e?this[e]:null},e.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e].name==t)return e;return-1},e}(D.collections.ObservableArray);P.AxisCollection=s,(o=h||(h={}))[o.tickf7=-7]="tickf7",o[o.tickf6=-6]="tickf6",o[o.tickf5=-5]="tickf5",o[o.tickf4=-4]="tickf4",o[o.tickf3=-3]="tickf3",o[o.tickf2=-2]="tickf2",o[o.tickf1=-1]="tickf1",o[o.second=1]="second",o[o.minute=60]="minute",o[o.hour=3600]="hour",o[o.day=86400]="day",o[o.week=604800]="week",o[o.month=2678400]="month",o[o.year=31536e3]="year",o[o.maxtime=Number.MAX_VALUE]="maxtime";var x=function(){function e(t){this.ticks=t}return Object.defineProperty(e.prototype,"Ticks",{get:function(){return this.ticks},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TotalSeconds",{get:function(){return this.ticks/1e7},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TotalDays",{get:function(){return this.ticks/1e7/86400},enumerable:!0,configurable:!0}),e.fromSeconds=function(t){return new e(1e7*t)},e.fromDays=function(t){return new e(1e7*t*24*60*60)},e.TicksPerSecond=1e7,e}(),S=function(){function l(t){D.isDate(t)?this.init(t):D.isNumber(t)&&this.init(P.FlexChart._fromOADate(t))}return l.prototype.init=function(t){this.year=t.getFullYear(),this.month=t.getMonth(),this.day=t.getDate(),this.hour=t.getHours(),this.minute=t.getMinutes(),this.second=t.getSeconds()},l.prototype.getTimeAsDateTime=function(){24<=this.hour&&(this.hour-=24,this.day+=1),this.month<0?(-1-this.day,this.month=1):11<this.month&&(this.month-12,this.month=12),this.day<1?(-1-this.day,this.day=1):28<this.day&&2==this.month?(this.day-28,this.day=28):30<this.day&&(4==this.month||4==this.month||6==this.month||9==this.month||11==this.month)?(this.day-30,this.day=30):31<this.day&&(this.day-31,this.day=31),59<this.second&&(this.second-59,this.second=59);return 59<this.minute&&(this.minute-59,this.minute=59),new Date(this.year,this.month,this.day,this.hour,this.minute,this.second)},l.prototype.getTimeAsDouble=function(){return this.getTimeAsDateTime().valueOf()},l.tround=function(t,e,i){var n=t/e*e;return n-=n%1,i&&n!=t&&(n+=e-=e%1),n},l.RoundTime=function(t,e,i){var n=24*e*60*60;if(0<n){var r=new l(t);return n<h.minute?(r.second=this.tround(r.second,n,i),r.getTimeAsDouble()):(r.second=0,n<h.hour?(n/=h.minute,r.minute=this.tround(r.minute,n,i),r.getTimeAsDouble()):(r.minute=0,n<h.day?(n/=h.hour,r.hour=this.tround(r.hour,n,i),r.getTimeAsDouble()):(r.hour=0,n<h.month?(n/=h.day,r.day=this.tround(r.day,n,i),r.getTimeAsDouble()):(r.day=1,n<h.year?(n/=h.month,1!=r.month&&(r.month=this.tround(r.month,n,i))):(r.month=1,n/=h.year,r.year=this.tround(r.year,n,i)),r.getTimeAsDouble()))))}var o=t,s=o-n,a=s/e*e;return i&&a!=s&&(a+=e),o=n+a},l.TimeSpanFromTmInc=function(t){var e=x.fromSeconds(1);if(t!=h.maxtime)if(t>h.tickf1)e=x.fromSeconds(t);else{var i=t,n=1;for(i+=7;0<i;)n*=10,i--;e=new x(n)}return e},l.manualTimeInc=function(t){var e=h.second;if(null==t||0==t.length)return e;var i=t.indexOf("f");if(0<=i){var n=-1;if(0<i&&"%"==t.substr(i-1,1))n=-1;else for(var r=1;r<6&&!(i+r>=t.length);r++){if("f"!=t.substr(i+r,1))break;n--}e=n}else 0<=t.indexOf("s")?e=h.second:0<=t.indexOf("m")?e=h.minute:0<=t.indexOf("h")||t.indexOf("H")?e=h.hour:0<=t.indexOf("d")?e=h.day:0<=t.indexOf("M")?e=h.month:0<=t.indexOf("y")&&(e=h.year);return e},l.getNiceInc=function(t,e,i){for(var n=0;n<t.length;n++){var r=t[n]*i;if(e<=r)return r}return 0},l.NiceTimeSpan=function(t,e){var i=h.second;null!=e&&0<e.length&&(i=l.manualTimeInc(e));var n=0,r=0;if(i<h.second&&t.TotalSeconds<10){for(n=t.Ticks,r=l.TimeSpanFromTmInc(i).Ticks;10*r<n;)r*=10;var o=r;return o<n&&(o*=2),o<n&&(o=5*r),o<n&&(o=10*r),new x(o)}if(0==(n=Math.ceil(t.TotalSeconds)))return l.TimeSpanFromTmInc(i);if(r=1,i<h.minute){if(n<h.minute&&0!=(r=l.getNiceInc([1,2,5,10,15,30],n,i)))return x.fromSeconds(r);i=h.minute}if(i<h.hour){if(n<h.hour&&0!=(r=l.getNiceInc([1,2,5,10,15,30],n,i)))return x.fromSeconds(r);i=h.hour}if(i<h.day){if(n<h.day&&0!=(r=l.getNiceInc([1,3,6,12],n,i)))return x.fromSeconds(r);i=h.day}if(i<h.month){if(n<h.month&&0!=(r=l.getNiceInc([1,2,7,14],n,i)))return x.fromSeconds(r);i=h.month}if(i<h.year){if(n<h.year&&0!=(r=l.getNiceInc([1,2,3,4,6],n,i)))return x.fromSeconds(r);i=h.year}return n<(r=100*h.year)&&0==(r=l.getNiceInc([1,2,5,10,20,50],n,i))&&(r=100*h.year),x.fromSeconds(r)},l.NiceTimeUnit=function(t,e){var i=x.fromDays(t);return(i=l.NiceTimeSpan(i,e)).TotalDays},l.GetTimeDefaultFormat=function(t,e){if(!D.isNumber(t)||!D.isNumber(e))return"";var i="s",n=x.fromSeconds(.001*(t-e)),r=n.TotalSeconds;if(r>=h.year)i="yyyy";else if(r>=h.month)i="MMM yyyy";else if(r>=h.day)i="MMM d";else if(r>=h.hour)i="ddd H:mm";else if(r>=.5*h.hour)i="H:mm";else if(1<=r)i="H:mm:ss";else if(0<r){var o=n.Ticks;for(i="s.";o<x.TicksPerSecond;)o*=10,i+="f"}return i},l.secInYear=86400,l}()}(D.chart||(D.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(s){!function(t){"use strict";var e=function(){function t(t){this._row=0,this._col=0,this._rect=new s.Rect(0,0,0,0),t&&s.copy(this,t)}return Object.defineProperty(t.prototype,"row",{get:function(){return this._row},set:function(t){t!=this._row&&(this._row=s.asInt(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"column",{get:function(){return this._col},set:function(t){t!=this._col&&(this._col=s.asInt(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){t!=this._name&&(this._name=s.asString(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){t!=this._width&&(this._width=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){t!=this._height&&(this._height=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(t){t!=this._style&&(this._style=t,this._invalidate())},enumerable:!0,configurable:!0}),t.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},t.prototype._render=function(t){t.drawRect(this._rect.left,this._rect.top,this._rect.width,this._rect.height,null,this.style)},t.prototype._setPlotX=function(t,e){this._rect.left=t,this._rect.width=e},t.prototype._setPlotY=function(t,e){this._rect.top=t,this._rect.height=e},t}();t.PlotArea=e;var i,n,r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getPlotArea=function(t){var e=this.indexOf(t);return-1<e?this[e]:null},e.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e].name==t)return e;return-1},e.prototype._getWidth=function(t){for(var e=0;e<this.length;e++){var i=this[e];if(i.column==t&&0==i.row)return i.width}},e.prototype._getHeight=function(t){for(var e=0;e<this.length;e++){var i=this[e];if(i.row==t&&0==i.column)return i.height}},e.prototype._calculateWidths=function(t,e){if(e<=0)throw"ncols";for(var i=[],n=0;n<e;n++){var r=this._getWidth(n);i[n]=new o(r)}return this._calculateLengths(t,e,i)},e.prototype._calculateHeights=function(t,e){if(e<=0)throw"nrows";for(var i=[],n=0;n<e;n++){var r=this._getHeight(n);i[n]=new o(r)}return this._calculateLengths(t,e,i)},e.prototype._calculateLengths=function(t,e,i){for(var n=[e],r=0,o=0,s=0;s<e;s++)i[s].isAbsolute?(n[s]=i[s].value,r+=n[s]):i[s].isStar?o+=i[s].value:i[s].isAuto&&o++;var a=(t-r)/o;for(s=0;s<e;s++)i[s].isStar?n[s]=a*i[s].value:i[s].isAuto&&(n[s]=a),n[s]<0&&(n[s]=0);return n},e}(s.collections.ObservableArray);t.PlotAreaCollection=r,(n=i||(i={}))[n.Auto=0]="Auto",n[n.Pixel=1]="Pixel",n[n.Star=2]="Star";var o=function(){function t(t){void 0===t&&(t=null),this._unitType=i.Auto,t&&(0<=(t=t.toString()).indexOf("*")?(this._unitType=i.Star,t=t.replace("*",""),this._value=parseFloat(t),isNaN(this._value)&&(this._value=1)):(this._unitType=i.Pixel,this._value=parseFloat(t),isNaN(this._value)&&(this._unitType=i.Auto,this._value=1)))}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isStar",{get:function(){return this._unitType==i.Star},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAbsolute",{get:function(){return this._unitType==i.Pixel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAuto",{get:function(){return this._unitType==i.Auto},enumerable:!0,configurable:!0}),t}()}(s.chart||(s.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(g){!function(_){"use strict";var e,t,f,i;(t=e=_.SeriesVisibility||(_.SeriesVisibility={}))[t.Visible=0]="Visible",t[t.Plot=1]="Plot",t[t.Legend=2]="Legend",t[t.Hidden=3]="Hidden",(i=f=_.Marker||(_.Marker={}))[i.Dot=0]="Dot",i[i.Box=1]="Box";var c=function(){};_.DataArray=c;var n=function(i){function t(t){var e=i.call(this)||this;return e._series=g.asType(t,r),e}return __extends(t,i),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),t}(g.EventArgs);_.SeriesEventArgs=n;var r=function(){function t(t){this._altStyle=null,this._symbolMarker=f.Dot,this._visibility=e.Visible,this.rendering=new g.Event,this.rendered=new g.Event,t&&this.initialize(t)}return Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(t){t!=this._style&&(this._style=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"altStyle",{get:function(){return this._altStyle},set:function(t){t!=this._altStyle&&(this._altStyle=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"symbolStyle",{get:function(){return this._symbolStyle},set:function(t){t!=this._symbolStyle&&(this._symbolStyle=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(t){t!=this._symbolSize&&(this._symbolSize=g.asNumber(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"symbolMarker",{get:function(){return this._symbolMarker},set:function(t){(t=g.asEnum(t,f,!0))!=this._symbolMarker&&(this._symbolMarker=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binding",{get:function(){return this._binding?this._binding:this._chart?this._chart.binding:null},set:function(t){t!=this._binding&&(this._binding=g.asString(t,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bindingX",{get:function(){return this._bindingX?this._bindingX:this._chart?this._chart.bindingX:null},set:function(t){t!=this._bindingX&&(this._bindingX=g.asString(t,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._itemsSource},set:function(t){t!=this._itemsSource&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._itemsSource=t,this._cv=g.asCollectionView(t),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._clearValues(),this._itemsSource=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv?this._cv:this._chart?this._chart.collectionView:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"legendElement",{get:function(){return this._legendElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){this._cssClass=g.asString(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibility",{get:function(){return this._visibility},set:function(t){(t=g.asEnum(t,e))!=this._visibility&&(this._visibility=t,this._clearValues(),this._invalidate(),this._chart&&this._chart.onSeriesVisibilityChanged(new n(this)))},enumerable:!0,configurable:!0}),t.prototype.hitTest=function(t,e){return g.isNumber(t)&&g.isNumber(e)?t=new g.Point(t,e):t instanceof MouseEvent&&(t=new g.Point(t.pageX,t.pageY)),g.asType(t,g.Point),this._chart?this._chart._hitTestSeries(t,this._chart.series.indexOf(this)):null},t.prototype.getPlotElement=function(t){if(this.hostElement&&t<this._pointIndexes.length){var e=this._pointIndexes[t];if(e<this.hostElement.childNodes.length)return this.hostElement.childNodes[e]}return null},Object.defineProperty(t.prototype,"axisX",{get:function(){return this._axisX},set:function(t){if(t!=this._axisX){if(this._axisX=g.asType(t,_.Axis,!0),this._axisX){var e=this._axisX._chart=this._chart;e&&-1==e.axes.indexOf(this._axisX)&&e.axes.push(this._axisX)}this._invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisY",{get:function(){return this._axisY},set:function(t){if(t!=this._axisY){if(this._axisY=g.asType(t,_.Axis,!0),this._axisY){var e=this._axisY._chart=this._chart;e&&-1==e.axes.indexOf(this._axisY)&&e.axes.push(this._axisY)}this._invalidate()}},enumerable:!0,configurable:!0}),t.prototype.initialize=function(t){t&&g.copy(this,t)},t.prototype.pointToData=function(t){return g.asType(t,g.Point),(t=t.clone()).x=this._getAxisX().convertBack(t.x),t.y=this._getAxisY().convertBack(t.y),t},t.prototype.dataToPoint=function(t){return g.asType(t,g.Point),(t=t.clone()).x=this._getAxisX().convert(t.x),t.y=this._getAxisY().convert(t.y),t},t.prototype.onRendering=function(t,e,i){var n=new _.SeriesRenderingEventArgs(t,e,i);return this.rendering.raise(this,n),n.cancel},t.prototype.onRendered=function(t){this.rendered.raise(this,new _.RenderEventArgs(t))},Object.defineProperty(t.prototype,"_chart",{get:function(){return this.__chart},set:function(t){t!==this.__chart&&(this.__chart=t)},enumerable:!0,configurable:!0}),t.prototype._getSymbolSize=function(){return null!=this.symbolSize?this.symbolSize:this.chart.symbolSize},Object.defineProperty(t.prototype,"_plotter",{get:function(){return this.chart&&!this.__plotter&&(this.__plotter=this.chart._getPlotter(this)),this.__plotter},set:function(t){t!=this.__plotter&&(this.__plotter=t)},enumerable:!0,configurable:!0}),t.prototype.getDataType=function(t){return 0==t?this._valueDataType:1==t?this._xvalueDataType:null},t.prototype.getValues=function(t){if(0==t){if(null==this._values)if((this._valueDataType=null)!=this._cv){var e=this._bindValues(this._cv.items,this._getBinding(0));this._values=e.values,this._valueDataType=e.dataType}else if(null!=this.binding&&null!=this._chart&&null!=this._chart.collectionView){e=this._bindValues(this._chart.collectionView.items,this._getBinding(0));this._values=e.values,this._valueDataType=e.dataType}return this._values}if(1==t){if(null==this._xvalues){this._xvalueDataType=null;var i=this;if(null!=this.bindingX)if(null!=i._cv){e=this._bindValues(i._cv.items,this.bindingX,!0);this._xvalueDataType=e.dataType,this._xvalues=e.values}else{if(null==this._bindingX)return null;if(null!=i._chart&&null!=i._chart.collectionView){e=this._bindValues(i._chart.collectionView.items,this.bindingX,!0);this._xvalueDataType=e.dataType,this._xvalues=e.values}}}return this._xvalues}return null},t.prototype.drawLegendItem=function(t,e,i){var n=this._getChartType();null==n&&(n=this._chart._getChartType());var r=this._getLegendStyle(this.style);n===_.ChartType.Funnel?this._drawFunnelLegendItem(t,e,i,r,this.symbolStyle):this._drawLegendItem(t,e,n,this.name,r,this.symbolStyle)},t.prototype._getLegendStyle=function(t){if(t){var e={};return t.fill&&(e.fill=t.fill),t.stroke&&(e.stroke=t.stroke),e}},t.prototype.measureLegendItem=function(t,e){var i=this._getChartType();return null==i&&(i=this._chart._getChartType()),i===_.ChartType.Funnel?this._measureLegendItem(t,this._getFunnelLegendName(e)):this._measureLegendItem(t,this.name)},t.prototype.legendItemLength=function(){var t=this._getChartType();return null==t&&(t=this._chart._getChartType()),t===_.ChartType.Funnel?this._chart._xlabels&&this._chart._xlabels.length?this._chart._xlabels.length:this._chart._xvals&&this._chart._xvals.length?this._chart._xvals.length:1:1},t.prototype.getDataRect=function(t,e){return null},t.prototype._getChartType=function(){return this._chartType},t.prototype._clearValues=function(){this._values=null,this._xvalues=null,this.__plotter=null},t.prototype._getBinding=function(t){var e=this.binding;if(e){var i=this.chart?this.chart._bindingSeparator:",";if(i){var n=e.split(i);n&&n.length>t&&(e=n[t].trim())}}return e},t.prototype._getBindingValues=function(t){var e;return null!=this._cv?e=this._cv.items:null!=this._chart&&null!=this._chart.collectionView&&(e=this._chart.collectionView.items),this._bindValues(e,this._getBinding(t)).values},t.prototype._getItem=function(t){var e=null,i=null;return null!=this.itemsSource?i=null!=this._cv?this._cv.items:this.itemsSource:null!=this._chart.itemsSource&&(i=null!=this._chart.collectionView?this._chart.collectionView.items:this._chart.itemsSource),null!=i&&(e=i[t]),e},t.prototype._getLength=function(){var t=0,e=null;return null!=this.itemsSource?e=null!=this._cv?this._cv.items:this.itemsSource:null!=this._chart.itemsSource&&(e=null!=this._chart.collectionView?this._chart.collectionView.items:this._chart.itemsSource),null!=e&&(t=e.length),t},t.prototype._setPointIndex=function(t,e){this._pointIndexes[t]=e},t.prototype._getDataRect=function(){var t=this.getValues(0),e=this.getValues(1);if(t){for(var i=NaN,n=NaN,r=NaN,o=NaN,s=t.length,a=0;a<s;a++){var l=t[a];if(isFinite(l)&&(isNaN(n)?n=o=l:l<n?n=l:o<l&&(o=l)),e){var h=e[a];isFinite(h)&&(isNaN(i)?i=r=h:h<i?i=h:o<l&&(r=h))}}if(e||(i=0,r=s-1),!isNaN(n))return new g.Rect(i,n,r-i,o-n)}return null},t.prototype._isCustomAxisX=function(){return!!this._axisX&&(!this._chart||this._axisX!=this.chart.axisX)},t.prototype._isCustomAxisY=function(){return!!this._axisY&&(!this._chart||this._axisY!=this.chart.axisY)},t.prototype._getAxisX=function(){var t=null;return this.axisX?t=this.axisX:this.chart&&(t=this.chart.axisX),t},t.prototype._getAxisY=function(){var t=null;return this.axisY?t=this.axisY:this.chart&&(t=this.chart.axisY),t},t.prototype._measureLegendItem=function(t,e){var i=new g.Size;if(i.width=_.Series._LEGEND_ITEM_WIDTH,i.height=_.Series._LEGEND_ITEM_HEIGHT,this._name){var n=t.measureString(e,_.FlexChart._CSS_LABEL,_.FlexChart._CSS_LEGEND);i.width+=n.width,i.height<n.height&&(i.height=n.height)}return i.width+=3*_.Series._LEGEND_ITEM_MARGIN,i.height+=2*_.Series._LEGEND_ITEM_MARGIN,i},t.prototype._drawFunnelLegendItem=function(t,e,i,n,r){t.strokeWidth=1;var o=_.Series._LEGEND_ITEM_MARGIN,s=null,a=null;null===s&&(s=this._chart._getColorLight(i)),null===a&&(a=this._chart._getColor(i)),t.fill=s,t.stroke=a;var l=e.top+.5*e.height,h=_.Series._LEGEND_ITEM_WIDTH,c=_.Series._LEGEND_ITEM_HEIGHT,u=this._getFunnelLegendName(i);t.drawRect(e.left+o,l-.5*c,h,c,null,r||n),null!=u&&_.FlexChart._renderText(t,u,new g.Point(e.left+c+2*o,l),0,1,_.FlexChart._CSS_LABEL,_.FlexChart._CSS_LEGEND)},t.prototype._getFunnelLegendName=function(t){var e,i=this._chart;return i._xlabels&&i._xlabels.length&&t<i._xlabels.length?e=i._xlabels[t]:i._xvals&&i._xvals.length&&t<i._xvals.length&&(e=i._xvals[t],i._xDataType===g.DataType.Date&&(e=_.FlexChart._fromOADate(e))),null==e&&(e=this.name),e.toString()},t.prototype._drawLegendItem=function(t,e,i,n,r,o){t.strokeWidth=1;var s=_.Series._LEGEND_ITEM_MARGIN,a=null,l=null;null===a&&(a=this._chart._getColorLight(this._chart.series.indexOf(this))),null===l&&(l=this._chart._getColor(this._chart.series.indexOf(this))),t.fill=a,t.stroke=l;var h=e.top+.5*e.height,c=_.Series._LEGEND_ITEM_WIDTH,u=_.Series._LEGEND_ITEM_HEIGHT;switch(i){case _.ChartType.Area:case _.ChartType.SplineArea:t.drawRect(e.left+s,h-.5*u,c,u,null,r);break;case _.ChartType.Bar:case _.ChartType.Column:t.drawRect(e.left+s,h-.5*u,c,u,null,o||r);break;case _.ChartType.Scatter:case _.ChartType.Bubble:var p=.3*c,d=.3*u;this.symbolMarker==f.Box?t.drawRect(e.left+s+.5*c-p,h-d,2*p,2*d,null,o||r):t.drawEllipse(e.left+.5*c+s,h,p,d,null,o||r);break;case _.ChartType.Line:case _.ChartType.Spline:t.drawLine(e.left+s,h,e.left+c+s,h,null,r);break;case _.ChartType.LineSymbols:case _.ChartType.SplineSymbols:p=.3*c,d=.3*u;this.symbolMarker==f.Box?t.drawRect(e.left+s+.5*c-p,h-d,2*p,2*d,null,o||r):t.drawEllipse(e.left+.5*c+s,h,p,d,null,o||r),t.drawLine(e.left+s,h,e.left+c+s,h,null,r);break;case _.ChartType.Candlestick:case _.ChartType.HighLowOpenClose:t.drawLine(e.left+s,h,e.left+c+s,h,null,o||r)}this._name&&_.FlexChart._renderText(t,n,new g.Point(e.left+u+2*s,h),0,1,_.FlexChart._CSS_LABEL,_.FlexChart._CSS_LEGEND)},t.prototype._cvCollectionChanged=function(t,e){this._clearValues(),this._invalidate()},t.prototype._cvCurrentChanged=function(t,e){this._chart&&this._chart._notifyCurrentChanged&&this._invalidate()},t.prototype._bindValues=function(t,e,i){var n,r,o;if(void 0===i&&(i=!1),null!=t){var s=t.length;n=new Array(t.length);for(var a=0;a<s;a++){o=null;var l=t[a];null!=e&&(l=l[e]),g.isArray(l)&&0<l.length&&(l=(o=l)[0]),g.isNumber(l)?(n[a]=l,r=g.DataType.Number):g.isDate(l)?(n[a]=l.valueOf(),r=g.DataType.Date):i&&l&&(n[a]=a,r=g.DataType.Number),g.isArray(o)&&0<o.length&&(n[a]=o)}}var h=new c;return h.values=n,h.dataType=r,h},t.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},t.prototype._indexToPoint=function(t){if(0<=t&&t<this._values.length){var e=this._values[t],i=this._xvalues?this._xvalues[t]:t;return new g.Point(i,e)}return null},t.prototype._getSymbolFill=function(t){var e=null;return this.symbolStyle&&(e=this.symbolStyle.fill),!e&&this.style&&(e=this.style.fill),!e&&this.chart&&(e=this.chart._getColorLight(t)),e},t.prototype._getSymbolStroke=function(t){var e=null;return this.symbolStyle&&(e=this.symbolStyle.stroke),!e&&this.style&&(e=this.style.stroke),!e&&this.chart&&(e=this.chart._getColor(t)),e},t.prototype._getAltSymbolStroke=function(t){var e=null;return this.altStyle&&(e=this.altStyle.stroke),e},t.prototype._getAltSymbolFill=function(t){var e=null;return this.altStyle&&(e=this.altStyle.fill),e},t.prototype._renderLabels=function(t,e,i,n){this._plotter&&this._plotter._renderLabels(t,this,e,i,n)},t._LEGEND_ITEM_WIDTH=10,t._LEGEND_ITEM_HEIGHT=10,t._LEGEND_ITEM_MARGIN=4,t._DEFAULT_SYM_SIZE=10,t}();_.SeriesBase=r}(g.chart||(g.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(n){!function(i){"use strict";var t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),Object.defineProperty(e.prototype,"chartType",{get:function(){return this._chartType},set:function(t){(t=n.asEnum(t,i.ChartType,!0))!=this._chartType&&(this._chartType=t,this._invalidate())},enumerable:!0,configurable:!0}),e}(i.SeriesBase);i.Series=t}(n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(t){t.chart||(t.chart={})}(wijmo||(wijmo={})),function(b){!function(p){"use strict";var t=function(){function v(t){this._strokeWidth=1,this._fontSize=null,this._fontFamily=null,this._savedGradient={},this._bbCache={},this._element=t,this._create(),this._element.appendChild(this._svg),void 0===v._isff&&(v._isff=0<=navigator.userAgent.toLowerCase().indexOf("firefox"))}return v.prototype.beginRender=function(){for(;this._svg.firstChild;)b.removeChild(this._svg.firstChild);this._savedGradient={},this._bbCache={},this._svg.appendChild(this._defs),this._svg.appendChild(this._textGroup)},v.prototype.endRender=function(){b.removeChild(this._textGroup)},v.prototype.setViewportSize=function(t,e){this._svg.setAttribute("width",t.toString()),this._svg.setAttribute("height",e.toString())},Object.defineProperty(v.prototype,"element",{get:function(){return this._svg},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"fill",{get:function(){return this._fill},set:function(t){this._fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this._fontFamily=t},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"stroke",{get:function(){return this._stroke},set:function(t){this._stroke=t},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(t){this._strokeWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"textFill",{get:function(){return this._textFill},set:function(t){this._textFill=t},enumerable:!0,configurable:!0}),v.prototype.addClipRect=function(t,e){if(t&&e){var i=document.createElementNS(v.svgNS,"clipPath"),n=document.createElementNS(v.svgNS,"rect");n.setAttribute("x",(t.left-1).toFixed()),n.setAttribute("y",(t.top-1).toFixed()),n.setAttribute("width",(t.width+2).toFixed()),n.setAttribute("height",(t.height+2).toFixed()),i.appendChild(n),i.setAttribute("id",e),this._svg.appendChild(i)}},v.prototype.drawEllipse=function(t,e,i,n,r,o){var s=document.createElementNS(v.svgNS,"ellipse");return this._applyColor(s,"stroke",this._stroke),null!==this._strokeWidth&&s.setAttribute("stroke-width",this._strokeWidth.toString()),this._applyColor(s,"fill",this._fill),s.setAttribute("cx",t.toFixed(1)),s.setAttribute("cy",e.toFixed(1)),s.setAttribute("rx",i.toFixed(1)),s.setAttribute("ry",n.toFixed(1)),r&&s.setAttribute("class",r),this._applyStyle(s,o),this._appendChild(s),s},v.prototype.drawRect=function(t,e,i,n,r,o,s){var a=document.createElementNS(v.svgNS,"rect");return this._applyColor(a,"fill",this._fill),this._applyColor(a,"stroke",this._stroke),null!==this._strokeWidth&&a.setAttribute("stroke-width",this._strokeWidth.toString()),a.setAttribute("x",t.toFixed(1)),a.setAttribute("y",e.toFixed(1)),0<i&&i<.05?a.setAttribute("width","0.1"):a.setAttribute("width",i.toFixed(1)),0<n&&n<.05?a.setAttribute("height","0.1"):a.setAttribute("height",n.toFixed(1)),s&&a.setAttribute("clip-path","url(#"+s+")"),r&&a.setAttribute("class",r),this._applyStyle(a,o),this._appendChild(a),a},v.prototype.drawLine=function(t,e,i,n,r,o){var s=document.createElementNS(v.svgNS,"line");return this._applyColor(s,"stroke",this._stroke),null!==this._strokeWidth&&s.setAttribute("stroke-width",this._strokeWidth.toString()),s.setAttribute("x1",t.toFixed(1)),s.setAttribute("x2",i.toFixed(1)),s.setAttribute("y1",e.toFixed(1)),s.setAttribute("y2",n.toFixed(1)),r&&s.setAttribute("class",r),this._applyStyle(s,o),this._appendChild(s),s},v.prototype.drawLines=function(t,e,i,n,r){if(t&&e){var o=Math.min(t.length,e.length);if(0<o){var s=document.createElementNS(v.svgNS,"polyline");this._applyColor(s,"stroke",this._stroke),null!==this._strokeWidth&&s.setAttribute("stroke-width",this._strokeWidth.toString()),s.setAttribute("fill","none");for(var a="",l=0;l<o;l++)a+=t[l].toFixed(1)+","+e[l].toFixed(1)+" ";return s.setAttribute("points",a),i&&s.setAttribute("class",i),r&&s.setAttribute("clip-path","url(#"+r+")"),this._applyStyle(s,n),this._appendChild(s),s}}return null},v.prototype.drawSplines=function(t,e,i,n,r){if(t&&e){var o=new p._Spline(t,e).calculate(),s=o.xs,a=o.ys,l=Math.min(s.length,a.length);if(0<l){var h=document.createElementNS(v.svgNS,"polyline");this._applyColor(h,"stroke",this._stroke),null!==this._strokeWidth&&h.setAttribute("stroke-width",this._strokeWidth.toString()),h.setAttribute("fill","none");for(var c="",u=0;u<l;u++)c+=s[u].toFixed(1)+","+a[u].toFixed(1)+" ";return h.setAttribute("points",c),i&&h.setAttribute("class",i),r&&h.setAttribute("clip-path","url(#"+r+")"),this._applyStyle(h,n),this._appendChild(h),h}}return null},v.prototype.drawPolygon=function(t,e,i,n,r){if(t&&e){var o=Math.min(t.length,e.length);if(0<o){var s=document.createElementNS(v.svgNS,"polygon");this._applyColor(s,"stroke",this._stroke),null!==this._strokeWidth&&s.setAttribute("stroke-width",this._strokeWidth.toString()),this._applyColor(s,"fill",this._fill);for(var a="",l=0;l<o;l++)a+=t[l].toFixed(1)+","+e[l].toFixed(1)+" ";return s.setAttribute("points",a),i&&s.setAttribute("class",i),r&&s.setAttribute("clip-path","url(#"+r+")"),this._applyStyle(s,n),this._appendChild(s),s}}return null},v.prototype.drawPieSegment=function(t,e,i,n,r,o,s,a){if(r>=2*Math.PI)return this.drawEllipse(t,e,i,i,o,s);var l=document.createElementNS(v.svgNS,"path");this._applyColor(l,"fill",this._fill),this._applyColor(l,"stroke",this._stroke),null!==this._strokeWidth&&l.setAttribute("stroke-width",this._strokeWidth.toString());var h=new b.Point(t,e);h.x+=i*Math.cos(n),h.y+=i*Math.sin(n);var c=n+r,u=new b.Point(t,e);u.x+=i*Math.cos(c),u.y+=i*Math.sin(c);var p=" 0 0,1 ";Math.abs(r)>Math.PI&&(p=" 0 1,1 ");var d="M "+h.x.toFixed(1)+","+h.y.toFixed(1);return d+=" A "+i.toFixed(1)+","+i.toFixed(1)+p,d+=u.x.toFixed(1)+","+u.y.toFixed(1),d+=" L "+t.toFixed(1)+","+e.toFixed(1)+" z",l.setAttribute("d",d),a&&l.setAttribute("clip-path","url(#"+a+")"),o&&l.setAttribute("class",o),this._applyStyle(l,s),this._appendChild(l),l},v.prototype.drawDonutSegment=function(t,e,i,n,r,o,s,a,l){var h=!1;o>=2*Math.PI&&(h=!0,o-=.001);var c=document.createElementNS(v.svgNS,"path");this._applyColor(c,"fill",this._fill),this._applyColor(c,"stroke",this._stroke),null!==this._strokeWidth&&c.setAttribute("stroke-width",this._strokeWidth.toString());var u=new b.Point(t,e);u.x+=i*Math.cos(r),u.y+=i*Math.sin(r);var p=r+o,d=new b.Point(t,e);d.x+=i*Math.cos(p),d.y+=i*Math.sin(p);var _=new b.Point(t,e);_.x+=n*Math.cos(p),_.y+=n*Math.sin(p);var f=new b.Point(t,e);f.x+=n*Math.cos(r),f.y+=n*Math.sin(r);var g=" 0 0,1 ",m=" 0 0,0 ";Math.abs(o)>Math.PI&&(g=" 0 1,1 ",m=" 0 1,0 ");var y="M "+u.x.toFixed(3)+","+u.y.toFixed(3);return y+=" A "+i.toFixed(3)+","+i.toFixed(3)+g,y+=d.x.toFixed(3)+","+d.y.toFixed(3),y+=h?" M "+_.x.toFixed(3)+","+_.y.toFixed(3):" L "+_.x.toFixed(3)+","+_.y.toFixed(3),y+=" A "+n.toFixed(3)+","+n.toFixed(3)+m,y+=f.x.toFixed(3)+","+f.y.toFixed(3),h||(y+=" z"),c.setAttribute("d",y),l&&c.setAttribute("clip-path","url(#"+l+")"),s&&c.setAttribute("class",s),this._applyStyle(c,a),this._appendChild(c),c},v.prototype.drawString=function(t,e,i,n){var r=this._createText(e,t);i&&r.setAttribute("class",i),this._applyStyle(r,n),this._appendChild(r);var o,s=this._getKey(t,i,this._groupCls);return this._bbCache[s]?(o=this._bbCache[s],r.setAttribute("y",(e.y-(o.y+o.height)).toFixed(1))):(o=this._getBBox(r),r.setAttribute("y",(e.y-(o.y+o.height-e.y)).toFixed(1))),r},v.prototype.drawStringRotated=function(t,e,i,n,r,o){var s=this._createText(e,t);r&&s.setAttribute("class",r),this._applyStyle(s,o);var a=document.createElementNS(v.svgNS,"g");a.setAttribute("transform","rotate("+n.toFixed(1)+","+i.x.toFixed(1)+","+i.y.toFixed(1)+")"),a.appendChild(s),this._appendChild(a);var l=this._getBBox(s);return s.setAttribute("y",(e.y-(l.y+l.height-e.y)).toFixed(1)),s},v.prototype.measureString=function(t,e,i,n){var r=new b.Size(0,0);if(!this._fontFamily&&!this._fontSize){var o=this._getKey(t,e,i);if(this._bbCache[o])return this._bbCache[o]}this._fontSize&&this._text.setAttribute("font-size",this._fontSize),this._fontFamily&&this._text.setAttribute("font-family",this._fontFamily),e&&this._text.setAttribute("class",e),i&&this._textGroup.setAttribute("class",i),this._applyStyle(this._text,n),this._setText(this._text,t);var s=this._getBBox(this._text);if(r.width=s.width,r.height=s.height,this._text.removeAttribute("font-size"),this._text.removeAttribute("font-family"),this._text.removeAttribute("class"),n)for(var a in n)this._text.removeAttribute(this._deCase(a));if(this._textGroup.removeAttribute("class"),this._text.textContent=null,!this._fontFamily&&!this._fontSize){var l=this._getKey(t,e,i);this._bbCache[l]={x:s.x,y:s.y+1e3,width:s.width,height:s.height}}return r},v.prototype.startGroup=function(t,e,i){void 0===i&&(i=!1);var n=document.createElementNS(v.svgNS,"g");return t&&(n.setAttribute("class",t),this._groupCls=t),e&&n.setAttribute("clip-path","url(#"+e+")"),this._appendChild(n),i&&n.transform.baseVal.appendItem(this._svg.createSVGTransform()),this._group=n},v.prototype.endGroup=function(){if(this._group){var t=this._group.parentNode;t==this._svg?(this._group=null,this._groupCls=null):(this._group=t,this._groupCls=this._getClass(this._group))}},v.prototype.drawImage=function(t,e,i,n,r){var o=document.createElementNS(v.svgNS,"image");return o.setAttributeNS(v.xlinkNS,"href",t),o.setAttribute("x",e.toFixed(1)),o.setAttribute("y",i.toFixed(1)),o.setAttribute("width",n.toFixed(1)),o.setAttribute("height",r.toFixed(1)),this._appendChild(o),o},v.prototype._appendChild=function(t){var e=this._group;e||(e=this._svg),e.appendChild(t)},v.prototype._create=function(){this._svg=document.createElementNS(v.svgNS,"svg"),this._defs=document.createElementNS(v.svgNS,"defs"),this._svg.appendChild(this._defs),this._text=this._createText(new b.Point(-1e3,-1e3),""),this._textGroup=document.createElementNS(v.svgNS,"g"),this._textGroup.appendChild(this._text),this._svg.appendChild(this._textGroup)},v.prototype._setText=function(t,e){var i=e?e.toString():null;if(i&&0<=i.indexOf("tspan"))try{t.textContent=null;for(var n=new DOMParser,r='<svg xmlns="http://www.w3.org/2000/svg">'+i+"</svg>",o=n.parseFromString(r,"text/xml").documentElement.firstChild;o;)t.appendChild(t.ownerDocument.importNode(o,!0)),o=o.nextSibling}catch(t){throw new Error("Error parsing XML string.")}else t.textContent=i},v.prototype._getKey=function(t,e,i){return t+(e||"")+(i||"")},v.prototype._createText=function(t,e){var i=document.createElementNS(v.svgNS,"text");return this._setText(i,e),i.setAttribute("x",t.x.toFixed(1)),i.setAttribute("y",t.y.toFixed(1)),null!=this._textFill&&i.setAttribute("fill",this._textFill),this._fontSize&&i.setAttribute("font-size",this._fontSize),this._fontFamily&&i.setAttribute("font-family",this._fontFamily),i},v.prototype._applyStyle=function(t,e){if(e)for(var i in e)"fill"===i||"stroke"===i?this._applyColor(t,i,e[i]):t.setAttribute(this._deCase(i),e[i])},v.prototype._deCase=function(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})},v.prototype._getClass=function(t){var e;if(t)for(var i=t;i&&!(e=i.getAttribute("class"));i=i.parentNode);return e},v.prototype._getBBox=function(t){if(!v._isff)return t.getBBox();try{return t.getBBox()}catch(t){return{x:0,y:0,width:0,height:0}}},v.prototype._applyColor=function(t,e,i){var n=s.tryParse(i);if(null!=n)if(b.isString(n))t.setAttribute(e,n);else{if(null==this._savedGradient[i]){var r,o="gc"+(1e6*Math.random()).toFixed();null!=n.x1?(r=document.createElementNS(v.svgNS,"linearGradient"),["x1","y1","x2","y2","gradientUnits"].forEach(function(t){null!=n[t]&&r.setAttribute(t,n[t])})):null!=n.r&&(r=document.createElementNS(v.svgNS,"radialGradient"),["cx","cy","r","fx","fy","fr","gradientUnits"].forEach(function(t){null!=n[t]&&r.setAttribute(t,n[t])})),n.colors&&n.colors&&0<n.colors.length&&n.colors.forEach(function(t){var e=document.createElementNS(v.svgNS,"stop");null!=t.color&&e.setAttribute("stop-color",t.color),null!=t.offset&&e.setAttribute("offset",t.offset),null!=t.opacity&&e.setAttribute("stop-opacity",t.opacity),r.appendChild(e)}),r.setAttribute("id",o),this._defs.appendChild(r),this._savedGradient[i]=o}t.setAttribute(e,"url(#"+this._savedGradient[i]+")")}},v.svgNS="http://www.w3.org/2000/svg",v.xlinkNS="http://www.w3.org/1999/xlink",v}();p._SvgRenderEngine=t;var s=function(){function a(){}return a.tryParse=function(t){if(a.parsedColor[t])return a.parsedColor[t];if(null==t||-1===t.indexOf("-"))return t;var r,e=t.replace(/\s+/g,"").split(/\-/g),i=e[0][0],o=!1,n=e[0].match(/\(\S+\)/)[0].replace(/[\(\\)]/g,"").split(/\,/g);"l"===i||"L"===i?(r={x1:"0",y1:"0",x2:"0",y2:"0",colors:[]},"l"===i&&(o=!0),["x1","y1","x2","y2"].forEach(function(t,e){null!=n[e]&&(r[t]=o?100*+n[e]+"%":n[e]+"")})):"r"!==i&&"R"!==i||(r={cx:"0",cy:"0",r:"0",colors:[]},"r"===i&&(o=!0),["cx","cy","r","fx","fy","fr"].forEach(function(t,e){null!=n[e]&&""!==n[e]&&(r[t]=o?100*+n[e]+"%":n[e]+"")})),o||(r.gradientUnits="userSpaceOnUse"),a.parsedColor[t]=r;var s=e.length-1;return e.forEach(function(t,e){-1<t.indexOf(")")&&(t=t.match(/\)\S+/)[0].replace(")",""));var i=t.split(":"),n={color:"black"};null!=i[0]&&(n.color=i[0]),null!=i[1]?n.offset=o?100*+i[1]+"%":i[1]+"":n.offset=e/s*100+"%",null!=i[2]&&(n.opacity=i[2]),r.colors.push(n)}),r},a.parsedColor={},a}()}(b.chart||(b.chart={}))}(wijmo||(wijmo={})),function(i){!function(h){"use strict";var t=function(){function t(t){this._position=h.Position.Right,this._title="",this._titleAlign="left",this._titlePadding=5,this._areas=new Array,this._sz=new i.Size,this._colRowLens=[],this._chart=t}return Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(t){(t=i.asEnum(t,h.Position))!=this._position&&(this._position=t,this._chart&&this._chart.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){t!=this._title&&(this._title=i.asString(t,!1),this._chart&&this._chart.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titleAlign",{get:function(){return this._titleAlign},set:function(t){if(t!=this._titleAlign){var e=i.asString(t,!1);this._titleAlign="right"===e?"right":"center"===e?"center":"left",this._chart&&this._chart.invalidate()}},enumerable:!0,configurable:!0}),t.prototype._getDesiredSize=function(t,e,i,n){if(e==h.Position.None)return null;var r=e==h.Position.Right||e==h.Position.Left,o=this._chart._getDesiredLegendSize(t,r,i,n);if(null!=o){if(0<this.title.length){var s=t.measureString(this.title,"wj-title","wj-legend");o.height+=s.height+this._titlePadding,s.width>o.width&&(o.width=s.width)}this._sz=o}return o},t.prototype._getPosition=function(t,e){return this.position==h.Position.Auto?e<=t?h.Position.Right:h.Position.Bottom:this.position},t.prototype._render=function(t,e,i,n,r){this._areas=[];var o=i==h.Position.Right||i==h.Position.Left;if(t.fill="transparent",t.stroke=null,t.drawRect(e.x,e.y,this._sz.width,this._sz.height),this.title.length){var s=t.drawString(this.title,e,"wj-title"),a=s.getBBox();s.setAttribute("y",Number(s.getAttribute("y"))+a.height),"right"===this.titleAlign?s.setAttribute("x",e.x+n-a.width):"center"===this.titleAlign&&s.setAttribute("x",e.x+n/2-a.width/2);var l=a.height+this._titlePadding;e.y+=l,r-=l}this._chart._renderLegend(t,e,this._areas,o,n,r)},t.prototype._hitTest=function(t){for(var e=this._areas,i=0;i<e.length;i++)if(e[i]&&h.FlexChartCore._contains(e[i],t))return i;return null},t}();h.Legend=t}(i.chart||(i.chart={}))}(wijmo||(wijmo={})),function(h){!function(n){"use strict";var r,t;(t=r=n.ChartElement||(n.ChartElement={}))[t.PlotArea=0]="PlotArea",t[t.AxisX=1]="AxisX",t[t.AxisY=2]="AxisY",t[t.ChartArea=3]="ChartArea",t[t.Legend=4]="Legend",t[t.Header=5]="Header",t[t.Footer=6]="Footer",t[t.Series=7]="Series",t[t.SeriesSymbol=8]="SeriesSymbol",t[t.DataLabel=9]="DataLabel",t[t.None=10]="None";var e=function(){function t(t,e,i){this._pointIndex=null,this._chartElement=r.None,this._chart=t,this._pt=e,this._chartElement=i}return Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chartElement",{get:function(){return this._chartElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._dist},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){if(null==this._item&&null!==this.pointIndex)if(null!=this.series)this._item=this.series._getItem(this.pointIndex);else{var t=this._chart._getHitTestItem(this.pointIndex);t&&(this._item=t)}return this._item},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return void 0===this._x&&(this._x=this._getValue(1,!1)),this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return void 0===this._y&&(this._y=this._getValue(0,!1)),this._y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){var t=this._chart._getHitTestValue(this.pointIndex);return null!=t?t:this.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){if(void 0===this._name){var t=this._chart._getHitTestLabel(this.pointIndex);return null==t?this.series.name:t.toString()}return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_xfmt",{get:function(){return void 0===this.__xfmt&&(this.__xfmt=this._getValue(1,!0)),this.__xfmt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_yfmt",{get:function(){return void 0===this.__yfmt&&(this.__yfmt=this._getValue(0,!0)),this.__yfmt},enumerable:!0,configurable:!0}),t.prototype._setData=function(t,e){this._series=t,this._pointIndex=e},t.prototype._setDataPoint=function(t){if(t=h.asType(t,n._DataPoint,!0)){this._pointIndex=t.pointIndex;var e=h.asType(this._chart,h.chart.FlexChartCore,!0),i=t.seriesIndex;null!==i&&0<=i&&i<e.series.length&&(this._series=e.series[i]),null!=t.item&&(this._item=t.item),null!=t.x&&(this._x=t.x),null!=t.y&&(this._y=t.y),null!=t.xfmt&&(this.__xfmt=t.xfmt),null!=t.yfmt&&(this.__yfmt=t.yfmt),null!=t.name&&(this._name=t.name)}},t.prototype._getValue=function(t,e){var i=this._chart._getHitTestValue(this.pointIndex);if(null!=i)return i;var n=null,r=this._chart,o=this.pointIndex,s=r._isRotated();if(null!==this.series&&null!==o){var a=this.series.getValues(t),l=this.series.getDataType(t);a&&this.pointIndex<a.length?(n=a[this.pointIndex],l!=h.DataType.Date||e||(n=new Date(n))):1==t&&(r._xlabels&&0<r._xlabels.length&&o<r._xlabels.length?n=r._xlabels[o]:r._xvals&&o<r._xvals.length&&(n=r._xvals[o],r._xDataType!=h.DataType.Date||e||(n=new Date(n))))}return null!==n&&e&&(s?0==t?n=this.ax._formatValue(n):1==t&&(n=this.ay._formatValue(n)):0==t?n=this.ay._formatValue(n):1==t&&(n=this.ax._formatValue(n))),n},Object.defineProperty(t.prototype,"ax",{get:function(){return this.series.axisX?this.series.axisX:this._chart.axisX},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ay",{get:function(){return this.series.axisY?this.series.axisY:this._chart.axisY},enumerable:!0,configurable:!0}),t}();n.HitTestInfo=e}(h.chart||(h.chart={}))}(wijmo||(wijmo={})),function(t){!function(t){"use strict";var e=function(){function t(){}return t.standard=["#88bde6","#fbb258","#90cd97","#f6aac9","#bfa554","#bc99c7","#eddd46","#f07e6e","#8c8c8c"],t.cocoa=["#466bb0","#c8b422","#14886e","#b54836","#6e5944","#8b3872","#73b22b","#b87320","#141414"],t.coral=["#84d0e0","#f48256","#95c78c","#efa5d6","#ba8452","#ab95c2","#ede9d0","#e96b7d","#888888"],t.dark=["#005fad","#f06400","#009330","#e400b1","#b65800","#6a279c","#d5a211","#dc0127","#000000"],t.highcontrast=["#ff82b0","#0dda2c","#0021ab","#bcf28c","#19c23b","#890d3a","#607efd","#1b7700","#000000"],t.light=["#ddca9a","#778deb","#cb9fbb","#b5eae2","#7270be","#a6c7a7","#9e95c7","#95b0c7","#9b9b9b"],t.midnight=["#83aaca","#e37849","#14a46a","#e097da","#a26d54","#a584b7","#d89c54","#e86996","#2c343b"],t.modern=["#2d9fc7","#ec993c","#89c235","#e377a4","#a68931","#a672a6","#d0c041","#e35855","#68706a"],t.organic=["#9c88d9","#a3d767","#8ec3c0","#e9c3a9","#91ab36","#d4ccc0","#61bbd8","#e2d76f","#80715a"],t.slate=["#7493cd","#f99820","#71b486","#e4a491","#cb883b","#ae83a4","#bacc5c","#e5746a","#505d65"],t.zen=["#7bb5ae","#e2d287","#92b8da","#eac4cb","#7b8bbd","#c7d189","#b9a0c8","#dfb397","#a9a9a9"],t.cyborg=["#2a9fd6","#77b300","#9933cc","#ff8800","#cc0000","#00cca3","#3d6dcc","#525252","#000000"],t.superhero=["#5cb85c","#f0ad4e","#5bc0de","#d9534f","#9f5bde","#46db8c","#b6b86e","#4e5d6c","#2b3e4b"],t.flatly=["#18bc9c","#3498db","#f39c12","#6cc1be","#99a549","#8f54b5","#e74c3c","#8a9899","#2c3e50"],t.darkly=["#375a7f","#00bc8c","#3498db","#f39c12","#e74c3c","#8f61b3","#b08725","#4a4949","#000000"],t.cerulan=["#033e76","#87c048","#59822c","#53b3eb","#fc6506","#d42323","#e3bb00","#cccccc","#222222"],t}();t.Palettes=e}(t.chart||(t.chart={}))}(wijmo||(wijmo={})),function(p){!function(t){"use strict";var e=function(){function t(t,e){this.k=.002,this._a=[],this._b=[],this._c=[],this._d=[],this.m=[[-.5,1.5,-1.5,.5],[1,-2.5,2,-.5],[-.5,0,.5,0],[0,1,0,0]],this._x=t,this._y=e;var i=this._len=Math.min(t.length,e.length);if(3<i)for(var n=0;n<i-1;n++){var r=0==n?new p.Point(t[n],e[n]):new p.Point(t[n-1],e[n-1]),o=new p.Point(t[n],e[n]),s=new p.Point(t[n+1],e[n+1]),a=n==i-2?new p.Point(t[n+1],e[n+1]):new p.Point(t[n+2],e[n+2]),l=new p.Point,h=new p.Point,c=new p.Point,u=new p.Point;l.x=r.x*this.m[0][0]+o.x*this.m[0][1]+s.x*this.m[0][2]+a.x*this.m[0][3],h.x=r.x*this.m[1][0]+o.x*this.m[1][1]+s.x*this.m[1][2]+a.x*this.m[1][3],c.x=r.x*this.m[2][0]+o.x*this.m[2][1]+s.x*this.m[2][2]+a.x*this.m[2][3],u.x=r.x*this.m[3][0]+o.x*this.m[3][1]+s.x*this.m[3][2]+a.x*this.m[3][3],l.y=r.y*this.m[0][0]+o.y*this.m[0][1]+s.y*this.m[0][2]+a.y*this.m[0][3],h.y=r.y*this.m[1][0]+o.y*this.m[1][1]+s.y*this.m[1][2]+a.y*this.m[1][3],c.y=r.y*this.m[2][0]+o.y*this.m[2][1]+s.y*this.m[2][2]+a.y*this.m[2][3],u.y=r.y*this.m[3][0]+o.y*this.m[3][1]+s.y*this.m[3][2]+a.y*this.m[3][3],this._a.push(l),this._b.push(h),this._c.push(c),this._d.push(u)}}return t.prototype.calculatePoint=function(t){var e=Math.floor(t);e<0&&(e=0),e>this._len-2&&(e=this._len-2);var i=t-e;return{x:((this._a[e].x*i+this._b[e].x)*i+this._c[e].x)*i+this._d[e].x,y:((this._a[e].y*i+this._b[e].y)*i+this._c[e].y)*i+this._d[e].y}},t.prototype.calculate=function(){if(this._len<=3)return{xs:this._x,ys:this._y};var t=[],e=[],i=this.calculatePoint(0);t.push(i.x),e.push(i.y);for(var n=this._len*this.k,r=n;r<=this._len-1;r+=n){var o=this.calculatePoint(r);(3<=Math.abs(i.x-o.x)||3<=Math.abs(i.y-o.y))&&(t.push(o.x),e.push(o.y),i=o)}return{xs:t,ys:e}},t}();t._Spline=e}(p.chart||(p.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(h){!function(t){"use strict";var i,e,n,r;(e=i=t.LabelPosition||(t.LabelPosition={}))[e.None=0]="None",e[e.Left=1]="Left",e[e.Top=2]="Top",e[e.Right=3]="Right",e[e.Bottom=4]="Bottom",e[e.Center=5]="Center",(r=n=t.PieLabelPosition||(t.PieLabelPosition={}))[r.None=0]="None",r[r.Inside=1]="Inside",r[r.Center=2]="Center",r[r.Outside=3]="Outside",r[r.Radial=4]="Radial",r[r.Circular=5]="Circular";var o=function(o){function t(t,e,i,n){var r=o.call(this,t)||this;return r.cancel=!1,r._ht=e,r._pt=i,r._text=n,r}return __extends(t,o),Object.defineProperty(t.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(t){this._text=h.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitTestInfo",{get:function(){return this._ht},enumerable:!0,configurable:!0}),t}(t.RenderEventArgs);t.DataLabelRenderEventArgs=o;var s=function(){function t(){this.rendering=new h.Event}return Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(t){t!=this._content&&(this._content=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"border",{get:function(){return this._bdr},set:function(t){t!=this._bdr&&(this._bdr=h.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){return this._off},set:function(t){t!=this._off&&(this._off=h.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"connectingLine",{get:function(){return this._line},set:function(t){t!=this._line&&(this._line=h.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),t.prototype.onRendering=function(t){return this.rendering.raise(this,t),!t.cancel},t.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},t}(),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._pos=i.Top,t}return __extends(t,e),Object.defineProperty(t.prototype,"position",{get:function(){return this._pos},set:function(t){(t=h.asEnum(t,i))!=this._pos&&(this._pos=t,this._invalidate())},enumerable:!0,configurable:!0}),t}(t.DataLabelBase=s);t.DataLabel=a;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._pos=n.Center,t}return __extends(t,e),Object.defineProperty(t.prototype,"position",{get:function(){return this._pos},set:function(t){(t=h.asEnum(t,n))!=this._pos&&(this._pos=t,this._invalidate())},enumerable:!0,configurable:!0}),t}(s);t.PieDataLabel=l}(h.chart||(h.chart={}))}(wijmo||(wijmo={})),function(w){!function(y){"use strict";var v,t,b,e,c,i,n=new(function(){function t(){this._moveMarker=function(e){var t=e.currentTarget,i=this._markers,n=t.getAttribute("data-markerIndex");null!=n&&i[n].forEach(function(t){t._moveMarker(e)})},this._markers=[],this._bindMoveMarker=this._moveMarker.bind(this)}return t.prototype.attach=function(t){var e,i,n=t.chart.hostElement,r=this._markers,o=n.getAttribute("data-markerIndex");null!=o?(i=r[o])&&w.isArray(i)?i.push(t):(r[o]=[t],this._bindMoveEvent(n)):(e=r.length,i=[t],r.push(i),n.setAttribute("data-markerIndex",e),this._bindMoveEvent(n))},t.prototype.detach=function(t){var e,i,n=t.chart.hostElement,r=this._markers,o=n.getAttribute("data-markerIndex");null!=o&&(-1<(e=(i=r[o]).indexOf(t))&&i.splice(e,1),0===i.length&&(-1<(e=r.indexOf(i))&&(r[e]=void 0),this._unbindMoveEvent(n)))},t.prototype._unbindMoveEvent=function(t){var e=this._bindMoveMarker;t.removeEventListener("mousemove",e),"ontouchstart"in window&&t.removeEventListener("touchmove",e)},t.prototype._bindMoveEvent=function(t){var e=this._bindMoveMarker;t.addEventListener("mousemove",e),"ontouchstart"in window&&t.addEventListener("touchmove",e)},t}());(t=v=y.LineMarkerLines||(y.LineMarkerLines={}))[t.None=0]="None",t[t.Vertical=1]="Vertical",t[t.Horizontal=2]="Horizontal",t[t.Both=3]="Both",(e=b=y.LineMarkerInteraction||(y.LineMarkerInteraction={}))[e.None=0]="None",e[e.Move=1]="Move",e[e.Drag=2]="Drag",(i=c=y.LineMarkerAlignment||(y.LineMarkerAlignment={}))[i.Auto=2]="Auto",i[i.Right=0]="Right",i[i.Left=1]="Left",i[i.Bottom=4]="Bottom",i[i.Top=6]="Top";var r=function(){function l(t,e){this._wrapperMousedown=null,this._wrapperMouseup=null,this.positionChanged=new w.Event;var i=this;(i._chart=t).rendered.addHandler(i._initialize,i),i._resetDefaultValue(),w.copy(this,e),i._initialize()}return Object.defineProperty(l.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isVisible",{get:function(){return this._isVisible},set:function(t){t!==this._isVisible&&(this._isVisible=w.asBoolean(t),this._marker&&this._toggleVisibility())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"seriesIndex",{get:function(){return this._seriesIndex},set:function(t){t!==this._seriesIndex&&(this._seriesIndex=w.asNumber(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"horizontalPosition",{get:function(){return this._horizontalPosition},set:function(t){var e=this;if(t!==e._horizontalPosition){if(e._horizontalPosition=w.asNumber(t,!0),e._horizontalPosition<0||1<e._horizontalPosition)throw"horizontalPosition's value should be in (0, 1).";e._marker&&e._updateMarkerPosition()}},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"x",{get:function(){var t=this._targetPoint.x-this._plotRect.left;return this._chart.axisX.convertBack(t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"y",{get:function(){var t=this._targetPoint.y-this._plotRect.top;return this._chart.axisY.convertBack(t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"content",{get:function(){return this._content},set:function(t){t!==this._content&&(this._content=w.asFunction(t),this._updateMarkerPosition())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"verticalPosition",{get:function(){return this._verticalPosition},set:function(t){var e=this;if(t!==e._verticalPosition){if(e._verticalPosition=w.asNumber(t,!0),e._verticalPosition<0||1<e._verticalPosition)throw"verticalPosition's value should be in (0, 1).";e._marker&&e._updateMarkerPosition()}},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"alignment",{get:function(){return this._alignment},set:function(t){t!==this._alignment&&(this._alignment=t,this._marker&&this._updatePositionByAlignment())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"lines",{get:function(){return this._lines},set:function(t){(t=w.asEnum(t,v))!=this._lines&&(this._lines=t,this._marker&&this._resetLinesVisibility())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"interaction",{get:function(){return this._interaction},set:function(t){(t=w.asEnum(t,b))!=this._interaction&&(this._marker&&this._detach(),this._interaction=t,this._marker&&this._attach(),this._toggleElesDraggableClass(this._interaction==b.Drag))},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"dragThreshold",{get:function(){return this._dragThreshold},set:function(t){t!=this._dragThreshold&&(this._dragThreshold=w.asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"dragContent",{get:function(){return this._dragContent},set:function(t){var e=this;t!==e._dragContent&&(e._dragContent=w.asBoolean(t)),w.toggleClass(e._dragEle,l._CSS_LINE_DRAGGABLE,e._interaction===b.Drag&&e._dragContent&&e._lines!==v.None)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"dragLines",{get:function(){return this._dragLines},set:function(t){t!=this._dragLines&&(this._dragLines=w.asBoolean(t))},enumerable:!0,configurable:!0}),l.prototype.onPositionChanged=function(t){this.positionChanged.raise(this,t)},l.prototype.remove=function(){var t=this,e=t._chart;t._marker&&(e.rendered.removeHandler(t._initialize,t),t._detach(),t._removeMarker(),t._wrapperMoveMarker=null,t._wrapperMousedown=null,t._wrapperMouseup=null)},l.prototype._attach=function(){var t=this._chart.hostElement;this._interaction!==b.None?w.addClass(t,l._CSS_TOUCH_DISABLED):w.removeClass(t,l._CSS_TOUCH_DISABLED),n.attach(this),this._attachDrag()},l.prototype._attachDrag=function(){var t=this;t._interaction===b.Drag&&(t._wrapperMousedown||(t._wrapperMousedown=t._onMousedown.bind(t)),t._wrapperMouseup||(t._wrapperMouseup=t._onMouseup.bind(t)),t._toggleDragEventAttach(!0))},l.prototype._detach=function(){w.removeClass(this._chart.hostElement,l._CSS_TOUCH_DISABLED),n.detach(this),this._detachDrag()},l.prototype._detachDrag=function(){this._interaction===b.Drag&&this._toggleDragEventAttach(!1)},l.prototype._toggleDragEventAttach=function(t){var e=this,i=e._chart.hostElement,n=t?"addEventListener":"removeEventListener";i[n]("mousedown",e._wrapperMousedown),document[n]("mouseup",e._wrapperMouseup),"ontouchstart"in window&&i[n]("touchstart",e._wrapperMousedown),"ontouchend"in window&&document[n]("touchend",e._wrapperMouseup)},l.prototype._onMousedown=function(t){var e,i,n,r,o,s=this,a=s._getEventPoint(t);s._interaction===b.Drag&&(r=!(0===(e=w.getElementRect(s._hLine)).width||0===e.height),o=!(0===(i=w.getElementRect(s._vLine)).width||0===i.height),n=w.getElementRect(s._markerContent),s._dragContent&&s._pointInRect(a,n)?(s._capturedEle=s._markerContent,s._contentDragStartPoint=new w.Point(a.x,a.y),s._mouseDownCrossPoint=new w.Point(s._targetPoint.x,s._targetPoint.y)):r&&(Math.abs(e.top-a.y)<=s._dragThreshold||Math.abs(a.y-e.top-e.height)<=s._dragThreshold||a.y>=e.top&&a.y<=e.top+e.height)?(s._capturedEle=s._hLine,s._contentDragStartPoint=void 0,w.addClass(s._chart.hostElement,l._CSS_LINE_DRAGGABLE)):o&&(Math.abs(i.left-a.x)<=s._dragThreshold||Math.abs(a.x-i.left-i.width)<=s._dragThreshold||a.x>=i.left&&a.x<=i.left+i.width)&&(s._capturedEle=s._vLine,s._contentDragStartPoint=void 0,w.addClass(s._chart.hostElement,l._CSS_LINE_DRAGGABLE)),t.preventDefault())},l.prototype._onMouseup=function(t){var e=this,i=e._alignment===c.Auto&&e._capturedEle===e._markerContent&&e._lines!==v.None;e._capturedEle=void 0,e._contentDragStartPoint=void 0,e._mouseDownCrossPoint=void 0,i&&(e._updatePositionByAlignment(),e._updatePositionByAlignment()),w.removeClass(e._chart.hostElement,l._CSS_LINE_DRAGGABLE)},l.prototype._moveMarker=function(t){var e,i,n,r,o,s,a=this,l=a._chart,h=a._getEventPoint(t),c=a._plotRect,u=a._interaction===b.Drag,p=a._lines===v.Horizontal,d=a._lines===v.Vertical,_=a._seriesIndex,f=w.getElementRect(l.hostElement);if(c&&a._isVisible&&a._interaction!==b.None&&(a._interaction!==b.Drag||a._capturedEle&&a._lines!==v.None)){if(u&&(a._contentDragStartPoint?(h.x=p?a._targetPoint.x:a._mouseDownCrossPoint.x+h.x-a._contentDragStartPoint.x,h.y=d?a._targetPoint.y:a._mouseDownCrossPoint.y+h.y-a._contentDragStartPoint.y):p||!a._dragLines&&a._capturedEle===a._hLine?h.x=a._targetPoint.x:(d||!a._dragLines&&a._capturedEle===a._vLine)&&(h.y=a._targetPoint.y)),u&&a._lines===v.Horizontal||!a._dragLines&&a._capturedEle===a._hLine){if(h.y<=c.top||h.y>=c.top+c.height)return}else if(u&&a._lines===v.Vertical||!a._dragLines&&a._capturedEle===a._vLine){if(h.x<=c.left||h.x>=c.left+c.width)return}else if(h.x<=c.left||h.y<=c.top||h.x>=c.left+c.width||h.y>=c.top+c.height)return;if(null!=_&&0<=_&&_<l.series.length){if(null==(i=(e=l.series[_]).hitTest(new w.Point(h.x,NaN)))||null==i.x||null==i.y)return;n=e.axisX||l.axisX,r=e._getAxisY(),o=w.isDate(i.x)?y.FlexChart._toOADate(i.x):i.x,o=w.isString(o)?i.pointIndex:o,s=w.isDate(i.y)?y.FlexChart._toOADate(i.y):i.y;var g=this._getElementPaddingValuee(l.hostElement,"padding-left"),m=this._getElementPaddingValuee(l.hostElement,"padding-top");h.x=n.convert(o)+g+f.left,h.y=r.convert(s)+m+f.top}a._updateMarkerPosition(h),t.preventDefault()}},l.prototype._getElementPaddingValuee=function(t,e){return+window.getComputedStyle(t,null).getPropertyValue(e).replace("px","")},l.prototype._show=function(t){(t||this._marker).style.display="block"},l.prototype._hide=function(t){(t||this._marker).style.display="none"},l.prototype._toggleVisibility=function(){this._isVisible?this._show():this._hide()},l.prototype._resetDefaultValue=function(){var t=this;t._isVisible=!0,t._alignment=c.Auto,t._lines=v.None,t._interaction=b.None,t._horizontalPosition=null,t._verticalPosition=null,t._content=null,t._seriesIndex=null,t._dragThreshold=15,t._dragContent=!1,t._dragLines=!1,t._targetPoint=new w.Point},l.prototype._initialize=function(){var t,e=this,i=e._chart.hostElement.querySelector("."+y.FlexChart._CSS_PLOT_AREA);e._plot=i,e._marker||e._createMarker(),i&&(e._plotRect=w.getElementRect(i),t=i.getBBox(),e._plotRect.width=t.width,e._plotRect.height=t.height,e._updateMarkerSize(),e._updateLinesSize()),e._updateMarkerPosition(),e._wrapperMoveMarker=e._moveMarker.bind(e),e._attach()},l.prototype._createMarker=function(){var t,e;t=document.createElement("div"),w.addClass(t,l._CSS_MARKER),(e=this._getContainer()).appendChild(t),this._markerContainer=e,this._marker=t,this._createChildren()},l.prototype._removeMarker=function(){var t=this,e=t._markerContainer;e.removeChild(t._marker),t._content=null,t._hLine=null,t._vLine=null,e.hasChildNodes()||(t._chart.hostElement.removeChild(t._markerContainer),t._markerContainer=null),t._marker=null},l.prototype._getContainer=function(){var t=this._chart.hostElement.querySelector(l._CSS_MARKER_CONTAINER);return t||(t=this._createContainer()),t},l.prototype._createContainer=function(){var t=document.createElement("div"),e=this._chart.hostElement;return w.addClass(t,l._CSS_MARKER_CONTAINER),e.insertBefore(t,e.firstChild),t},l.prototype._createChildren=function(){var t,e,i,n,r=this,o=r._marker;(n=document.createElement("div")).style.position="absolute",n.style.height="100%",n.style.width="100%",o.appendChild(n),r._dragEle=n,t=document.createElement("div"),w.addClass(t,l._CSS_MARKER_CONTENT),o.appendChild(t),r._markerContent=t,e=document.createElement("div"),w.addClass(e,l._CSS_MARKER_HLINE),o.appendChild(e),r._hLine=e,i=document.createElement("div"),w.addClass(i,l._CSS_MARKER_VLINE),o.appendChild(i),r._vLine=i,r._toggleElesDraggableClass(r._interaction===b.Drag),r._resetLinesVisibility()},l.prototype._toggleElesDraggableClass=function(t){var e=this;w.toggleClass(e._hLine,l._CSS_LINE_DRAGGABLE,t),w.toggleClass(e._vLine,l._CSS_LINE_DRAGGABLE,t),w.toggleClass(e._dragEle,l._CSS_LINE_DRAGGABLE,t&&e._dragContent&&e._lines!==v.None)},l.prototype._updateMarkerSize=function(){var t=this,e=t._plotRect,i=t._chart.hostElement,n=window.getComputedStyle(i,null),r=w.getElementRect(i);t._marker&&(t._marker.style.marginTop=e.top-r.top-(parseFloat(n.getPropertyValue("padding-top"))||0)+"px",t._marker.style.marginLeft=e.left-r.left-(parseFloat(n.getPropertyValue("padding-left"))||0)+"px")},l.prototype._updateLinesSize=function(){var t=this,e=t._plotRect;t._hLine&&t._vLine&&(t._hLine.style.width=e.width+"px",t._vLine.style.height=e.height+"px")},l.prototype._resetLinesVisibility=function(){var t=this;t._hLine&&t._vLine&&(t._hide(t._hLine),t._hide(t._vLine),t._lines!==v.Horizontal&&t._lines!==v.Both||t._show(t._hLine),t._lines!==v.Vertical&&t._lines!==v.Both||t._show(t._vLine))},l.prototype._updateMarkerPosition=function(t){var e,i,n=this,r=n._plotRect,o=n._targetPoint,s=!1;n._interaction,b.Drag;n._plot&&(e=r.left+r.width*(n._horizontalPosition||0),i=r.top+r.height*(n._verticalPosition||0),null==n._horizontalPosition&&t&&(e=t.x),null==n._verticalPosition&&t&&(i=t.y),e===o.x&&i===o.y||(s=!0),o.x=e,o.y=i,n._toggleVisibility(),n._content&&n._updateContent(),s&&n._raisePositionChanged(e,i),n._updatePositionByAlignment(!!t))},l.prototype._updateContent=function(){var t,e=this._chart,i=this._targetPoint,n=e.hitTest(i);t=this._content.call(null,n,i),this._markerContent.innerHTML=t||""},l.prototype._raisePositionChanged=function(t,e){this._plotRect;this.onPositionChanged(new w.Point(t,e))},l.prototype._updatePositionByAlignment=function(t){var e=this,i=e._alignment,n=e._targetPoint,r=e._marker,o=0,s=0,a=r.clientWidth,l=r.clientHeight,h=e._plotRect;e._plot&&(!e._capturedEle||e._capturedEle&&e._capturedEle!==e._markerContent?(i===c.Auto?(n.x+a+12>h.left+h.width&&0<=n.x-a&&(s=a),o=l,n.y-l<h.top&&(o=0)):(1==(1&i)&&(s=a),2==(2&i)&&(o=l)),e._interaction===b.Move&&0===o&&0===s&&null==this.verticalPosition&&(s=-12)):(0<parseInt(e._hLine.style.top)&&(o=l),0<parseInt(e._vLine.style.left)&&(s=a)),r.style.left=n.x-s-h.left+"px",r.style.top=n.y-o-h.top+"px",e._hLine.style.top=o+"px",e._hLine.style.left=h.left-n.x+s+"px",e._vLine.style.top=h.top-n.y+o+"px",e._vLine.style.left=s+"px")},l.prototype._getEventPoint=function(t){return t instanceof MouseEvent?new w.Point(t.pageX,t.pageY):new w.Point(t.changedTouches[0].pageX,t.changedTouches[0].pageY)},l.prototype._pointInRect=function(t,e){return!(!t||!e)&&(t.x>=e.left&&t.x<=e.left+e.width&&t.y>=e.top&&t.y<=e.top+e.height)},l._CSS_MARKER="wj-chart-linemarker",l._CSS_MARKER_HLINE="wj-chart-linemarker-hline",l._CSS_MARKER_VLINE="wj-chart-linemarker-vline",l._CSS_MARKER_CONTENT="wj-chart-linemarker-content",l._CSS_MARKER_CONTAINER="wj-chart-linemarker-container",l._CSS_LINE_DRAGGABLE="wj-chart-linemarker-draggable",l._CSS_TOUCH_DISABLED="wj-flexchart-touch-disabled",l}();y.LineMarker=r}(w.chart||(w.chart={}))}(wijmo||(wijmo={})),function(p){!function(r){"use strict";var o,t,i=function(){function t(t,e,i,n){this._seriesIndex=t,this._pointIndex=e,this._dataX=i,this._dataY=n}return Object.defineProperty(t.prototype,"seriesIndex",{get:function(){return this._seriesIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataX",{get:function(){return this._dataX},set:function(t){t!==this._dataX&&(this._dataX=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataY",{get:function(){return this._dataY},set:function(t){t!==this._dataY&&(this._dataY=t)},enumerable:!0,configurable:!0}),t}();r._DataPoint=i,(t=o=r._MeasureOption||(r._MeasureOption={}))[t.X=0]="X",t[t.Y=1]="Y",t[t.XY=2]="XY";var e=function(){function t(t){this._rect=t}return Object.defineProperty(t.prototype,"rect",{get:function(){return this._rect},enumerable:!0,configurable:!0}),t.prototype.contains=function(t){var e=this._rect;return t.x>=e.left&&t.x<=e.right&&t.y>=e.top&&t.y<=e.bottom},t.prototype.pointDistance=function(t,e,i){var n=e.x-t.x,r=e.y-t.y;return i==o.X?Math.abs(n):i==o.Y?Math.abs(r):Math.sqrt(n*n+r*r)},t.prototype.distance=function(t){var e=o.XY;null===t.x?e=o.Y:null===t.y&&(e=o.X);var i=this._rect;return t.x<i.left?t.y<i.top?this.pointDistance(t,new p.Point(i.left,i.top),e):t.y>i.bottom?this.pointDistance(t,new p.Point(i.left,i.bottom),e):e==o.Y?0:i.left-t.x:t.x>i.right?t.y<i.top?this.pointDistance(t,new p.Point(i.right,i.top),e):t.y>i.bottom?this.pointDistance(t,new p.Point(i.right,i.bottom),e):e==o.Y?0:t.x-i.right:e==o.X?0:t.y<i.top?i.top-t.y:t.y>i.bottom?t.y-i.bottom:0},t}();r._RectArea=e;var n=function(){function t(t,e){this._center=t,this.setRadius(e)}return t.prototype.setRadius=function(t){this._rad=t,this._rad2=t*t},Object.defineProperty(t.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),t.prototype.contains=function(t){var e=this._center.x-t.x,i=this._center.y-t.y;return e*e+i*i<=this._rad2},t.prototype.distance=function(t){var e=isNaN(t.x)?0:this._center.x-t.x,i=isNaN(t.y)?0:this._center.y-t.y,n=e*e+i*i;return n<=this._rad2?0:Math.sqrt(n)-this._rad},t}();r._CircleArea=n;var c=function(){function t(t,e){this._x=[],this._y=[],this._x=t,this._y=e}return t.prototype.contains=function(t){return!1},t.prototype.distance=function(t){for(var e=NaN,i=0;i<this._x.length-1;i++){var n=r.FlexChart._dist(t,new p.Point(this._x[i],this._y[i]),new p.Point(this._x[i+1],this._y[i+1]));(isNaN(e)||n<e)&&(e=n)}return e},t}();r._LinesArea=c;var u=function(){};r._HitResult=u;var s=function(){function t(t){this._map={},this._chart=t}return t.prototype.add=function(t,e){this._map[e]&&(t.tag||(t.tag=new i(e,NaN,NaN,NaN)),this._map[e].push(t))},t.prototype.clear=function(){this._map={};for(var t=this._chart.series,e=0;e<t.length;e++)t[e].hitTest===r.Series.prototype.hitTest&&(this._map[e]=new Array)},t.prototype.hitTest=function(t,e){void 0===e&&(e=!1);for(var i=null,n=Number.MAX_VALUE,r=this._chart.series.length-1;0<=r;r--){var o=this._map[r];if(o){for(var s=o.length-1;0<=s;s--){var a=o[s];if(!p.tryCast(a,c)||e){var l=a.distance(t);if(l<n&&(i=a,0==(n=l)))break}}if(0==n)break}}if(i){var h=new u;return h.area=i,h.distance=n,h}return null},t.prototype.hitTestSeries=function(t,e){var i=null,n=Number.MAX_VALUE,r=this._map[e];if(r)for(var o=r.length-1;0<=o;o--){var s=r[o],a=s.distance(t);if(a<n&&(i=s,0==(n=a)))break}if(i){var l=new u;return l.area=i,l.distance=n,l}return null},t}();r._HitTester=s}(p.chart||(p.chart={}))}(wijmo||(wijmo={})),function(d){!function(m){"use strict";var t=function(){function t(){this._DEFAULT_WIDTH=2,this._DEFAULT_SYM_SIZE=10,this.clipping=!0}return t.prototype.clear=function(){this.seriesCount=0,this.seriesIndex=0},t.prototype._renderLabels=function(t,e,i,n,r){var o=i.length,s=n.dataLabel,a=s.border,l=s.offset,h=s.connectingLine;void 0===l&&(l=h?16:0),a&&(l-=2);for(var c=0;c<o;c++){var u=i[c],p=d.asType(u.tag,m._DataPoint,!0);p&&this._renderLabel(t,u,p,n,s,e,l,r)}},t.prototype._renderLabel=function(t,e,i,n,r,o,s,a){var l=null==r.position?m.LabelPosition.Top:r.position,h=r.border,c=r.connectingLine,u=new m.HitTestInfo(n,d);u._setDataPoint(i);var p=n._getLabelContent(u,r.content),d=this._getLabelPoint(o,i);if(this._getPointAndPosition(d,l,e,n),n._plotRect.contains(d)){var _=new m.DataLabelRenderEventArgs(t,u,d,p);if(r.onRendering&&(r.onRendering(_)?(p=_.text,d=_.point):p=null),p){var f=this._renderLabelAndBorder(t,p,l,s,d,c,2,h);if(f){var g=new m._RectArea(f);g.tag=i,a.push(g)}}}},t.prototype._getPointAndPosition=function(t,e,i,n){if(i instanceof m._RectArea){var r=i;n._isRotated()?t.y=r.rect.top+.5*r.rect.height:t.x=r.rect.left+.5*r.rect.width}},t.prototype._getLabelPoint=function(t,e){var i=t._getAxisX(),n=t._getAxisY();return new d.Point(i.convert(e.dataX),n.convert(e.dataY))},t.prototype._renderLabelAndBorder=function(t,e,i,n,r,o,s,a){var l,h="wj-data-label",c="wj-data-label-line",u=m.FlexChart._CSS_DATA_LABELS;switch(i){case m.LabelPosition.Top:o&&t.drawLine(r.x,r.y,r.x,r.y-n,c),r.y-=s+n,l=m.FlexChart._renderText(t,e,r,1,2,h,u);break;case m.LabelPosition.Bottom:o&&t.drawLine(r.x,r.y,r.x,r.y+n,c),r.y+=s+n,l=m.FlexChart._renderText(t,e,r,1,0,h,u);break;case m.LabelPosition.Left:o&&t.drawLine(r.x,r.y,r.x-n,r.y,c),r.x-=s+n,l=m.FlexChart._renderText(t,e,r,2,1,h,u);break;case m.LabelPosition.Right:o&&t.drawLine(r.x,r.y,r.x+n,r.y,c),r.x+=s+n,l=m.FlexChart._renderText(t,e,r,0,1,h,u);break;case m.LabelPosition.Center:l=m.FlexChart._renderText(t,e,r,1,1,h,u)}return a&&l&&t.drawRect(l.left-s,l.top-s,l.width+2*s,l.height+2*s,"wj-data-label-border"),l},t.prototype.getOption=function(t,e){var i=this.chart.options;if(e&&(i=i?i[e]:null),i&&!d.isUndefined(i[t])&&null!==i[t])return i[t]},t.prototype.getNumOption=function(t,e){var i=this.chart.options;if(e&&(i=i?i[e]:null),i&&i[t])return d.asNumber(i[t],!0)},t.cloneStyle=function(t,e){if(!t)return t;var i={};for(var n in t)e&&0<=e.indexOf(n)||(i[n]=t[n]);return i},t.prototype.isValid=function(t,e,i,n){return m._DataInfo.isValid(t)&&m._DataInfo.isValid(e)&&m.FlexChart._contains(this.chart._plotRect,new d.Point(t,e))},t.prototype.load=function(){},t.prototype.unload=function(){},t}();m._BasePlotter=t}(d.chart||(d.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(lt){!function(at){"use strict";var t=function(d){function t(){var t=null!==d&&d.apply(this,arguments)||this;return t.origin=0,t.width=.7,t.isVolume=!1,t._volHelper=null,t.stackPosMap={},t.stackNegMap={},t.stacking=at.Stacking.None,t}return __extends(t,d),t.prototype.clear=function(){d.prototype.clear.call(this),this.stackNegMap[this.chart.axisY._uniqueId]={},this.stackPosMap[this.chart.axisY._uniqueId]={},this._volHelper=null},t.prototype.load=function(){if(d.prototype.load.call(this),this.isVolume){var t,e,i,n,r,o,s,a,l=null,h=null;for(o=0;o<this.chart.series.length;o++){if(r=(t=this.chart.series[o]).getDataType(1)||t.chart._xDataType,e=t._getAxisX(),(i=null===(i=t._getChartType())||lt.isUndefined(i)?this.chart._getChartType():i)===at.ChartType.Column){var c=this.chart?this.chart._bindingSeparator:",",u=t.binding.split(c).length-1;n=t._getBindingValues(u)}else n=i===at.ChartType.Candlestick?t._getBindingValues(4):null;var p;if(r===lt.DataType.Date)for(s=[],a=[],o=0;o<t._getLength();o++)p=t._getItem(o)[t.bindingX].valueOf(),s.push(p),a.push({value:p,text:lt.Globalize.format(new Date(p),e.format||"d")});else s=this.dataInfo.getXVals();if(l=this.dataInfo.getMinX(),h=this.dataInfo.getMaxX(),n&&0<n.length){this._volHelper=new at._VolumeHelper(n,s,l,h,r),e._customConvert=this._volHelper.convert.bind(this._volHelper),e._customConvertBack=this._volHelper.convertBack.bind(this._volHelper),a&&0<a.length&&(this._itemsSource=e.itemsSource=a);break}}}},t.prototype.unload=function(){var t;d.prototype.unload.call(this);for(var e=0;e<this.chart.series.length;e++)(t=this.chart.series[e]._getAxisX())&&(t._customConvert=null,t._customConvertBack=null,t.itemsSource&&t.itemsSource==this._itemsSource&&(this._itemsSource=t.itemsSource=null))},t.prototype.adjustLimits=function(t,e){var i=(this.dataInfo=t).getMinX(),n=t.getMaxX(),r=t.getMinY(),o=t.getMaxY(),s=t.getDeltaX();s<=0&&(s=1),!this.isVolume||this.chart._getChartType()!==at.ChartType.Column&&this.chart._getChartType()!==at.ChartType.Candlestick?this.unload():this.load();for(var a=0;a<this.chart.series.length;a++){var l=this.chart.series[a],h=l._getChartType();if((h=null===h||lt.isUndefined(h)?this.chart._getChartType():h)===at.ChartType.Column||h===at.ChartType.Bar)if(this._isRange(l))l._getBindingValues(1).forEach(function(t){t<r?r=t:o<t&&(o=t)})}return this.rotated?(this.chart.axisY._getLogBase()||t.getDataTypeY()===lt.DataType.Date||(this.origin>o?o=this.origin:this.origin<r&&(r=this.origin)),new lt.Rect(r,i-.5*s,o-r,n-i+s)):(this.chart.axisY._getLogBase()||t.getDataTypeY()===lt.DataType.Date||(this.origin>o?o=this.origin:this.origin<r&&(r=this.origin)),new lt.Rect(i-.5*s,r,n-i+s,o-r))},t.prototype._isRange=function(t){var e=this.chart?this.chart._bindingSeparator:",",i=(null==t.binding?"":t.binding.split(e)).length-1;return this.isVolume?2===i:1===i},t.prototype.plotSeries=function(t,e,i,n,r,o,s,a){var l=[],h=this.chart.series.indexOf(n),c=lt.asType(n,at.SeriesBase),u=this.chart.options,p=this.width,d=0;if(o=o||0,s=s||1,u&&u.groupWidth){var _=u.groupWidth;if(lt.isNumber(_)){var f=lt.asNumber(_);isFinite(f)&&0<f&&(d=f,p=1)}else if(lt.isString(_)){var g=lt.asString(_);if(g&&0<=g.indexOf("%")){g=g.replace("%","");f=parseFloat(g);isFinite(f)&&(f<0?f=0:100<f&&(f=100),d=0,p=f/100)}else{f=parseFloat(g);isFinite(f)&&0<f&&(d=f,p=1)}}}var m=p/s,y=c._getAxisY()._uniqueId,v=this.stackNegMap[y],b=this.stackPosMap[y],w=n.getValues(0),C=n.getValues(1),x=this._isRange(c),S=c._bindValues(null==c._cv?null==this.chart.collectionView?null:this.chart.collectionView.items:c._cv.items,c._getBinding(1)).values;if(w){if(C||(C=this.dataInfo.getXVals()),C){var E=this.dataInfo.getDeltaX();0<E&&(p*=E,m*=E)}var P=c._getSymbolFill(h),T=c._getAltSymbolFill(h)||P,M=c._getSymbolStroke(h),A=c._getAltSymbolStroke(h)||M,R=w.length;null!=C&&(R=Math.min(R,C.length));var D,I,O=this.origin,L=0,k=this.stacking!=at.Stacking.None,j=this.stacking==at.Stacking.Stacked100pc;if(void 0!==c._getChartType()&&(k=j=!1),this.rotated){O<e.actualMin?O=e.actualMin:O>e.actualMax&&(O=e.actualMax),c._isCustomAxisY()&&(k=j=!1);V=e.convert(O);var N=i.actualMin,F=i.actualMax;for(Y=0;Y<R;Y++){W=C?C[Y]:Y,U=w[Y],K=V;if(this._getSymbolOrigin&&(K=i.convert(this._getSymbolOrigin(O,Y))),x&&S&&S.length){q=S[Y];at._DataInfo.isValid(q)&&(K=e.convert(q))}if(this._getSymbolStyles)P=(X=this._getSymbolStyles(Y))&&X.fill?X.fill:P,T=X&&X.fill?X.fill:T,M=X&&X.stroke?X.fill:M,A=X&&X.stroke?X.fill:A;if(D=0<U?P:T,I=0<U?M:A,t.fill=D,t.stroke=I,at._DataInfo.isValid(W)&&at._DataInfo.isValid(U))if(k){Z=W+.5*p;if((J=W-.5*p)<N&&Z<N||F<J&&F<Z)continue;if(J=i.convert(Math.max(J,N)),Z=i.convert(Math.min(Z,F)),j)U/=this.dataInfo.getStackedAbsSum(W);Q=0;0<U?(Q=isNaN(b[W])?0:b[W],nt=e.convert(Q),$=e.convert(Q+U),b[W]=Q+U):(Q=isNaN(v[W])?0:v[W],nt=e.convert(Q),$=e.convert(Q+U),v[W]=Q+U),a&&l.push(new lt.Point($,i.convert(W)));tt=new lt.Rect(Math.min(nt,$),Math.min(J,Z),Math.abs($-nt),Math.abs(Z-J));if(0<d){(st=1-d/tt.height)<0&&(st=0);var z=tt.top+.5*tt.height;tt.top+=(z-tt.top)*st,tt.height=Math.min(d,tt.height)}it=new at._RectArea(tt);this.drawSymbol(t,tt,n,Y,new lt.Point($,tt.top+.5*tt.height)),n._setPointIndex(Y,L),L++,it.tag=new at._DataPoint(h,Y,Q+U,W),this.hitTester.add(it,h)}else{Z=W-.5*p+(o+1)*m;if((J=W-.5*p+o*m)<N&&Z<N||F<J&&F<Z)continue;J=i.convert(Math.max(J,N)),Z=i.convert(Math.min(Z,F));var H=e.convert(U);tt=new lt.Rect(Math.min(H,K),Math.min(J,Z),Math.abs(K-H),Math.abs(Z-J));if(a&&l.push(new lt.Point(H,(J+Z)/2)),0<d){(st=1-(ot=d/s)/tt.height)<0&&(st=0);z=i.convert(W);tt.top+=(z-tt.top)*st,tt.height=Math.min(ot,tt.height)}it=new at._RectArea(tt);this.drawSymbol(t,tt,n,Y,new lt.Point(H,tt.top+.5*tt.height)),n._setPointIndex(Y,L),L++,it.tag=new at._DataPoint(h,Y,U,W),this.hitTester.add(it,h)}}}else{O<i.actualMin?O=i.actualMin:O>i.actualMax&&(O=i.actualMax);var V=i.convert(O),B=e.actualMin,G=e.actualMax;c._isCustomAxisY()&&(k=j=!1);for(var Y=0;Y<R;Y++){var X,K=V,W=C?C[Y]:Y,U=w[Y];if(this._getSymbolOrigin&&(K=i.convert(this._getSymbolOrigin(O,Y,R))),x&&S&&S.length){var q=S[Y];at._DataInfo.isValid(q)&&(K=i.convert(q))}if(this._getSymbolStyles)P=(X=this._getSymbolStyles(Y,R))&&X.fill?X.fill:P,T=X&&X.fill?X.fill:T,M=X&&X.stroke?X.stroke:M,A=X&&X.stroke?X.stroke:A;if(D=0<U?P:T,I=0<U?M:A,t.fill=D,t.stroke=I,at._DataInfo.isValid(W)&&at._DataInfo.isValid(U))if(k){var J,Z,$=W+.5*p;if((nt=W-.5*p)<B&&$<B||G<nt&&G<$)continue;if(nt=e.convert(nt),$=e.convert($),!at._DataInfo.isValid(nt)||!at._DataInfo.isValid($))continue;if(j)U/=this.dataInfo.getStackedAbsSum(W);var Q=0;0<U?(Q=isNaN(b[W])?0:b[W],J=i.convert(Math.max(Q,i.actualMin)),Z=i.convert(Math.max(Q+U,i.actualMin)),b[W]=Q+U):(Q=isNaN(v[W])?0:v[W],J=i.convert(Q),Z=i.convert(Q+U),v[W]=Q+U),a&&l.push(new lt.Point(e.convert(W),Z));var tt=new lt.Rect(Math.min(nt,$),Math.min(J,Z),Math.abs($-nt),Math.abs(Z-J));if(0<d){(st=1-d/tt.width)<0&&(st=0);var et=tt.left+.5*tt.width;tt.left+=(et-tt.left)*st,tt.width=Math.min(d,tt.width)}var it=new at._RectArea(tt);this.drawSymbol(t,tt,n,Y,new lt.Point(tt.left+.5*tt.width,Z)),n._setPointIndex(Y,L),L++,it.tag=new at._DataPoint(h,Y,W,Q+U),this.hitTester.add(it,h)}else{var nt,$=W-.5*p+(o+1)*m;if((nt=W-.5*p+o*m)<B&&$<B||G<nt&&G<$)continue;if(nt=e.convert(nt),$=e.convert($),!at._DataInfo.isValid(nt)||!at._DataInfo.isValid($))continue;var rt=i.convert(U),tt=new lt.Rect(Math.min(nt,$),Math.min(rt,K),Math.abs($-nt),Math.abs(K-rt));if(a&&l.push(new lt.Point((nt+$)/2,rt)),0<d){var ot,st;(st=1-(ot=d/s)/tt.width)<0&&(st=0);et=e.convert(W);tt.left+=(et-tt.left)*st,tt.width=Math.min(ot,tt.width)}var it=new at._RectArea(tt);this.drawSymbol(t,tt,n,Y,new lt.Point(tt.left+.5*tt.width,rt)),n._setPointIndex(Y,L),L++,it.tag=new at._DataPoint(h,Y,W,U),this.hitTester.add(it,h)}}}a&&l&&l.length&&a(l)}},t.prototype.drawSymbol=function(t,e,i,n,r){var o=this;if(this.chart.itemFormatter){t.startGroup();var s=new at.HitTestInfo(this.chart,r,at.ChartElement.SeriesSymbol);s._setData(i,n),this.chart.itemFormatter(t,s,function(){o.drawDefaultSymbol(t,e,i)}),t.endGroup()}else this.drawDefaultSymbol(t,e,i)},t.prototype.drawDefaultSymbol=function(t,e,i){t.drawRect(e.left,e.top,e.width,e.height,null,i.symbolStyle)},t}(at._BasePlotter);at._BarPlotter=t}(lt.chart||(lt.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(B){!function(V){"use strict";var t=function(e){function t(){var t=e.call(this)||this;return t.hasSymbols=!1,t.hasLines=!0,t.isSpline=!1,t.stacking=V.Stacking.None,t.stackPos={},t.stackNeg={},t.clipping=!1,t}return __extends(t,e),t.prototype.clear=function(){e.prototype.clear.call(this),this.stackNeg={},this.stackPos={}},t.prototype.adjustLimits=function(t,e){var i=(this.dataInfo=t).getMinX(),n=t.getMinY(),r=t.getMaxX(),o=t.getMaxY();if(this.isSpline&&!this.chart.axisY._getLogBase()){var s=.1*(o-n);n-=s,o+=s}return this.rotated?new B.Rect(n,i,o-n,r-i):new B.Rect(i,n,r-i,o-n)},t.prototype.plotSeries=function(t,e,i,n,r,o,s,a){var l=[],h=B.asType(n,V.SeriesBase),c=this.chart.series.indexOf(n),u=n.getValues(0),p=n.getValues(1);if(u){p||(p=this.dataInfo.getXVals());var d=V._BasePlotter.cloneStyle(n.style,["fill"]),_=u.length,f=!0;p?_=Math.min(_,p.length):(f=!1,p=new Array(_));var g=this._DEFAULT_WIDTH,m=h._getSymbolFill(c),y=h._getAltSymbolFill(c)||m,v=h._getSymbolStroke(c),b=h._getAltSymbolStroke(c)||v,w=h._getSymbolSize();t.stroke=v,t.strokeWidth=g,t.fill=m;var C=new Array,x=new Array,S=new Array,E=this.rotated,P=this.stacking!=V.Stacking.None&&!h._isCustomAxisY(),T=this.stacking==V.Stacking.Stacked100pc&&!h._isCustomAxisY();void 0!==h._getChartType()&&(P=T=!1);for(var M=this.chart.interpolateNulls,A=!1,R=0;R<_;R++){var D=f?p[R]:R,I=u[R];if(V._DataInfo.isValid(D)&&V._DataInfo.isValid(I)){if(P){if(T)I/=this.dataInfo.getStackedAbsSum(D);if(0<=I){var O=isNaN(this.stackPos[D])?0:this.stackPos[D];I=this.stackPos[D]=O+I}else{O=isNaN(this.stackNeg[D])?0:this.stackNeg[D];I=this.stackNeg[D]=O+I}}var L;if(E){L=new V._DataPoint(c,R,I,D);var k=e.convert(I);I=i.convert(D),D=k}else L=new V._DataPoint(c,R,D,I),D=e.convert(D),I=i.convert(I);if(isNaN(D)||isNaN(I))(A=!0)!==M&&(C.push(void 0),x.push(void 0)),S.push(!0);else{C.push(D),x.push(I),S.push(!1),a&&l.push(new B.Point(D,I));var j=new V._CircleArea(new B.Point(D,I),.5*w);j.tag=L,this.hitTester.add(j,c)}}else(A=!0)!==M&&(C.push(void 0),x.push(void 0)),S.push(!0)}var N=0;if(this.hasLines)if(t.fill=null,A&&!0!==M){var F=[],z=[];for(R=0;R<_;R++)void 0===C[R]?(1<F.length&&(this._drawLines(t,F,z,null,d,this.chart._plotrectId),this.hitTester.add(new V._LinesArea(F,z),c),N++),F=[],z=[]):(F.push(C[R]),z.push(x[R]));1<F.length&&(this._drawLines(t,F,z,null,d,this.chart._plotrectId),this.hitTester.add(new V._LinesArea(F,z),c),N++)}else this._drawLines(t,C,x,null,d,this.chart._plotrectId),this.hitTester.add(new V._LinesArea(C,x),c),N++;if((this.hasSymbols||this.chart.itemFormatter)&&0<w){t.fill=m;var H=0;for(R=0;R<_;R++)if(!M||!S[R]){D=C[H],I=x[H];(!1===this.hasLines||this.chart.itemFormatter)&&(t.fill=0<u[R]?m:y,t.stroke=0<u[R]?v:b),this.isValid(D,I,e,i)&&(this._drawSymbol(t,D,I,w,h,R),n._setPointIndex(R,N),N++),H++}}a&&l&&l.length&&a(l)}},t.prototype._drawLines=function(t,e,i,n,r,o){this.isSpline?t.drawSplines(e,i,n,r,o):t.drawLines(e,i,n,r,o)},t.prototype._drawSymbol=function(t,e,i,n,r,o){var s=this;if(this.chart.itemFormatter){t.startGroup();var a=new V.HitTestInfo(this.chart,new B.Point(e,i),V.ChartElement.SeriesSymbol);a._setData(r,o),this.chart.itemFormatter(t,a,function(){s.hasSymbols&&s._drawDefaultSymbol(t,e,i,n,r.symbolMarker,r.symbolStyle)}),t.endGroup()}else this._drawDefaultSymbol(t,e,i,n,r.symbolMarker,r.symbolStyle)},t.prototype._drawDefaultSymbol=function(t,e,i,n,r,o){r==V.Marker.Dot?t.drawEllipse(e,i,.5*n,.5*n,null,o):r==V.Marker.Box&&t.drawRect(e-.5*n,i-.5*n,n,n,null,o)},t}(V._BasePlotter);V._LinePlotter=t}(B.chart||(B.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(Y){!function(G){"use strict";var t=function(e){function t(){var t=e.call(this)||this;return t.stacking=G.Stacking.None,t.isSpline=!1,t.stackPos={},t.stackNeg={},t}return __extends(t,e),t.prototype.adjustLimits=function(t,e){var i=(this.dataInfo=t).getMinX(),n=t.getMinY(),r=t.getMaxX(),o=t.getMaxY();if(this.isSpline){var s=.1*(o-n);this.chart.axisY._getLogBase()||(n-=s),o+=s}return this.rotated?new Y.Rect(n,i,o-n,r-i):new Y.Rect(i,n,r-i,o-n)},t.prototype.clear=function(){e.prototype.clear.call(this),this.stackNeg={},this.stackPos={}},t.prototype.plotSeries=function(t,e,i,n,r,o,s,a){var l=[],h=this.chart.series.indexOf(n),c=n,u=n.getValues(0),p=n.getValues(1);if(u){var d=u.length;if(d){p||(p=this.dataInfo.getXVals());var _=!0;p?p.length<d&&(d=p.length):(_=!1,p=new Array(d));var f=new Array,g=new Array,m=new Array,y=new Array,v=this.stacking!=G.Stacking.None&&!c._isCustomAxisY(),b=this.stacking==G.Stacking.Stacked100pc&&!c._isCustomAxisY();void 0!==c._getChartType()&&(v=b=!1);for(var w=this.rotated,C=!1,x=this.chart.interpolateNulls,S=null,E=null,P=this.chart._plotRect,T=0;T<d;T++){var M=_?p[T]:T,A=u[T];if((null===S||S<M)&&(S=M),(null===E||M<E)&&(E=M),G._DataInfo.isValid(M)&&G._DataInfo.isValid(A)){var R=w?i.convert(M):e.convert(M);if(v){if(b)A/=this.dataInfo.getStackedAbsSum(M);var D=0;0<=A?(D=isNaN(this.stackPos[M])?0:this.stackPos[M],A=this.stackPos[M]=D+A):(D=isNaN(this.stackNeg[M])?0:this.stackNeg[M],A=this.stackNeg[M]=D+A),w?(D<e.actualMin&&(D=e.actualMin),m.push(e.convert(D)),y.push(R)):(m.push(R),D<i.actualMin&&(D=i.actualMin),y.push(i.convert(D)))}if(w){var I=e.convert(A);if(isNaN(R)||isNaN(I))C=!0,v||!0===x||(f.push(void 0),g.push(void 0));else if(f.push(I),g.push(R),G.FlexChart._contains(P,new Y.Point(I,R)))(O=new G._CircleArea(new Y.Point(I,R),this._DEFAULT_SYM_SIZE)).tag=new G._DataPoint(h,T,A,M),this.hitTester.add(O,h)}else{var O;I=i.convert(A);if(isNaN(R)||isNaN(I))C=!0,v||!0===x||(f.push(void 0),g.push(void 0));else if(f.push(R),g.push(I),G.FlexChart._contains(P,new Y.Point(R,I)))(O=new G._CircleArea(new Y.Point(R,I),this._DEFAULT_SYM_SIZE)).tag=new G._DataPoint(h,T,M,A),this.hitTester.add(O,h)}}else C=!0,v||!0===x||(f.push(void 0),g.push(void 0))}a&&f.forEach(function(t,e){null!=t&&l.push(new Y.Point(t,g[e]))});var L=this._DEFAULT_WIDTH,k=r._getColorLight(h),j=r._getColor(h),N=G._BasePlotter.cloneStyle(n.style,["fill"]),F=G._BasePlotter.cloneStyle(n.style,["stroke"]);if(!v&&!0!==x&&C){var z=[],H=[];for(T=0;T<d;T++)if(void 0===f[T]){if(1<z.length){if(this.isSpline)z=(V=this._convertToSpline(z,H)).xs,H=V.ys;t.stroke=j,t.strokeWidth=L,t.fill="none",t.drawLines(z,H,null,N),this.hitTester.add(new G._LinesArea(z,H),h),w?(z.push(e.convert(e.actualMin),e.convert(e.actualMin)),H.push(i.convert(i.actualMax),i.convert(i.actualMin))):(z.push(z[z.length-1],z[0]),H.push(i.convert(i.actualMin),i.convert(i.actualMin))),t.fill=k,t.stroke="none",t.drawPolygon(z,H,null,F)}z=[],H=[]}else z.push(f[T]),H.push(g[T]);if(1<z.length){if(this.isSpline)z=(V=this._convertToSpline(z,H)).xs,H=V.ys;t.stroke=j,t.strokeWidth=L,t.fill="none",t.drawLines(z,H,null,N),this.hitTester.add(new G._LinesArea(z,H),h),w?(z.push(e.convert(e.actualMin),e.convert(e.actualMin)),H.push(i.convert(i.actualMax),i.convert(i.actualMin))):(z.push(z[z.length-1],z[0]),H.push(i.convert(i.actualMin),i.convert(i.actualMin))),t.fill=k,t.stroke="none",t.drawPolygon(z,H,null,F)}}else{var V;if(this.isSpline)f=(V=this._convertToSpline(f,g)).xs,g=V.ys;if(v){if(this.isSpline){var B=this._convertToSpline(m,y);m=B.xs,y=B.ys}f=f.concat(m.reverse()),g=g.concat(y.reverse())}else w?(f.push(e.convert(e.actualMin),e.convert(e.actualMin)),g[0]>g[g.length-1]?g.push(i.convert(S),i.convert(E)):g.push(i.convert(E),i.convert(S))):(f[0]>f[f.length-1]?f.push(e.convert(E),e.convert(S)):f.push(e.convert(S),e.convert(E)),g.push(i.convert(i.actualMin),i.convert(i.actualMin)));t.fill=k,t.stroke="none",t.drawPolygon(f,g,null,F),v?(f=f.slice(0,f.length-m.length),g=g.slice(0,g.length-y.length)):(f=f.slice(0,f.length-2),g=g.slice(0,g.length-2)),t.stroke=j,t.strokeWidth=L,t.fill="none",t.drawLines(f,g,null,N),this.hitTester.add(new G._LinesArea(f,g),h)}this._drawSymbols(t,n,h),a&&l&&l.length&&a(l)}}},t.prototype._convertToSpline=function(t,e){if(t&&e){var i=new G._Spline(t,e).calculate();return{xs:i.xs,ys:i.ys}}return{xs:t,ys:e}},t.prototype._drawSymbols=function(t,e,i){if(null!=this.chart.itemFormatter)for(var n=this.hitTester._map[i],r=0;r<n.length;r++){var o=Y.tryCast(n[r],G._CircleArea);if(o){var s=o.tag;t.startGroup();var a=new G.HitTestInfo(this.chart,o.center,G.ChartElement.SeriesSymbol);a._setDataPoint(s),this.chart.itemFormatter(t,a,function(){}),t.endGroup()}}},t}(G._BasePlotter);G._AreaPlotter=t}(Y.chart||(Y.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(v){!function(y){"use strict";var t=function(m){function t(){var t=m.call(this)||this;return t._MIN_SIZE=5,t._MAX_SIZE=30,t.hasLines=!1,t.hasSymbols=!0,t.clipping=!0,t}return __extends(t,m),t.prototype.adjustLimits=function(t,e){var i=this.getNumOption("minSize","bubble");this._minSize=i||this._MIN_SIZE;var n=this.getNumOption("maxSize","bubble");this._maxSize=n||this._MAX_SIZE;for(var r=this.chart.series,o=r.length,s=NaN,a=NaN,l=0;l<o;l++){var h=r[l]._getBindingValues(1);if(h)for(var c=h.length,u=0;u<c;u++)y._DataInfo.isValid(h[u])&&((isNaN(s)||h[u]<s)&&(s=h[u]),(isNaN(a)||h[u]>a)&&(a=h[u]))}this._minValue=s,this._maxValue=a;var p=m.prototype.adjustLimits.call(this,t,e),d=this.chart.axisX,_=this.chart.axisY;if(d._getLogBase()<=0){var f=(e.width-this._maxSize)/p.width;p.left-=.5*this._maxSize/f,p.width+=this._maxSize/f}if(_._getLogBase()<=0){var g=(e.height-this._maxSize)/p.height;p.top-=.5*this._maxSize/g,p.height+=this._maxSize/g}return p},t.prototype._drawSymbol=function(t,e,i,n,r,o){var s=this;if(null==this._minSize){var a=this.getNumOption("minSize","bubble");this._minSize=a||this._MIN_SIZE}if(null==this._maxSize){var l=this.getNumOption("maxSize","bubble");this._maxSize=l||this._MAX_SIZE}var h=r._getItem(o);if(h){var c=r._getBinding(1);if(c){n=h[c];if(y._DataInfo.isValid(n)){var u=this._minValue==this._maxValue?1:Math.sqrt((n-this._minValue)/(this._maxValue-this._minValue));if(n=this._minSize+(this._maxSize-this._minSize)*u,this.chart.itemFormatter){var p=new y.HitTestInfo(this.chart,new v.Point(e,i),y.ChartElement.SeriesSymbol);p._setData(r,o),t.startGroup(),this.chart.itemFormatter(t,p,function(){s._drawDefaultSymbol(t,e,i,n,r.symbolMarker,r.symbolStyle)}),t.endGroup()}else this._drawDefaultSymbol(t,e,i,n,r.symbolMarker,r.symbolStyle);var d=this.hitTester._map[this.chart.series.indexOf(r)];if(null!=d)for(var _=d.length-1;0<=_;_--){var f=d[_];if(f.tag&&f.tag.pointIndex==o){var g=v.tryCast(f,y._CircleArea);g&&g.setRadius(.5*n)}}}}}},t}(y._LinePlotter);y._BubblePlotter=t}(v.chart||(v.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(B){!function(V){"use strict";var t=function(u){function t(){var t=null!==u&&u.apply(this,arguments)||this;return t.isCandle=!0,t.isArms=!1,t.isEqui=!1,t.isVolume=!1,t._volHelper=null,t._symWidth=.7,t}return __extends(t,u),t.prototype.clear=function(){u.prototype.clear.call(this),this._volHelper=null},t.prototype.load=function(){if(u.prototype.load.call(this),this.isVolume){var t,e,i,n,r,o,s,a,l=null,h=null;for(o=0;o<this.chart.series.length;o++){var c;if(r=(t=this.chart.series[o]).getDataType(1)||t.chart._xDataType,e=t._getAxisX(),n=(i=null===(i=t._getChartType())||B.isUndefined(i)?this.chart._getChartType():i)===V.ChartType.Column?t._getBindingValues(1):i===V.ChartType.Candlestick?t._getBindingValues(4):null,r===B.DataType.Date)for(s=[],a=[],o=0;o<t._getLength();o++)c=t._getItem(o)[t.bindingX].valueOf(),s.push(c),a.push({value:c,text:B.Globalize.format(new Date(c),e.format||"d")});else s=this.dataInfo.getXVals();if(l=this.dataInfo.getMinX(),h=this.dataInfo.getMaxX(),n&&0<n.length){this._volHelper=new V._VolumeHelper(n,s,l,h,r),e._customConvert=this._volHelper.convert.bind(this._volHelper),e._customConvertBack=this._volHelper.convertBack.bind(this._volHelper),a&&0<a.length&&(this._itemsSource=e.itemsSource=a);break}}}},t.prototype.unload=function(){var t;u.prototype.unload.call(this);for(var e=0;e<this.chart.series.length;e++)(t=this.chart.series[e]._getAxisX())&&(t._customConvert=null,t._customConvertBack=null,t.itemsSource&&t.itemsSource==this._itemsSource&&(this._itemsSource=t.itemsSource=null))},t.prototype.parseSymbolWidth=function(t){if(this._isPixel=void 0,t)if(B.isNumber(t)){var e=B.asNumber(t);isFinite(e)&&0<e&&(this._symWidth=e,this._isPixel=!0)}else if(B.isString(t)){var i=B.asString(t);if(i&&0<=i.indexOf("%")){i=i.replace("%","");var n=parseFloat(i);isFinite(n)&&(n<0?n=0:100<n&&(n=100),this._symWidth=n/100,this._isPixel=!1)}else{n=parseFloat(t);isFinite(n)&&0<n&&(this._symWidth=n,this._isPixel=!0)}}},t.prototype.adjustLimits=function(t,e){var i=(this.dataInfo=t).getMinX(),n=t.getMinY(),r=t.getMaxX(),o=t.getMaxY(),s=t.getDeltaX(),a=this.chart._xDataType;s<=0&&(s=1);var l=this.chart.series,h=l.length,c=0;this.parseSymbolWidth(this.symbolWidth),!this.isVolume||this.chart._getChartType()!==V.ChartType.Column&&this.chart._getChartType()!==V.ChartType.Candlestick?this.unload():this.load();for(var u=0;u<h;u++){var p=l[u];if(!p._isCustomAxisY()){var d=p._getBinding(1),_=p._getBinding(2),f=p._getBinding(3),g=p._getLength();if(g){var m=p._getSymbolSize();c<m&&(c=m);for(var y=0;y<g;y++){var v=p._getItem(y);if(v)[d?v[d]:null,_?v[_]:null,f?v[f]:null].forEach(function(t){V._DataInfo.isValid(t)&&null!==t&&((isNaN(n)||t<n)&&(n=t),(isNaN(o)||o<t)&&(o=t))})}}}}var b=r-i,w=this.chart._plotRect;if(w&&w.width&&!this.isVolume){isNaN(m)&&(m=p._getSymbolSize()),m+=2;var C=w.width/(w.width-m)*b;i-=.5*(C-b),b=C}return a!==B.DataType.Date||!this.isVolume||this.chart._getChartType()!==V.ChartType.Column&&this.chart._getChartType()!==V.ChartType.Candlestick?this.chart._isRotated()?new B.Rect(n,i,o-n,b):new B.Rect(i,n,b,o-n):new B.Rect(i-.5*s,n,r-i+s,o-n)},t.prototype.plotSeries=function(t,e,i,n,r,o,s,a){var l=this,h=B.asType(n,V.SeriesBase),c=this.chart.series.indexOf(n),u=n.getValues(0),p=n.getValues(1),d=this._symWidth,_=this.chart._isRotated();if(u){if(p||(p=this.dataInfo.getXVals()),p){var f=this.dataInfo.getDeltaX();0<f&&!1===this._isPixel&&(d*=f)}var g=u.length,m=!0;p?g=Math.min(g,p.length):(m=!1,p=new Array(g));var y=this._DEFAULT_WIDTH,v=h._getSymbolFill(c),b=h._getAltSymbolFill(c)||"transparent",w=h._getSymbolStroke(c),C=h._getAltSymbolStroke(c)||w,x=void 0===this._isPixel?h._getSymbolSize():d;t.stroke=w,t.strokeWidth=y,t.fill=v;for(var S,E,P=h._getBinding(1),T=h._getBinding(2),M=h._getBinding(3),A=_?i.actualMin:e.actualMin,R=_?i.actualMax:e.actualMax,D=0,I=null,O=null,L=0;L<g;L++)if(I=h._getItem(L)){var k=m?p[L]:L;if(V._DataInfo.isValid(k)&&A<=k&&k<=R){var j=u[L],N=P?I[P]:null,F=T?I[T]:null,z=M?I[M]:null;if(t.startGroup(),this.isEqui&&null!==O?O[M]!==I[M]&&(S=O[M]<I[M]?b:v,E=O[M]<I[M]?C:w):(S=F<z?b:v,E=F<z?C:w),t.fill=S,t.stroke=E,this.chart.itemFormatter){var H=new V.HitTestInfo(this.chart,new B.Point(e.convert(k),i.convert(j)),V.ChartElement.SeriesSymbol);H._setData(h,L),this.chart.itemFormatter(t,H,function(){l._drawSymbol(t,e,i,c,L,S,x,k,j,N,F,z)})}else this._drawSymbol(t,e,i,c,L,S,x,k,j,N,F,z);t.endGroup(),n._setPointIndex(L,D),D++}O=I}}},t.prototype._drawSymbol=function(t,e,i,n,r,o,s,a,l,h,c,u){var p,d=new V._DataPoint(n,r,a,l),_=null,f=null,g=null,m=null,y=this.chart._isRotated();if(y){var v=i;i=e,e=v}if(!1===this._isPixel&&(g=e.convert(a-.5*s),(m=e.convert(a+.5*s))<g)){var b=g;g=m,m=b}a=e.convert(a),!1!==this._isPixel&&(g=a-.5*s,m=a+.5*s),this.isCandle?(V._DataInfo.isValid(c)&&V._DataInfo.isValid(u)&&(c=i.convert(c),u=i.convert(u),f=(_=Math.min(c,u))+Math.abs(c-u),y?(t.drawRect(_,g,f-_||1,m-g||1),p=new V._RectArea(new B.Rect(_,g,f-_||1,m-g||1))):(t.drawRect(g,_,m-g||1,f-_||1),p=new V._RectArea(new B.Rect(g,_,m-g||1,f-_||1))),p.tag=d,this.hitTester.add(p,n)),V._DataInfo.isValid(l)&&(l=i.convert(l),null!==_&&(y?t.drawLine(f,a,l,a):t.drawLine(a,_,a,l))),V._DataInfo.isValid(h)&&(h=i.convert(h),null!==f&&(y?t.drawLine(_,a,h,a):t.drawLine(a,f,a,h)))):this.isEqui?V._DataInfo.isValid(l)&&V._DataInfo.isValid(h)&&(l=i.convert(l),h=i.convert(h),f=(_=Math.min(l,h))+Math.abs(l-h),t.drawRect(g,_,m-g||1,f-_||1),(p=new V._RectArea(new B.Rect(g,_,m-g||1,f-_||1))).tag=d,this.hitTester.add(p,n)):this.isArms?(V._DataInfo.isValid(c)&&V._DataInfo.isValid(u)&&(c=i.convert(c),u=i.convert(u),f=(_=Math.min(c,u))+Math.abs(c-u),t.drawRect(g,_,m-g||1,f-_||1)),V._DataInfo.isValid(l)&&null!==_&&(l=i.convert(l),t.drawLine(a,_,a,l)),V._DataInfo.isValid(h)&&null!==f&&(h=i.convert(h),t.drawLine(a,f,a,h)),V._DataInfo.isValid(l)&&V._DataInfo.isValid(h)&&(t.fill="transparent",f=(_=Math.min(l,h))+Math.abs(l-h),t.drawRect(g,_,m-g||1,f-_||1),(p=new V._RectArea(new B.Rect(g,_,m-g||1,f-_||1))).tag=d,this.hitTester.add(p,n))):(V._DataInfo.isValid(l)&&V._DataInfo.isValid(h)&&(l=i.convert(l),h=i.convert(h),f=(_=Math.min(l,h))+Math.abs(l-h),y?(t.drawLine(h,a,l,a),p=new V._RectArea(new B.Rect(_,g,f-_||1,m-g||1))):(t.drawLine(a,h,a,l),p=new V._RectArea(new B.Rect(g,_,m-g||1,f-_||1))),p.tag=d,this.hitTester.add(p,n)),V._DataInfo.isValid(c)&&(c=i.convert(c),y?t.drawLine(c,g,c,a):t.drawLine(g,c,a,c)),V._DataInfo.isValid(u)&&(u=i.convert(u),y?t.drawLine(u,a,u,m):t.drawLine(a,u,m,u)))},t}(V._BasePlotter);V._FinancePlotter=t}(B.chart||(B.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(q){!function(W){"use strict";var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stacking=W.Stacking.None,t}return __extends(t,e),t.prototype.adjustLimits=function(t,e){var i=(this.dataInfo=t).getMinX(),n=t.getMinY(),r=t.getMaxX(),o=t.getMaxY();return new q.Rect(i,n,r-i,o-n)},t.prototype.plotSeries=function(t,e,i,n,r,o,s,a){var l=this.chart.series.indexOf(n);if(!(0<l)){var h,c,u,p,d,_=q.asType(n,W.SeriesBase),f=this.chart.options,g=n.getValues(0),m=n.getValues(1),y=this.chart._plotRect,v=f&&f.funnel&&null!=f.funnel.neckWidth?f.funnel.neckWidth:.2,b=f&&f.funnel&&null!=f.funnel.neckHeight?f.funnel.neckHeight:0,w=v*y.width,C=0,x=0,S=0,E=0,P=y.left,T=y.top,M=y.width,A=y.height;if(g){this.rotated&&(T+=y.height),w=w||1,m||(m=this.dataInfo.getXVals());var R=g.length;for(null!=m&&(R=Math.min(R,m.length)),C=0;C<R;C++)x+=g[C];var D,I,O,L=0;if(f&&f.funnel&&"rectangle"===f.funnel.type)for(b=A/R,v=M,C=0;C<R;C++){var k=m?m[C]:C,j=g[C],N=_._getSymbolFill(C),F=_._getAltSymbolFill(C)||N,z=_._getSymbolStroke(C),H=_._getAltSymbolStroke(C)||z;if(this._getSymbolStyles)N=(G=this._getSymbolStyles(C,R))&&G.fill?G.fill:N,F=G&&G.fill?G.fill:F,z=G&&G.stroke?G.stroke:z,H=G&&G.stroke?G.stroke:H;if(D=0<j?N:F,I=0<j?z:H,t.fill=D,t.stroke=I,W._DataInfo.isValid(k)&&W._DataInfo.isValid(j)){O||(O=M/j);var V=O*j;P+=(v-V)/2,this.rotated&&(T-=b),t.drawRect(P,T,V,b),B=new U(new q.Point(P,T),V,b,V,b),this.rotated||(T+=b),v=V,B.tag=new W._DataPoint(l,C,k,j),this.hitTester.add(B,l),n._setPointIndex(C,L),L++}}else for(S=y.left+y.width*(1-v)/2,E=y.top+y.height*(this.rotated?b:1-b),c=(1-v)*y.width/2/(y.height*(1-b)),!isNaN(c)&&isFinite(c)||(M=w,P=S,T=E),h=y.width*v*y.height+y.width*(1-v)/2*y.height*(1-b),C=0;C<R;C++){k=m?m[C]:C,j=g[C];var B,G,Y=[],X=[];N=_._getSymbolFill(C),F=_._getAltSymbolFill(C)||N,z=_._getSymbolStroke(C),H=_._getAltSymbolStroke(C)||z;if(this._getSymbolStyles)N=(G=this._getSymbolStyles(C,R))&&G.fill?G.fill:N,F=G&&G.fill?G.fill:F,z=G&&G.stroke?G.stroke:z,H=G&&G.stroke?G.stroke:H;if(D=0<j?N:F,I=0<j?z:H,t.fill=D,t.stroke=I,W._DataInfo.isValid(k)&&W._DataInfo.isValid(j)){var K=h*j/x;w<M?(p=this._getTrapezoidOffsetY(M,K,c),this.rotated?E<T-p?(Y=[P,P+(u=c*p),P+M-u,P+M],X=[T,T-p,T-p,T],B=new U(new q.Point(P,T-p),M,p,M-2*u,0,!0),M-=2*u,P+=u,T-=p):(u=c*(p=T-E),d=(K-=this._getTrapezoidArea(M,c,p))/w,Y.push(P,P+u,P+u,P+u+w,P+u+w,P+M),X.push(T,T-p,T-p-d,T-p-d,T-p,T),B=new U(new q.Point(P,T-p-d),M,p+d,w,d,!0),M=w,P+=u,T=T-p-d):T+p<E?(Y=[P,P+(u=c*p),P+M-u,P+M],X=[T,T+p,T+p,T],B=new U(new q.Point(P,T),M,p,M-2*u,0),M-=2*u,P+=u,T+=p):(u=c*(p=E-T),d=(K-=this._getTrapezoidArea(M,c,p))/w,Y.push(P,P+u,P+u,P+u+w,P+u+w,P+M),X.push(T,T+p,T+p+d,T+p+d,T+p,T),B=new U(new q.Point(P,T),M,p+d,w,d),M=w,P+=u,T=T+p+d),t.drawPolygon(Y,X)):(d=K/w,this.rotated&&(T-=d),t.drawRect(P,T,M,d),B=new U(new q.Point(P,T),w,d,w,d),this.rotated||(T+=d)),B.tag=new W._DataPoint(l,C,k,j),this.hitTester.add(B,l),n._setPointIndex(C,L),L++}}}}},t.prototype._getTrapezoidArea=function(t,e,i){var n=i*e;return n*i+(t-2*n)*i},t.prototype._getTrapezoidOffsetY=function(t,e,i){var n=Math.pow(t/2/i,2)-e/i;return t/2/i-Math.sqrt(0<=n?n:0)},t.prototype.drawSymbol=function(t,e,i,n,r){var o=this;if(this.chart.itemFormatter){t.startGroup();var s=new W.HitTestInfo(this.chart,r,W.ChartElement.SeriesSymbol);s._setData(i,n),this.chart.itemFormatter(t,s,function(){o.drawDefaultSymbol(t,e,i)}),t.endGroup()}else this.drawDefaultSymbol(t,e,i)},t.prototype.drawDefaultSymbol=function(t,e,i){t.drawRect(e.left,e.top,e.width,e.height,null,i.symbolStyle)},t.prototype._getPointAndPosition=function(t,e,i,n){var r=i;t.x=r.center.x,t.y=r.center.y,e=null==e?W.LabelPosition.Center:e},t}(W._BasePlotter);W._FunnelPlotter=t;var U=function(){function t(t,e,i,n,r,o){void 0===o&&(o=!1),this._startPoint=t,this._width=e,this._height=i,this._neckWidth=n,this._neckHeight=r,this._center=new q.Point(this._startPoint.x+e/2,this._startPoint.y+i/2),this._offsetX=(e-n)/2,this._offsetY=i-r,this._rotated=o}return t.prototype.contains=function(t){var e=this._startPoint,i=this._offsetX,n=this._offsetY;if(this._rotated){if(t.x>=e.x&&t.x<=e.x+this._width&&t.y>=e.y&&t.y<=e.y+this._height){if(t.x>=e.x+i&&t.x<=e.x+this._width-i)return!0;if(t.y<e.y+this._neckHeight)return!1;if(t.x<this._center.x)return(e.y+this._height-t.y)/(t.x-e.x)<n/i;if(t.x>this._center.x)return(e.y+this._height-t.y)/(e.x+this._width-t.x)<n/i}}else if(t.x>=e.x&&t.x<=e.x+this._width&&t.y>=e.y&&t.y<=e.y+this._height){if(t.x>=e.x+i&&t.x<=e.x+this._width-i)return!0;if(t.y>e.y+n)return!1;if(t.x<this._center.x)return(t.y-e.y)/(t.x-e.x)<n/i;if(t.x>this._center.x)return(t.y-e.y)/(e.x+this._width-t.x)<n/i}return!1},t.prototype.distance=function(t){if(this.contains(t))return 0;var e=this._startPoint,i=this._width,n=this._height,r=this._offsetX,o=this._offsetY;if(this._rotated){if(t.y>e.y+n)return t.x<e.x?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y+n-t.y,2)):t.x>e.x+i?Math.sqrt(Math.pow(t.x-e.x-i,2)+Math.pow(e.y+n-t.y,2)):t.y-e.y-n;if(t.y<e.y)return t.x<e.x+r?Math.sqrt(Math.pow(e.x+r-t.x,2)+Math.pow(t.y-e.y-n,2)):t.x>e.x+i-r?Math.sqrt(Math.pow(t.x-e.x-i+r,2)+Math.pow(t.y-e.y-n,2)):e.y-t.y;if(!(t.y<e.y+n-o))return t.x<e.x+r?Math.min(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(t.y-e.y-n,2)),Math.sqrt(Math.pow(t.x-r/2-e.x,2)+Math.pow(t.y-n+o/2-e.y,2)),Math.sqrt(Math.pow(t.x-r-e.x,2)+Math.pow(t.y-n+o-e.y,2))):Math.min(Math.sqrt(Math.pow(t.x-i-e.x,2)+Math.pow(t.y-n-e.y,2)),Math.sqrt(Math.pow(t.x-i+r/2-e.x,2)+Math.pow(t.y-n+o/2-e.y,2)),Math.sqrt(Math.pow(t.x-i+r-e.x,2)+Math.pow(t.y-n+o-e.y,2)));if(t.x<e.x+r)return e.x+r-t.x;if(t.x>e.x+i-r)return t.x-e.x-i+r}else{if(t.y<e.y)return t.x<e.x?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):t.x>e.x+i?Math.sqrt(Math.pow(t.x-e.x-i,2)+Math.pow(e.y-t.y,2)):e.y-t.y;if(t.y>e.y+n)return t.x<e.x+r?Math.sqrt(Math.pow(e.x+r-t.x,2)+Math.pow(t.y-e.y-n,2)):t.x>e.x+i-r?Math.sqrt(Math.pow(t.x-e.x-i+r,2)+Math.pow(t.y-e.y-n,2)):t.y-e.y-n;if(!(t.y>e.y+o))return t.x<e.x+r?Math.min(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(t.y-e.y,2)),Math.sqrt(Math.pow(t.x-r/2-e.x,2)+Math.pow(t.y-o/2-e.y,2)),Math.sqrt(Math.pow(t.x-r-e.x,2)+Math.pow(t.y-o-e.y,2))):Math.min(Math.sqrt(Math.pow(t.x-i-e.x,2)+Math.pow(t.y-e.y,2)),Math.sqrt(Math.pow(t.x-i+r/2-e.x,2)+Math.pow(t.y-o/2-e.y,2)),Math.sqrt(Math.pow(t.x-i+r-e.x,2)+Math.pow(t.y-o-e.y,2)));if(t.x<e.x+r)return e.x+r-t.x;if(t.x>e.x+i-r)return t.x-e.x-i+r}},Object.defineProperty(t.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),t}();W._FunnelSegment=U}(q.chart||(q.chart={}))}(wijmo||(wijmo={})),function(l){!function(t){"use strict";var e=function(){function a(t,e,i,n,r){this._volumes=l.asArray(t),this._xVals=l.asArray(e),this._xDataMin=l.asNumber(i,!0,!1),this._xDataMax=l.asNumber(n,!0,!1),this._xDataType=l.asEnum(r,l.DataType,!0),this._calcData=[],this._init()}return a.prototype.convert=function(t,e,i){var n=void 0,r=this._calcData.length,o=-1;if(this._hasXs&&this._xDataType===l.DataType.Date){if(-1===(o=this._xVals.indexOf(t)))for(var s=0;s<this._xVals.length;s++){if(s<this._xVals.length-1&&this._xVals[s]<=t&&t<=this._xVals[s+1]){o=s;break}if(0===s&&t<=this._xVals[s]){o=s;break}if(s===this._xVals.length-1&&this._xVals[s]<=t){o=s;break}}-1===o&&(o=this._xVals.indexOf(Math.floor(t)),o=l.clamp(o,0,r-1))}else this._hasXs?-1===(o=this._xVals.indexOf(t))&&(o=this._xVals.indexOf(Math.floor(t)),o=l.clamp(o,0,r-1)):o=l.clamp(Math.round(t),0,r-1);return 0<=o&&o<r&&(this._hasXs&&(t=a.convertToRange(t,0,r-1,this._xDataMin,this._xDataMax)),n=((n=this._calcData[o].value+(t-o)*this._calcData[o].width-.5*this._calcData[o].width)-(e=this._getXVolume(e)))/((i=this._getXVolume(i))-e)),n},a.prototype.convertBack=function(t,e,i){var n,r=void 0,o=this._calcData.length,s=-1;for(n=0;n<o;n++)if(this._calcData[n].x1<=t&&t<=this._calcData[n].x2||0===n&&t<=this._calcData[n].x2||n===o-1&&this._calcData[n].x1<=t){s=n;break}return 0<=s&&s<o&&(r=t/this._calcData[s].width-this._calcData[s].value/this._calcData[s].width+.5+n,this._hasXs&&(r=a.convertToRange(r,this._xDataMin,this._xDataMax,0,o-1))),r},a.prototype._init=function(){this._hasXs=null!==this._xVals&&0<this._xVals.length,this._hasXs&&!l.isNumber(this._xDataMin)&&(this._xDataMin=Math.min.apply(null,this._xVals)),this._hasXs&&!l.isNumber(this._xDataMax)&&(this._xDataMax=Math.max.apply(null,this._xVals)),this._hasXs&&(this._hasXs=l.isNumber(this._xDataMin)&&l.isNumber(this._xDataMax)),this._hasXs&&this._xDataType===l.DataType.Date&&this._fillGaps();var t=0,e=0,i=null!==this._volumes&&0<this._volumes.length?this._volumes.length:0;for(e=0;e<i;e++)t+=this._volumes[e]||0;var n,r,o=0;for(e=0;e<i;e++)n=o+(r=(this._volumes[e]||0)/t),this._calcData.push({value:n,width:r,x1:o,x2:n}),o=this._calcData[e].value},a.prototype._getXVolume=function(t){var e=this._calcData.length,i=-1;if(this._hasXs){i=this._xVals.indexOf(t);for(var n=0;n<this._xVals.length;n++){if(n<this._xVals.length-1&&this._xVals[n]<=t&&t<=this._xVals[n+1]){i=n;break}if(0===n&&t<=this._xVals[n]){i=n;break}if(n===this._xVals.length-1&&this._xVals[n]<=t){i=n;break}}}return this._hasXs&&(t=a.convertToRange(t,0,e-1,this._xDataMin,this._xDataMax)),-1===i&&(i=l.clamp(Math.round(t),0,e-1)),this._calcData[i].value+(t-i)*this._calcData[i].width-.5*this._calcData[i].width},a.convertToRange=function(t,e,i,n,r){return e===i||n===r?0:(t-n)*(i-e)/(r-n)+e},a.prototype._fillGaps=function(){if(!(this._xDataType!==l.DataType.Date||null===this._xVals||this._xVals.length<=0)){var t,e=this._xDataMin,i=this._xDataMax;for(t=1;e<i;t++)(e=new Date(e)).setDate(e.getDate()+1),(e=e.valueOf())!==this._xVals[t]&&(this._xVals.splice(t,0,e),this._volumes.splice(t,0,0))}},a}();t._VolumeHelper=e}(l.chart||(l.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(h){!function(s){"use strict";var a,t;(t=a=s.ShowText||(s.ShowText={}))[t.None=0]="None",t[t.Value=1]="Value",t[t.MinMax=2]="MinMax",t[t.All=3]="All";var e=function(o){function l(t,e){var i=o.call(this,t,null,!0)||this;i._ranges=new h.collections.ObservableArray,i._rngElements=[],i._format="n0",i._showRanges=!0,i._stackRanges=!1,i._shadow=!0,i._animated=!0,i._readOnly=!0,i._step=1,i._showText=a.None,i._showTicks=!1,i._thickness=.8,i._initialized=!1,i.valueChanged=new h.Event,i._getPercent=function(t){var e=this.max>this.min?(t-this.min)/(this.max-this.min):0;return Math.max(0,Math.min(1,e))},l._ctr++;var n=i.hostElement;h.setAttribute(n,"role","slider",!0);var r=i.getTemplate();return i.applyTemplate("wj-control wj-gauge",r,{_dSvg:"dsvg",_svg:"svg",_filter:"filter",_gFace:"gface",_gRanges:"granges",_gPointer:"gpointer",_gCover:"gcover",_pFace:"pface",_pPointer:"ppointer",_cValue:"cvalue",_tValue:"value",_tMin:"min",_tMax:"max",_pTicks:"pticks"}),i._filterID="wj-gauge-filter-"+l._ctr.toString(36),i._filter.setAttribute("id",i._filterID),i.face=new s.Range,i.pointer=new s.Range,i._ranges.collectionChanged.addHandler(function(){for(var t=i._ranges,e=0;e<t.length;e++){if(!h.tryCast(t[e],s.Range))throw"ranges array must contain Range objects."}i._rangesDirty=!0,i.invalidate()}),i.addEventListener(n,"keydown",i._keydown.bind(i)),i.addEventListener(n,"click",function(t){0==t.button&&(i.focus(),i._applyMouseValue(t))}),i.addEventListener(n,"mousedown",function(t){0==t.button&&(i.focus(),i._dragging=!0,i._applyMouseValue(t))}),i.addEventListener(n,"mousemove",function(t){i._dragging&&i.containsFocus()&&i._applyMouseValue(t,!0)}),i.addEventListener(n,"mouseup",function(t){i._dragging=!1}),i.addEventListener(n,"mouseleave",function(t){t.target==n&&(i._dragging=!1)}),"ontouchstart"in window&&(i.addEventListener(n,"touchstart",function(t){i.focus(),!t.defaultPrevented&&i._applyMouseValue(t,!1)&&t.preventDefault()}),i.addEventListener(n,"touchmove",function(t){!t.defaultPrevented&&i._applyMouseValue(t,!0)&&t.preventDefault()})),i.addEventListener(n,"wheel",function(t){if(!t.defaultPrevented&&!i.isReadOnly&&i.containsFocus()&&null!=i.value&&i.hitTest(t)){var e=h.clamp(-t.deltaY,-1,1);i.value=h.clamp(i.value+(i.step||1)*e,i.min,i.max),t.preventDefault()}}),i.isReadOnly=!0,i.initialize(e),i.invalidate(),i}return __extends(l,o),Object.defineProperty(l.prototype,"value",{get:function(){return this._pointer.max},set:function(t){t!=this.value&&(this._pointer.max=h.asNumber(t,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"min",{get:function(){return this._face.min},set:function(t){t!=this.min&&(this._face.min=h.asNumber(t),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"max",{get:function(){return this._face.max},set:function(t){t!=this.max&&(this._face.max=h.asNumber(t),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"origin",{get:function(){return this._origin},set:function(t){t!=this._origin&&(this._origin=h.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=h.asBoolean(t),this._setAttribute(this._svg,"cursor",this._readOnly?null:"pointer"),h.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"step",{get:function(){return this._step},set:function(t){t!=this._step&&(this._step=h.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"format",{get:function(){return this._format},set:function(t){t!=this._format&&(this._format=h.asString(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"getText",{get:function(){return this._getText},set:function(t){t!=this._getText&&(this._getText=h.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"thickness",{get:function(){return this._thickness},set:function(t){t!=this._thickness&&(this._thickness=h.clamp(h.asNumber(t,!1),0,1),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"face",{get:function(){return this._face},set:function(t){t!=this._face&&(this._face&&this._face.propertyChanged.removeHandler(this._rangeChanged),this._face=h.asType(t,s.Range),this._face&&this._face.propertyChanged.addHandler(this._rangeChanged,this),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"pointer",{get:function(){return this._pointer},set:function(t){if(t!=this._pointer){var e=null;this._pointer&&(e=this.value,this._pointer.propertyChanged.removeHandler(this._rangeChanged)),this._pointer=h.asType(t,s.Range),this._pointer&&(e&&(this.value=e),this._pointer.propertyChanged.addHandler(this._rangeChanged,this)),this.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"showText",{get:function(){return this._showText},set:function(t){(t=h.asEnum(t,a))!=this._showText&&(this._showText=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"showTicks",{get:function(){return this._showTicks},set:function(t){t!=this._showTicks&&(this._showTicks=h.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"tickSpacing",{get:function(){return this._tickSpacing},set:function(t){t!=this._tickSpacing&&(this._tickSpacing=h.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"thumbSize",{get:function(){return this._thumbSize},set:function(t){t!=this._thumbSize&&(this._thumbSize=h.asNumber(t,!0,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"showRanges",{get:function(){return this._showRanges},set:function(t){t!=this._showRanges&&(this._showRanges=h.asBoolean(t),this._animColor=null,this._rangesDirty=!0,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"stackRanges",{get:function(){return this._stackRanges},set:function(t){t!=this._stackRanges&&(this._stackRanges=h.asBoolean(t),this._animColor=null,this._rangesDirty=!0,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"hasShadow",{get:function(){return this._shadow},set:function(t){t!=this._shadow&&(this._shadow=h.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isAnimated",{get:function(){return this._animated},set:function(t){this._animated=h.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"ranges",{get:function(){return this._ranges},enumerable:!0,configurable:!0}),l.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t)},l.prototype.refresh=function(t){if(void 0===t&&(t=!0),o.prototype.refresh.call(this,t),this._rangesDirty){this._rangesDirty=!1;for(var e=this._gRanges,i=0;i<this._rngElements.length;i++){this._rngElements[i].rng.propertyChanged.removeHandler(this._rangeChanged)}for(;e.lastChild;)e.removeChild(e.lastChild);if(this._rngElements=[],this._showRanges)for(i=0;i<this.ranges.length;i++){var n=this.ranges[i];n.propertyChanged.addHandler(this._rangeChanged,this),this._rngElements.push({rng:n,el:this._createElement("path",e)})}}this._showElement(this._tValue,0!=(this.showText&a.Value)),this._showElement(this._tMin,0!=(this.showText&a.MinMax)),this._showElement(this._tMax,0!=(this.showText&a.MinMax)),this._showElement(this._cValue,0!=(this.showText&a.Value)||0<this._thumbSize),this._updateText();var r=this._getFilterUrl();this._setAttribute(this._pFace,"filter",r),this._setAttribute(this._pPointer,"filter",r),this._updateRange(this._face),this._updateRange(this._pointer),this._updateTicks();for(i=0;i<this.ranges.length;i++)this._updateRange(this.ranges[i]);this._initialized=!0},l.prototype.hitTest=function(t,e){h.isNumber(t)&&h.isNumber(e)?t=new h.Point(t,e):t instanceof h.Point||(t=h.mouseToPage(t)),t=h.asType(t,h.Point);var i=h.Rect.fromBoundingRect(this._dSvg.getBoundingClientRect());return t.x-=i.left+pageXOffset,t.y-=i.top+pageYOffset,this._getValueFromPoint(t)},l._getBBox=function(t){try{return t.getBBox()}catch(t){return{x:0,y:0,width:0,height:0}}},l.prototype._getFilterUrl=function(){return this.hasShadow?"url(#"+this._filterID+")":null},l.prototype._getRangeElement=function(t){if(t==this._face)return this._pFace;if(t==this._pointer)return this._pPointer;for(var e=0;e<this._rngElements.length;e++){var i=this._rngElements[e];if(i.rng==t)return i.el}return null},l.prototype._rangeChanged=function(e,i){var n=this;if(e==this._pointer&&"max"==i.propertyName&&(this.onValueChanged(),this._updateText()),e!=this._face)if(e==this._pointer&&"max"==i.propertyName&&(this._animInterval&&clearInterval(this._animInterval),this.isAnimated&&!this.isUpdating&&this._initialized)){var t=this._getPointerColor(i.oldValue),r=this._getPointerColor(i.newValue),o=t?new h.Color(t):null,s=r?new h.Color(r):null,a=h.clamp(Math.abs(i.newValue-i.oldValue)/(this.max-this.min),0,1);this._animInterval=h.animate(function(t){n._animColor=o&&s?h.Color.interpolate(o,s,t).toString():null,n._updateRange(e,i.oldValue+t*(i.newValue-i.oldValue)),1<=t&&(n._animColor=null,n._animInterval=null,n._updateRange(e),n._updateText())},a*h.Control._ANIM_DEF_DURATION)}else this._updateRange(e);else this.invalidate()},l.prototype._createElement=function(t,e,i){var n=document.createElementNS(l._SVGNS,t);return i&&n.setAttribute("class",i),e.appendChild(n),n},l.prototype._centerText=function(t,e,i){if("none"!=t.getAttribute("display")){var n=h.Globalize.format(e,this.format);if(h.isFunction(this.getText)){var r=t==this._tValue?"value":t==this._tMin?"min":t==this._tMax?"max":null;h.assert(null!=r,"unknown element"),n=this.getText(this,r,e,n)}t.textContent=n;var o=h.Rect.fromBoundingRect(l._getBBox(t)),s=i.x-o.width/2,a=i.y+o.height/4;t.setAttribute("x",this._fix(s)),t.setAttribute("y",this._fix(a))}},l.prototype._copy=function(t,e){if("ranges"==t){for(var i=h.asArray(e),n=0;n<i.length;n++){var r=new s.Range;h.copy(r,i[n]),this.ranges.push(r)}return!0}return"pointer"==t&&(h.copy(this.pointer,e),!0)},l.prototype._showElement=function(t,e){this._setAttribute(t,"display",e?"":"none")},l.prototype._setAttribute=function(t,e,i){i?t.setAttribute(e,i):t.removeAttribute(e)},l.prototype._updateRange=function(t,e){void 0===e&&(e=t.max),t==this._pointer&&(t.min=null!=this.origin?this.origin:this.min<0&&0<this.max?0:this.min);var i=this._getRangeElement(t);if(i){this._updateRangeElement(i,t,e);var n=t.color;t==this._pointer&&(n=this._animColor?this._animColor:this._getPointerColor(t.max)),this._setAttribute(i,"style",n?"fill:"+n:null)}},l.prototype._getPointerColor=function(t){if(!this._showRanges){for(var e,i=0;i<this._ranges.length;i++){var n=this._ranges[i];if(t>=n.min&&t<=n.max){e=n;break}}if(e)return e.color}return this._pointer.color},l.prototype._keydown=function(t){if(!this._readOnly&&this._step){var e=!0;switch(this._getKey(t.keyCode)){case h.Key.Left:case h.Key.Down:this.value=h.clamp(this.value-this.step,this.min,this.max);break;case h.Key.Right:case h.Key.Up:this.value=h.clamp(this.value+this.step,this.min,this.max);break;case h.Key.Home:this.value=this.min;break;case h.Key.End:this.value=this.max;break;default:e=!1}e&&t.preventDefault()}},l.prototype._getKey=function(t){return t},l.prototype._applyMouseValue=function(t,e){if(!this.isReadOnly&&this.containsFocus()){var i=this.hitTest(t);if(null!=i){var n=this._animated;return e&&(this._animated=!1),null!=this._step&&(i=Math.round(i/this._step)*this._step),this.value=h.clamp(i,this.min,this.max),this._animated=n,!0}}return!1},l.prototype._updateRangeElement=function(t,e,i){h.assert(!1,"Gauge is an abstract class.")},l.prototype._updateText=function(){h.assert(!1,"Gauge is an abstract class.")},l.prototype._updateTicks=function(){h.assert(!1,"Gauge is an abstract class.")},l.prototype._getValueFromPoint=function(t){return null},l.prototype._fix=function(t){return h.isNumber(t)?parseFloat(t.toFixed(4)).toString():this._fix(t.x)+" "+this._fix(t.y)},l.prototype._updateAria=function(){var t=this.hostElement;t&&(h.setAttribute(t,"aria-valuemin",this.min),h.setAttribute(t,"aria-valuemax",this.max),h.setAttribute(t,"aria-valuenow",this.value))},l._SVGNS="http://www.w3.org/2000/svg",l._ctr=0,l.controlTemplate='<div wj-part="dsvg" style="width:100%;height:100%"><svg wj-part="svg" width="100%" height="100%" style="overflow:visible"><defs><filter wj-part="filter"><feOffset dx="3" dy="3"></feOffset><feGaussianBlur result="offset-blur" stdDeviation="5"></feGaussianBlur><feComposite operator="out" in="SourceGraphic" in2="offset-blur" result="inverse"></feComposite><feFlood flood-color="black" flood-opacity="0.2" result="color"></feFlood><feComposite operator="in" in="color" in2="inverse" result="shadow"></feComposite><feComposite operator="over" in="shadow" in2="SourceGraphic"></feComposite></filter></defs><g wj-part="gface" class="wj-face" style="cursor:inherit"><path wj-part="pface"/></g><g wj-part="granges" class="wj-ranges" style="cursor:inherit"/><g wj-part="gpointer" class="wj-pointer" style="cursor:inherit"><path wj-part="ppointer"/></g><g wj-part="gcover" class="wj-cover" style="cursor:inherit"><path wj-part="pticks" class="wj-ticks"/><circle wj-part="cvalue" class="wj-pointer wj-thumb"/><text wj-part="value" class="wj-value"/><text wj-part="min" class="wj-min" aria-hidden="true"/><text wj-part="max" class="wj-max" aria-hidden="true"/></g></svg></div>',l}(h.Control);s.Gauge=e}(h.gauge||(h.gauge={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(C){!function(l){"use strict";var t=function(r){function t(t,e){var i=r.call(this,t,null)||this;return i._startAngle=0,i._sweepAngle=180,i._autoScale=!0,C.addClass(i.hostElement,"wj-radialgauge"),i._thickness=.4,i.showText=l.ShowText.All,i.initialize(e),i}return __extends(t,r),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(t){t!=this._startAngle&&(this._startAngle=C.clamp(C.asNumber(t,!1),-360,360),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sweepAngle",{get:function(){return this._sweepAngle},set:function(t){t!=this._sweepAngle&&(this._sweepAngle=C.clamp(C.asNumber(t,!1),-360,360),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoScale",{get:function(){return this._autoScale},set:function(t){t!=this._autoScale&&(this._autoScale=C.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientSize",{get:function(){var t=this._rcSvg;return t?new C.Size(t.width,t.height):null},enumerable:!0,configurable:!0}),t.prototype.refresh=function(t){if(void 0===t&&(t=!0),this._setAttribute(this._svg,"viewBox",null),this._rcSvg=C.Rect.fromBoundingRect(this._dSvg.getBoundingClientRect()),r.prototype.refresh.call(this,t),this._ctmInv=null,this._ptSvg=null,this._autoScale){this._setAttribute(this._svg,"viewBox","");var e=C.Rect.fromBoundingRect(l.Gauge._getBBox(this._pFace));0!=(this.showText&l.ShowText.Value)&&(e=C.Rect.union(e,C.Rect.fromBoundingRect(l.Gauge._getBBox(this._tValue)))),0!=(this.showText&l.ShowText.MinMax)&&(e=C.Rect.union(e,C.Rect.fromBoundingRect(l.Gauge._getBBox(this._tMin))),e=C.Rect.union(e,C.Rect.fromBoundingRect(l.Gauge._getBBox(this._tMax))));var i=[this._fix(e.left),this._fix(e.top),this._fix(e.width),this._fix(e.height)].join(" ");this._setAttribute(this._svg,"viewBox",i);var n=this._pFace.getCTM();this._ctmInv=n?n.inverse():null,this._ptSvg=this._svg.createSVGPoint()}},t.prototype._updateRangeElement=function(t,e,i){if(this._rcSvg){var n=this._rcSvg,r=new C.Point(n.width/2,n.height/2),o=Math.min(n.width,n.height)/2,s=o*this.thickness,a=s*e.thickness,l=o-(s-a)/2,h=l-a,c=this.startAngle+180,u=this.sweepAngle,p=e==this._face,d=p?0:this._getPercent(e.min),_=c+u*d,f=u*((p?1:this._getPercent(i))-d);if(this.stackRanges&&e!=this.face&&e!=this.pointer){var g=this.ranges.indexOf(e);if(-1<g){var m=this.ranges.length,y=(l-h)/m;l=(h+=(m-1-g)*y)+y}}if(this._updateSegment(t,r,l,h,_,f),e==this._pointer&&0<this.thumbSize){var v=this._animColor?this._animColor:this._getPointerColor(e.max),b=this._getPoint(r,c+u*this._getPercent(i),(l+h)/2),w=this._cValue;this._setAttribute(w,"cx",this._fix(b.x)),this._setAttribute(w,"cy",this._fix(b.y)),this._setAttribute(w,"style",v?"fill:"+v:null),this._setAttribute(w,"r",this._fix(this.thumbSize/2))}}},t.prototype._updateText=function(){if(this._rcSvg){var t=this._rcSvg,e=new C.Point(t.width/2,t.height/2),i=Math.min(t.width,t.height)/2,n=Math.max(0,i*(1-this.thickness)),r=this.startAngle+180,o=this.sweepAngle;this._showElement(this._cValue,0<this.thumbSize);var s=0!=(this.showText&l.ShowText.MinMax)&&Math.abs(o)<=300;this._showElement(this._tMin,s),this._showElement(this._tMax,s),this._centerText(this._tValue,this.value,e);var a=10*(this.sweepAngle<0?-1:1);this._centerText(this._tMin,this.min,this._getPoint(e,r-a,(i+n)/2)),this._centerText(this._tMax,this.max,this._getPoint(e,r+o+a,(i+n)/2))}},t.prototype._updateTicks=function(){var t=this.tickSpacing&&0<this.tickSpacing?this.tickSpacing:this.step,e="";if(this.showTicks&&0<t)for(var i=this._rcSvg,n=new C.Point(i.width/2,i.height/2),r=Math.min(i.width,i.height)/2,o=r*this.thickness,s=o*this._face.thickness,a=r-(o-s)/2,l=a-s,h=this.min+t;h<this.max;h+=t){var c=this.startAngle+180+this.sweepAngle*this._getPercent(h);e+="M "+this._fix(this._getPoint(n,c,l))+" L "+this._fix(this._getPoint(n,c,a))+" "}this._pTicks.setAttribute("d",e)},t.prototype._updateSegment=function(t,e,i,n,r,o){o=Math.min(Math.max(o,-359.99),359.99);var s=this._getPoint(e,r,n),a=this._getPoint(e,r,i),l=this._getPoint(e,r+o,i),h=this._getPoint(e,r+o,n),c={large:180<Math.abs(o)?1:0,cw:0<o?1:0,ccw:0<o?0:1,or:this._fix(i),ir:this._fix(n),p1:this._fix(s),p2:this._fix(a),p3:this._fix(l),p4:this._fix(h)},u=C.format("M {p1} L {p2} A {or} {or} 0 {large} {cw} {p3} L {p4} A {ir} {ir} 0 {large} {ccw} {p1} Z",c);t.setAttribute("d",u)},t.prototype._getPoint=function(t,e,i){return e=e*Math.PI/180,new C.Point(t.x+i*Math.cos(e),t.y+i*Math.sin(e))},t.prototype._getValueFromPoint=function(t){if(this.autoScale&&this._ctmInv&&(this._ptSvg.x=t.x,this._ptSvg.y=t.y,this._ptSvg=this._ptSvg.matrixTransform(this._ctmInv),t.x=this._ptSvg.x,t.y=this._ptSvg.y),!this._rcSvg)return null;var e=this._rcSvg,i=new C.Point(e.width/2,e.height/2),n=Math.min(e.width,e.height)/2,r=n*(1-this.thickness),o=t.x-i.x,s=t.y-i.y,a=s*s+o*o;if(n*n+16<a||a<r*r-16)return null;var l=180*(Math.PI-Math.atan2(-s,o))/Math.PI,h=this.startAngle,c=this.sweepAngle;if(0<c){for(;l<h;)l+=360;for(;h+c<l;)l-=360}else{for(;l<h+c;)l+=360;for(;h<l;)l-=360}var u=Math.abs(l-h)/Math.abs(c);return this.min+u*(this.max-this.min)},t}(l.Gauge);l.RadialGauge=t}(C.gauge||(C.gauge={}))}(wijmo||(wijmo={})),function(r){!function(t){"use strict";var e=function(){function t(t){this._min=0,this._max=100,this._thickness=1,this.propertyChanged=new r.Event,r.isString(t)?this._name=t:t&&r.copy(this,t)}return Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(t){this._setProp("_min",r.asNumber(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(t){this._setProp("_max",r.asNumber(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){this._setProp("_color",r.asString(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thickness",{get:function(){return this._thickness},set:function(t){this._setProp("_thickness",r.clamp(r.asNumber(t),0,1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._setProp("_name",r.asString(t))},enumerable:!0,configurable:!0}),t.prototype.onPropertyChanged=function(t){this.propertyChanged.raise(this,t)},t.prototype._setProp=function(t,e){var i=this[t];if(e!=i){this[t]=e;var n=new r.PropertyChangedEventArgs(t.substr(1),i,e);this.onPropertyChanged(n)}},t._ctr=0,t}();t.Range=e}(r.gauge||(r.gauge={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(w){!function(g){"use strict";var b,t;w._addCultureInfo("FlexGrid",{groupHeaderFormat:"{name}: <b>{value}</b> ({count:n0} items)",ariaLabels:{toggleDropDown:"Toggle Dropdown",toggleGroup:"Toggle Group"}}),(t=b=g.HeadersVisibility||(g.HeadersVisibility={}))[t.None=0]="None",t[t.Column=1]="Column",t[t.Row=2]="Row",t[t.All=3]="All";var e=function(s){function f(t,e){var i=s.call(this,t,null,!0)||this;i._szClient=new w.Size(0,0),i._ptScrl=new w.Point(0,0),i._cellPadding=3,i._clipToScreen=!1,i._autoGenCols=!0,i._autoClipboard=!0,i._autoScroll=!0,i._autoSearch=!1,i._readOnly=!1,i._indent=14,i._autoSizeMode=g.AutoSizeMode.Both,i._hdrVis=b.All,i._alSorting=!0,i._alAddNew=!1,i._alDelete=!1,i._alResizing=g.AllowResizing.Columns,i._alDragging=g.AllowDragging.Columns,i._alMerging=g.AllowMerging.None,i._ssHdr=b.None,i._shSort=!0,i._shGroups=!0,i._shAlt=!0,i._shErr=!0,i._shDropDown=!0,i._valEdt=!0,i._deferResizing=!1,i._pSel=!0,i._pOutline=!0,i._vt=0,i._vtRows=0,i._vtCols=0,i.itemsSourceChanging=new w.Event,i.itemsSourceChanged=new w.Event,i.scrollPositionChanged=new w.Event,i.selectionChanging=new w.Event,i.selectionChanged=new w.Event,i.loadingRows=new w.Event,i.loadedRows=new w.Event,i.updatingLayout=new w.Event,i.updatedLayout=new w.Event,i.resizingColumn=new w.Event,i.resizedColumn=new w.Event,i.autoSizingColumn=new w.Event,i.autoSizedColumn=new w.Event,i.draggingColumn=new w.Event,i.draggingColumnOver=new w.Event,i.draggedColumn=new w.Event,i.resizingRow=new w.Event,i.resizedRow=new w.Event,i.autoSizingRow=new w.Event,i.autoSizedRow=new w.Event,i.draggingRow=new w.Event,i.draggingRowOver=new w.Event,i.draggedRow=new w.Event,i.groupCollapsedChanging=new w.Event,i.groupCollapsedChanged=new w.Event,i.sortingColumn=new w.Event,i.sortedColumn=new w.Event,i.beginningEdit=new w.Event,i.prepareCellForEdit=new w.Event,i.cellEditEnding=new w.Event,i.cellEditEnded=new w.Event,i.rowEditStarting=new w.Event,i.rowEditStarted=new w.Event,i.rowEditEnding=new w.Event,i.rowEditEnded=new w.Event,i.rowAdded=new w.Event,i.deletingRow=new w.Event,i.deletedRow=new w.Event,i.copying=new w.Event,i.copied=new w.Event,i.pasting=new w.Event,i.pasted=new w.Event,i.pastingCell=new w.Event,i.pastedCell=new w.Event,i.formatItem=new w.Event,i.updatingView=new w.Event,i.updatedView=new w.Event,i._mappedColumns=null;var n=i.hostElement;w.isIE()&&(n.style.borderRadius="0");var r=i.getTemplate();i.applyTemplate("wj-control wj-content wj-flexgrid",r,{_root:"root",_eSz:"sz",_eCt:"cells",_fCt:"fcells",_eTL:"tl",_eBL:"bl",_eCHdr:"ch",_eRHdr:"rh",_eCFtr:"cf",_eTLCt:"tlcells",_eBLCt:"blcells",_eCHdrCt:"chcells",_eCFtrCt:"cfcells",_eRHdrCt:"rhcells",_eMarquee:"marquee",_eFocus:"focus"});var o="aria-hidden";return[i._eRHdr,i._eCFtr,i._eCHdr,i._eBL,i._eTL].forEach(function(t){w.setAttribute(t,o,!0),w.setCss(t,{position:"absolute",overflow:"hidden",outline:"none"}),w.setCss(t.firstElementChild,{position:"relative"})}),[i._eFocus,i._eMarquee,i._fCt,i._eSz].forEach(function(t){w.setAttribute(t,o,!0)}),n.tabIndex=-1,i.deferUpdate(function(){var t=i._getDefaultRowHeight();i._rows=new g.RowCollection(i,t),i._cols=new g.ColumnCollection(i,4*t),i._hdrRows=new g.RowCollection(i,t),i._hdrCols=new g.ColumnCollection(i,Math.round(1.25*t)),i._ftrRows=new g.RowCollection(i,t),i._gpTL=new g.GridPanel(i,g.CellType.TopLeft,i._hdrRows,i._hdrCols,i._eTLCt),i._gpCHdr=new g.GridPanel(i,g.CellType.ColumnHeader,i._hdrRows,i._cols,i._eCHdrCt),i._gpRHdr=new g.GridPanel(i,g.CellType.RowHeader,i._rows,i._hdrCols,i._eRHdrCt),i._gpCells=new g.GridPanel(i,g.CellType.Cell,i._rows,i._cols,i._eCt),i._gpBL=new g.GridPanel(i,g.CellType.BottomLeft,i._ftrRows,i._hdrCols,i._eBLCt),i._gpCFtr=new g.GridPanel(i,g.CellType.ColumnFooter,i._ftrRows,i._cols,i._eCFtrCt),i._hdrRows.push(new g.Row),i._hdrCols.push(new g.Column({align:"center"})),i._cf=new g.CellFactory,i._keyHdl=new g._KeyboardHandler(i),i._mouseHdl=new g._MouseHandler(i),i._edtHdl=new g._EditHandler(i),i._selHdl=new g._SelectionHandler(i),i._addHdl=new g._AddNewHandler(i),i._mrgMgr=new g.MergeManager(i),i._bndSortConverter=i._sortConverter.bind(i),w.setAttribute(i.cells.hostElement,"role","grid"),i.selectionMode=g.SelectionMode.CellRange,i.initialize(e)}),i.addEventListener(i._root,"scroll",function(t){i._updateScrollPosition()&&(i.finishEditing(),i._updateContent(!0))}),i.addEventListener(n,"focus",function(t){if(-1<n.tabIndex){var e=t.target;if(e instanceof HTMLElement&&e.tabIndex<0)return void i._setFocus(!0)}},!0),i}return __extends(f,s),f.prototype._handleResize=function(){this._rcBounds=null,s.prototype._handleResize.call(this)},Object.defineProperty(f.prototype,"headersVisibility",{get:function(){return this._hdrVis},set:function(t){(t=w.asEnum(t,b))!=this._hdrVis&&(this._hdrVis=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"stickyHeaders",{get:function(){return this._stickyHdr},set:function(t){t!=this._stickyHdr&&(this._stickyHdr=w.asBoolean(t),this._updateStickyHeaders(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"preserveSelectedState",{get:function(){return this._pSel},set:function(t){this._pSel=w.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"preserveOutlineState",{get:function(){return this._pOutline},set:function(t){this._pOutline=w.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"virtualizationThreshold",{get:function(){return this._vt},set:function(t){this._vt=t,w.isNumber(t)?this._vtRows=this._vtCols=w.asNumber(t):t?w.isArray(t)&&2==t.length?(this._vtRows=w.asNumber(t[0]),this._vtCols=w.asNumber(t[1])):w.assert(!1,"virtualizationThreshold should be a number or an array with two numbers."):this._vtRows=this._vtCols=0},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"autoGenerateColumns",{get:function(){return this._autoGenCols},set:function(t){this._autoGenCols=w.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"autoClipboard",{get:function(){return this._autoClipboard},set:function(t){this._autoClipboard=w.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"autoScroll",{get:function(){return this._autoScroll},set:function(t){this._autoScroll=w.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"autoSearch",{get:function(){return this._autoSearch},set:function(t){this._autoSearch=w.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"columnLayout",{get:function(){for(var t=f._getSerializableProperties(g.Column),e=new g.Column,i=[],n=0;n<this.columns.length;n++){for(var r=this.columns[n],o={},s=0;s<t.length;s++){var a=t[s],l=r[a];l!=e[a]&&w.isPrimitive(l)&&"size"!=a&&(o[a]=l)}i.push(o)}return JSON.stringify({columns:i})},set:function(t){var e=JSON.parse(w.asString(t));if(!e||null==e.columns)throw"Invalid columnLayout data.";this.columns.clear(),this.initialize(e)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){t!=this._readOnly&&(this._readOnly=w.asBoolean(t),this.finishEditing(),this.invalidate(!0),this._addHdl.updateNewRowTemplate(),w.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly),this._setAria("readonly",this.isReadOnly?"true":null))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"imeEnabled",{get:function(){return null!=this._imeHdl},set:function(t){w.asBoolean(t)!=this.imeEnabled&&this.finishEditing()&&(this._imeHdl&&(this._imeHdl.dispose(),this._imeHdl=null),t&&(this._imeHdl=new g._ImeHandler(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"allowResizing",{get:function(){return this._alResizing},set:function(t){this._alResizing=w.asEnum(t,g.AllowResizing)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"deferResizing",{get:function(){return this._deferResizing},set:function(t){this._deferResizing=w.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"autoSizeMode",{get:function(){return this._autoSizeMode},set:function(t){this._autoSizeMode=w.asEnum(t,g.AutoSizeMode)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(t){this._quickSize=w.asBoolean(t,!0)},enumerable:!0,configurable:!0}),f.prototype._getQuickAutoSize=function(){return w.isBoolean(this._quickSize)?this._quickSize:!this.formatItem.hasHandlers&&null==this.itemFormatter},Object.defineProperty(f.prototype,"allowSorting",{get:function(){return this._alSorting},set:function(t){this._alSorting=w.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"allowAddNew",{get:function(){return this._alAddNew},set:function(t){t!=this._alAddNew&&(this._alAddNew=w.asBoolean(t),this._addHdl.updateNewRowTemplate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"newRowAtTop",{get:function(){return this._addHdl.newRowAtTop},set:function(t){this._addHdl.newRowAtTop=w.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"allowDelete",{get:function(){return this._alDelete},set:function(t){t!=this._alDelete&&(this._alDelete=w.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"allowMerging",{get:function(){return this._alMerging},set:function(t){(t=w.asEnum(t,g.AllowMerging))!=this._alMerging&&(this._alMerging=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"showSelectedHeaders",{get:function(){return this._ssHdr},set:function(t){(t=w.asEnum(t,b))!=this._ssHdr&&(this._ssHdr=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"showMarquee",{get:function(){return!this._eMarquee.style.display},set:function(t){if(t!=this.showMarquee){var e=this._eMarquee.style;e.visibility="collapse",e.display=w.asBoolean(t)?"":"none",this.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"showSort",{get:function(){return this._shSort},set:function(t){t!=this._shSort&&(this._shSort=w.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"showGroups",{get:function(){return this._shGroups},set:function(t){t!=this._shGroups&&(this._shGroups=w.asBoolean(t),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"showAlternatingRows",{get:function(){return this._shAlt},set:function(t){t!=this._shAlt&&(this._shAlt=w.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"showErrors",{get:function(){return this._shErr},set:function(t){t!=this._shErr&&(this._clearCells(),this._shErr=w.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(t){t!=this.itemValidator&&(this._itemValidator=w.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"validateEdits",{get:function(){return this._valEdt},set:function(t){this._valEdt=w.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"groupHeaderFormat",{get:function(){return this._gHdrFmt},set:function(t){t!=this._gHdrFmt&&(this._gHdrFmt=w.asString(t),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"allowDragging",{get:function(){return this._alDragging},set:function(t){(t=w.asEnum(t,g.AllowDragging))!=this._alDragging&&(this._alDragging=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"itemsSource",{get:function(){return this._items},set:function(t){if(t!=this._items){var e=new w.CancelEventArgs;if(this.onItemsSourceChanging(e)){var i;if(this._cv)(i=w.tryCast(this._cv,w.collections.CollectionView))&&i.sortConverter==this._bndSortConverter&&(i.sortConverter=null),this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null;if(this._items=t,this._cv=this._getCollectionView(t),this._lastCount=0,this._cv)this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this),(i=w.tryCast(this._cv,w.collections.CollectionView))&&!i.sortConverter&&(i.sortConverter=this._bndSortConverter);this._bindGrid(!0);var n=g.SelectionMode;this.selectionMode==n.ListBox&&(this.selectionMode=n.CellRange,this.selectionMode=n.ListBox),this.onItemsSourceChanged(e)}}},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"editableCollectionView",{get:function(){return w.tryCast(this._cv,"IEditableCollectionView")},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"childItemsPath",{get:function(){return this._childItemsPath},set:function(t){t!=this._childItemsPath&&(w.assert(null==t||w.isArray(t)||w.isString(t),"childItemsPath should be an array or a string."),this._childItemsPath=t,this._bindGrid(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"rowHeaderPath",{get:function(){return this._rowHdrPath?this._rowHdrPath.path:null},set:function(t){t!=this.rowHeaderPath&&(t=w.asString(t),this._rowHdrPath=t?new w.Binding(t):null,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"cells",{get:function(){return this._gpCells},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"columnHeaders",{get:function(){return this._gpCHdr},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"columnFooters",{get:function(){return this._gpCFtr},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"rowHeaders",{get:function(){return this._gpRHdr},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"topLeftCells",{get:function(){return this._gpTL},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"bottomLeftCells",{get:function(){return this._gpBL},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),f.prototype.getColumn=function(t){return this.columns.getColumn(t)},Object.defineProperty(f.prototype,"frozenRows",{get:function(){return this.rows.frozen},set:function(t){this.rows.frozen=t},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"frozenColumns",{get:function(){return this.columns.frozen},set:function(t){this.columns.frozen=t},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"cloneFrozenCells",{get:function(){return this._fzClone},set:function(t){t!=this.cloneFrozenCells&&(this._fzClone=w.asBoolean(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"sortRowIndex",{get:function(){return this._sortRowIndex},set:function(t){t!=this._sortRowIndex&&(this._sortRowIndex=w.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"scrollPosition",{get:function(){return this._ptScrl.clone()},set:function(t){var e=this._root,i=-t.x;if(this.rightToLeft)switch(f._getRtlMode()){case"rev":i=e.scrollWidth-e.clientWidth+t.x;break;case"neg":i=t.x;break;default:i=-t.x}e.scrollLeft=i,e.scrollTop=-t.y},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"clientSize",{get:function(){return this._szClient},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"controlRect",{get:function(){return this._rcBounds||(this._rcBounds=w.getElementRect(this._root)),this._rcBounds},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"scrollSize",{get:function(){return new w.Size(this._gpCells.width,this._heightBrowser)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"viewRange",{get:function(){return this._gpCells.viewRange},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"cellFactory",{get:function(){return this._cf},set:function(t){t!=this._cf&&(this._clearCells(),this._cf=w.asType(t,g.CellFactory,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._clearCells(),this._itemFormatter=w.asFunction(t))},enumerable:!0,configurable:!0}),f.prototype.canEditCell=function(t,e){return this._edtHdl._allowEditing(t,e)},f.prototype.getCellData=function(t,e,i){return this.cells.getCellData(t,e,i)},f.prototype.getCellBoundingRect=function(t,e,i){return this.cells.getCellBoundingRect(t,e,i)},f.prototype.setCellData=function(t,e,i,n,r){return void 0===n&&(n=!0),void 0===r&&(r=!0),this.cells.setCellData(t,e,i,n,r)},f.prototype.hitTest=function(t,e){return w.isNumber(t)&&w.isNumber(e)&&(t=new w.Point(t,e)),w.isBoolean(e)&&e&&(this._rcBounds=null),new g.HitTestInfo(this,t)},f.prototype.getClipString=function(t){return this._edtHdl.getClipString(t)},f.prototype.setClipString=function(t,e){this._edtHdl.setClipString(t,e)},f.prototype.focus=function(){this._setFocus(!1)},f.prototype.dispose=function(){this.finishEditing(!0),this.itemsSource=null,s.prototype.dispose.call(this)},f.prototype.refresh=function(t){void 0===t&&(t=!0),s.prototype.refresh.call(this,t),this.finishEditing(),t&&(this._updateColumnTypes(),this.scrollPosition=this._ptScrl),this.refreshCells(t)},f.prototype.refreshCells=function(t,e,i){this.isUpdating||(t?this._updateLayout():this._updateContent(e,i))},f.prototype.autoSizeColumn=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=4),this.autoSizeColumns(t,t,e,i)},f.prototype.autoSizeColumns=function(s,a,t,l){var h=this;void 0===t&&(t=!1),void 0===l&&(l=4);var c=0,u=t?this.topLeftCells:this.columnHeaders,p=t?this.bottomLeftCells:this.columnFooters,d=t?this.rowHeaders:this.cells,_=this.viewRange;s=null==s?0:w.asInt(s),a=null==a?d.columns.length-1:w.asInt(a),_.row=Math.max(0,_.row-1e3),_.row2=Math.min(_.row2+1e3,this.rows.length-1),this.finishEditing()&&this.columns.deferUpdate(function(){w.setCss(h._eCt,{width:h._gpCells.width});var t=document.createElement("div");t.setAttribute(f._WJS_MEASURE,"true"),t.style.visibility="hidden",d.hostElement.parentElement.appendChild(t);for(var e=h._getCanvasContext(),i=s;i<=a&&-1<i&&i<d.columns.length;i++){var n=d.columns[i];if(n.isVisible){if(c=0,h.autoSizeMode&g.AutoSizeMode.Headers){for(var r=0;r<u.rows.length;r++)if(u.rows[r].isVisible){var o=h._getDesiredWidth(u,r,i,t);c=Math.max(c,o)}for(r=0;r<p.rows.length;r++)if(p.rows[r].isVisible){o=h._getDesiredWidth(p,r,i,t);c=Math.max(c,o)}}if(h.autoSizeMode&g.AutoSizeMode.Cells&&_.isValid)if(n._getQuickAutoSize()){r=h._getWidestRow(d,_,i,e),o=h._getDesiredWidth(d,r,i,t);c=Math.max(c,o)}else for(r=_.row;r<=_.row2&&r<d.rows.length;r++)if(d.rows[r].isVisible){o=h._getDesiredWidth(d,r,i,t);c=Math.max(c,o)}0<c&&(n.width=c+l+2)}}h.cellFactory.disposeCell(t),w.removeChild(t)})},f.prototype.autoSizeRow=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=0),this.autoSizeRows(t,t,e,i)},f.prototype.autoSizeRows=function(n,r,t,o){var s=this;void 0===t&&(t=!1),void 0===o&&(o=0);var a=0,l=t?this.topLeftCells:this.rowHeaders,h=t?this.columnHeaders:this.cells;t=w.asBoolean(t),o=w.asNumber(o),n=null==n?0:w.asInt(n),r=null==r?h.rows.length-1:w.asInt(r),this.finishEditing()&&this.rows.deferUpdate(function(){w.setCss(s._eCt,{width:s._gpCells.width});var t=document.createElement("div");t.setAttribute(f._WJS_MEASURE,"true"),t.style.visibility="hidden",h.hostElement.appendChild(t);for(var e={},i=n;i<=r&&-1<i&&i<h.rows.length;i++){h.rows[i].isVisible&&(a=0,s.autoSizeMode&g.AutoSizeMode.Headers&&(a=s._getDesiredRowHeight(l,i,t,e)),s.autoSizeMode&g.AutoSizeMode.Cells&&(a=Math.max(a,s._getDesiredRowHeight(h,i,t,e))),a+=o,h.rows[i].height=a>h.rows.defaultSize?a:null)}s.cellFactory.disposeCell(t),w.removeChild(t)})},Object.defineProperty(f.prototype,"treeIndent",{get:function(){return this._indent},set:function(t){t!=this._indent&&(this._indent=w.asNumber(t,!1,!0),this.columns.onCollectionChanged())},enumerable:!0,configurable:!0}),f.prototype.collapseGroupsToLevel=function(n){var t=this;this.finishEditing()&&this.deferUpdate(function(){var i=t.rows;i.deferUpdate(function(){for(var t=0;t<i.length;t++){var e=i[t];e instanceof g.GroupRow&&(e.isCollapsed=e.level>=n)}})})},Object.defineProperty(f.prototype,"selectionMode",{get:function(){return this._selHdl.selectionMode},set:function(t){(t=w.asEnum(t,g.SelectionMode))!=this.selectionMode&&(this._clearCells(),this._selHdl.selectionMode=t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"selection",{get:function(){return this._selHdl.selection.clone()},set:function(t){this._selHdl.selection=t},enumerable:!0,configurable:!0}),f.prototype.select=function(t,e){void 0===e&&(e=!0),this._selHdl.select(t,e)},f.prototype.getSelectedState=function(t,e){return this.cells.getSelectedState(t,e,null)},Object.defineProperty(f.prototype,"selectedRows",{get:function(){var t=[];if(this.selectionMode==g.SelectionMode.ListBox)for(var e=0;e<this.rows.length;e++)this.rows[e].isSelected&&t.push(this.rows[e]);else if(this.rows.length){var i=this.selection;for(e=i.topRow;-1<e&&e<=i.bottomRow;e++)t.push(this.rows[e])}return t},set:function(r){var o=this;w.assert(this.selectionMode==g.SelectionMode.ListBox,"This property can be set only in ListBox mode."),r=w.asArray(r),this.deferUpdate(function(){for(var t=0,e=!0;t<o.rows.length;t++){var i=o.rows[t],n=r&&-1<r.indexOf(i);n&&e&&(e=!1,o.select(t,o.selection.col)),i.isSelected=n}})},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"selectedItems",{get:function(){for(var t=this.selectedRows,e=0;e<t.length;e++)t[e]=t[e].dataItem;return t},set:function(r){var o=this;w.assert(this.selectionMode==g.SelectionMode.ListBox,"This property can be set only in ListBox mode."),r=w.asArray(r),this.deferUpdate(function(){for(var t=0,e=!0;t<o.rows.length;t++){var i=o.rows[t],n=r&&-1<r.indexOf(i.dataItem);n&&e&&(e=!1,o.select(t,o.selection.col)),i.isSelected=n}})},enumerable:!0,configurable:!0}),f.prototype.scrollIntoView=function(t,e,i){null==this._maxOffsetY&&this._updateLayout();var n=this.scrollPosition,r=this._szClient.width,o=this._szClient.height-this._gpCFtr.rows.getTotalSize(),s=this.cells._getFrozenPos();if(-1<(t=w.asInt(t))&&t<this._rows.length&&t>=this._rows.frozen){var a=this._rows[t],l=this.cells.height>o?Math.round(a.pos/(this.cells.height-o)*100)/100:0,h=Math.round(this._maxOffsetY*l),c=a.pos-h,u=c+a.renderSize-1;u>o-n.y&&(n.y=Math.max(-c,o-u)),c-s.y<-n.y&&(n.y=-(c-s.y))}if(-1<(e=w.asInt(e))&&e<this._cols.length&&e>=this._cols.frozen){var p=this._cols[e],d=p.pos+p.renderSize-1;d>-n.x+r&&(n.x=Math.max(-p.pos,r-d)),p.pos-s.x<-n.x&&(n.x=-(p.pos-s.x))}return!n.equals(this._ptScrl)&&(this.scrollPosition=n,i&&(this._updateScrollPosition(),this.refresh()),!0)},f.prototype.isRangeValid=function(t){return t.isValid&&t.bottomRow<this.rows.length&&t.rightCol<this.columns.length},f.prototype.startEditing=function(t,e,i,n){return void 0===t&&(t=!0),this._edtHdl.startEditing(t,e,i,n)},f.prototype.finishEditing=function(t){return this._edtHdl.finishEditing(t)},Object.defineProperty(f.prototype,"activeEditor",{get:function(){return this._edtHdl.activeEditor},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"editRange",{get:function(){return this._edtHdl.editRange},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"mergeManager",{get:function(){return this._mrgMgr},set:function(t){t!=this._mrgMgr&&(this._mrgMgr=w.asType(t,g.MergeManager,!0),this.invalidate())},enumerable:!0,configurable:!0}),f.prototype.getMergedRange=function(t,e,i,n){return void 0===n&&(n=!0),this._mrgMgr?this._mrgMgr.getMergedRange(t,e,i,n):null},Object.defineProperty(f.prototype,"keyActionTab",{get:function(){return this._keyHdl._kaTab},set:function(t){this._keyHdl._kaTab=w.asEnum(t,g.KeyAction)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"keyActionEnter",{get:function(){return this._keyHdl._kaEnter},set:function(t){this._keyHdl._kaEnter=w.asEnum(t,g.KeyAction)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"showDropDown",{get:function(){return this._shDropDown},set:function(t){t!=this._shDropDown&&(this._shDropDown=w.asBoolean(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),f.prototype.toggleDropDownList=function(){this._tglDropDown||(this._tglDropDown=!0,this._edtHdl._toggleListBox(null),this._tglDropDown=!1)},f.prototype.onItemsSourceChanging=function(t){return this.itemsSourceChanging.raise(this,t),!t.cancel},f.prototype.onItemsSourceChanged=function(t){this.itemsSourceChanged.raise(this,t)},f.prototype.onScrollPositionChanged=function(t){this.scrollPositionChanged.raise(this,t)},f.prototype.onSelectionChanging=function(t){return this.selectionChanging.raise(this,t),!t.cancel},f.prototype.onSelectionChanged=function(t){this.selectionChanged.raise(this,t)},f.prototype.onLoadingRows=function(t){return this.loadingRows.raise(this,t),!t.cancel},f.prototype.onLoadedRows=function(t){this.loadedRows.raise(this,t)},f.prototype.onUpdatingLayout=function(t){return this.updatingLayout.raise(this,t),!t.cancel},f.prototype.onUpdatedLayout=function(t){this.updatedLayout.raise(this,t)},f.prototype.onResizingColumn=function(t){return this.resizingColumn.raise(this,t),!t.cancel},f.prototype.onResizedColumn=function(t){this.resizedColumn.raise(this,t)},f.prototype.onAutoSizingColumn=function(t){return this.autoSizingColumn.raise(this,t),!t.cancel},f.prototype.onAutoSizedColumn=function(t){this.autoSizedColumn.raise(this,t)},f.prototype.onDraggingColumn=function(t){return this.draggingColumn.raise(this,t),!t.cancel},f.prototype.onDraggingColumnOver=function(t){return this.draggingColumnOver.raise(this,t),!t.cancel},f.prototype.onDraggedColumn=function(t){this.draggedColumn.raise(this,t)},f.prototype.onResizingRow=function(t){return this.resizingRow.raise(this,t),!t.cancel},f.prototype.onResizedRow=function(t){this.resizedRow.raise(this,t)},f.prototype.onAutoSizingRow=function(t){return this.autoSizingRow.raise(this,t),!t.cancel},f.prototype.onAutoSizedRow=function(t){this.autoSizedRow.raise(this,t)},f.prototype.onDraggingRow=function(t){return this.draggingRow.raise(this,t),!t.cancel},f.prototype.onDraggingRowOver=function(t){return this.draggingRowOver.raise(this,t),!t.cancel},f.prototype.onDraggedRow=function(t){this.draggedRow.raise(this,t)},f.prototype.onGroupCollapsedChanging=function(t){return this.groupCollapsedChanging.raise(this,t),!t.cancel},f.prototype.onGroupCollapsedChanged=function(t){this.groupCollapsedChanged.raise(this,t)},f.prototype.onSortingColumn=function(t){return this.sortingColumn.raise(this,t),!t.cancel},f.prototype.onSortedColumn=function(t){this.sortedColumn.raise(this,t)},f.prototype.onBeginningEdit=function(t){return this.beginningEdit.raise(this,t),!t.cancel},f.prototype.onPrepareCellForEdit=function(t){this.prepareCellForEdit.raise(this,t)},f.prototype.onCellEditEnding=function(t){return this.cellEditEnding.raise(this,t),!t.cancel&&!t.stayInEditMode},f.prototype.onCellEditEnded=function(t){this.cellEditEnded.raise(this,t)},f.prototype.onRowEditStarting=function(t){this.rowEditStarting.raise(this,t)},f.prototype.onRowEditStarted=function(t){this.rowEditStarted.raise(this,t)},f.prototype.onRowEditEnding=function(t){this.rowEditEnding.raise(this,t)},f.prototype.onRowEditEnded=function(t){this.rowEditEnded.raise(this,t)},f.prototype.onRowAdded=function(t){return this.rowAdded.raise(this,t),!t.cancel},f.prototype.onDeletingRow=function(t){return this.deletingRow.raise(this,t),!t.cancel},f.prototype.onDeletedRow=function(t){this.deletedRow.raise(this,t)},f.prototype.onCopying=function(t){return this.copying.raise(this,t),!t.cancel},f.prototype.onCopied=function(t){this.copied.raise(this,t)},f.prototype.onPasting=function(t){return this.pasting.raise(this,t),!t.cancel},f.prototype.onPasted=function(t){this.pasted.raise(this,t)},f.prototype.onPastingCell=function(t){return this.pastingCell.raise(this,t),!t.cancel},f.prototype.onPastedCell=function(t){this.pastedCell.raise(this,t)},f.prototype.onFormatItem=function(t){this.formatItem.raise(this,t)},f.prototype.onUpdatingView=function(t){return this.updatingView.raise(this,t),!t.cancel},f.prototype.onUpdatedView=function(t){this.updatedView.raise(this,t)},f.prototype._getShowErrors=function(){return this.showErrors&&this._hasValidation},f.prototype._getHasValidation=function(){return this._hasValidation},f.prototype._getError=function(t,e,i){if(w.isFunction(this.itemValidator)){if(t==this.cells)return this.itemValidator(e,i);if(t==this.rowHeaders)for(i=0;i<this.columns.length;i++){if(l=this.itemValidator(e,i))return l}}var n=this._cv,r=n?n.getError:null;if(w.isFunction(r)){var o=t.rows,s=this.columns,a=o[e].dataItem;if(a)for(;e<o.length&&o[e].dataItem==a;e++){if(t==this.cells)return r(a,this._getBindingColumn(this.cells,e,s[i]).binding);if(t==this.rowHeaders)for(i=0;i<s.length;i++){var l;if(l=r(a,this._getBindingColumn(this.cells,e,s[i]).binding))return l}}}return null},f.prototype._setAria=function(t,e){w.setAttribute(this.cells.hostElement,"aria-"+t,e)},f.prototype._setFocus=function(t){if(this.hostElement&&(t||!this.containsFocus())){var e=w.getActiveElement(),i=this.activeEditor,n=this._activeCell,r=this._eFocus;if(i)w.contains(i,e)||(i.focus(),r.tabIndex=-1);else if(n){if(!w.contains(n,e)&&e!=this._root){var o=!1;w.isIE()&&(this._setFocusNoScroll(n),o=!0),o||(n.tabIndex=this._orgTabIndex,n.focus()),r.tabIndex=-1}}else w.contains(r,e)||e==this._root||(r.tabIndex=this._orgTabIndex,r.focus());this.containsFocus()||(r.tabIndex=this._orgTabIndex,r.focus())}},f.prototype._setFocusNoScroll=function(t){if(t.tabIndex=this._orgTabIndex,w.supportsFocusOptions())t.focus({preventScroll:!0});else{var e=this.scrollPosition,i=t.style,n=i.position,r=i.opacity;i.opacity="0",i.position="fixed",t.focus(),i.position=n,i.opacity=r,this.scrollPosition=e}this._fixScroll()},f.prototype._getDefaultRowHeight=function(){var t=this._eFocus,e=null;t.scrollHeight||(t=(e=w.createElement('<div class="wj-flexgrid"><div class="wj-cell">0</div></div>',document.body)).children[0]);var i=t.scrollHeight;return(isNaN(i)||i<=6)&&(i=28),w.removeChild(e),i},f.prototype._getDefaultCellPadding=function(){var t=getComputedStyle(this._eFocus);return parseInt(this.rightToLeft?t.paddingRight:t.paddingLeft)},f.prototype._getCollectionView=function(t){return w.asCollectionView(t)},f.prototype._getCanvasContext=function(){var t=document.createElement("canvas").getContext("2d"),e=getComputedStyle(this.hostElement);return t.font=e.fontSize+" "+e.fontFamily.split(",")[0],t},f.prototype._getWidestRow=function(t,e,i,n){for(var r=0,o=0,s=t.columns[i].dataType==w.DataType.Boolean,a=e.row;a<=e.row2;a++)if(t.rows[a].isVisible){var l=t.getCellData(a,i,!0),h=n.measureText(l).width;if(o<h&&(o=h,r=a),s)break}return r},f.prototype._getDesiredWidth=function(t,e,i,n){var r=this.getMergedRange(t,e,i,!1),o=n.style;return this.cellFactory.updateCell(t,e,i,n,r),o.width=o.top=o.left="",n.offsetWidth/(r&&1<r.columnSpan?r.columnSpan:1)},f.prototype._getDesiredHeight=function(t,e,i,n){var r=this.getMergedRange(t,e,i,!1),o=n.style;return this.cellFactory.updateCell(t,e,i,n,r),o.height=o.top=o.left="",n.offsetHeight/(r&&1<r.rowSpan?r.rowSpan:1)},f.prototype._getDesiredRowHeight=function(t,e,i,n){for(var r=0,o=0;o<t.columns.length;o++){var s=t.columns[o];if(s.isVisible){var a=void 0,l=this.getMergedRange(t,e,o,!1),h={ct:t.cellType,col:o,rng:l&&1<l.rowSpan?l.rowSpan:1,content:s.dataType==w.DataType.Number?"1":t.getCellData(e,o,!0)},c=JSON.stringify(h);null==(a=n[c])&&(a=this._getDesiredHeight(t,e,o,i),n[c]=a),r=Math.max(r,a)}}return r},f.prototype._getSortRowIndex=function(){return null!=this._sortRowIndex?this._sortRowIndex:this.columnHeaders.rows.length-1},f.prototype._sortConverter=function(t,e,i,n){var r;if(n){if(this._mappedColumns=null,this._cv)for(var o=this._cv.sortDescriptions,s=0;s<o.length;s++)(r=this.getColumn(o[s].property))&&r.dataMap&&(this._mappedColumns||(this._mappedColumns={}),this._mappedColumns[r.binding]=r.dataMap);this._mouseHdl._htDown&&-1<this._mouseHdl._htDown.col&&(r=this.columns[this._mouseHdl._htDown.col],this._mappedColumns&&r.dataMap&&(this._mappedColumns[r.binding]=r.dataMap))}if(this._mappedColumns){var a=this._mappedColumns[t.property];a&&a.sortByDisplayValues&&(i=a.getDisplayValue(i))}return i},f.prototype._bindGrid=function(h){var c=this;if(this.finishEditing(),this.deferUpdate(function(){0==c._lastCount&&w.hasItems(c._cv)&&(h=!0);var t,n,e=c.selectionMode==g.SelectionMode.ListBox;if(c.preserveSelectedState&&e&&!c.childItemsPath&&(t=c.selectedItems),c.preserveOutlineState&&w.isFunction(window.Map)&&-1<c.rows.maxGroupLevel){n=new Map;for(var i=0;i<c.rows.length;i++){var r=c.rows[i];if(r instanceof g.GroupRow&&r.isCollapsed&&r.dataItem){var o=r.dataItem;o instanceof w.collections.CollectionViewGroup&&(o=o._path),n.set(o,!0)}}}h&&c.columns.deferUpdate(function(){c._bindColumns()});var s=new w.CancelEventArgs;c.onLoadingRows(s)&&(c.rows.deferUpdate(function(){c._bindRows()}),c.onLoadedRows(s));var a=0;if(t&&t.length)for(i=0;i<c.rows.length&&a<t.length;i++)-1<t.indexOf(c.rows[i].dataItem)&&(c.rows[i].isSelected=!0,a++);if(e&&0==a&&0<c._lastCount){var l=c.selection;for(i=l.topRow;i<=l.bottomRow&&-1<i&&i<c.rows.length;i++)c.rows[i].isSelected=!0}n&&c.rows.deferUpdate(function(){for(var t=0;t<c.rows.length;t++){var e=c.rows[t];if(e instanceof g.GroupRow){var i=e.dataItem;i instanceof w.collections.CollectionViewGroup&&(i=i._path),n.get(i)&&(e.isCollapsed=!0)}}}),!c._lastCount&&c._cv&&c._cv.items&&(c._lastCount=c._cv.items.length)}),!this.rows.length){var t=this._selHdl.selection;t.row=t.row2=-1}this._cv&&this._syncSelection(h)},f.prototype._cvCollectionChanged=function(t,e){if(this.autoGenerateColumns&&0==this.columns.length)this._bindGrid(!0);else if(this.childItemsPath&&e.action!=w.collections.NotifyCollectionChangedAction.Change)this._bindGrid(!1);else{switch(e.action){case w.collections.NotifyCollectionChangedAction.Change:return void this.invalidate();case w.collections.NotifyCollectionChangedAction.Add:if(e.index==this._cv.items.length-1){var i=this.rows.length;return this.rows[i-1]instanceof g._NewRowTemplate&&i--,void this.rows.insert(i,new g.Row(e.item))}w.assert(!1,"added item should be the last one.");break;case w.collections.NotifyCollectionChangedAction.Remove:var n=this._findRow(e.item);if(-1<n)return this.rows.removeAt(n),void this._syncSelection(!1);w.assert(!1,"removed item not found on grid.")}this._bindGrid(!1)}},f.prototype._cvCurrentChanged=function(t,e){this._syncSelection(!1)},f.prototype._syncSelection=function(t){if(this._cv&&this.selectionMode!=g.SelectionMode.None){var e=this.selection,i=-1<e.row&&e.row<this.rows.length?this.rows[e.row].dataItem:null;if(i instanceof w.collections.CollectionViewGroup&&(i=null),(i!=this._cv.currentItem||t)&&(!this.childItemsPath||!this.editableCollectionView||!this.editableCollectionView.currentAddItem)){var n=this._getRowIndex(this._cv.currentPosition);n==e.row&&this.childItemsPath||(e.row=e.row2=n,this.select(e,!1),this.selectionMode&&this.scrollIntoView(e.row,-1))}}},f.prototype._getRowIndex=function(t){if(this._cv){if(-1<t){for(var e=this._cv.items[t];t<this.rows.length;t++)if(this.rows[t].dataItem===e)return t;return-1}if(1==this.rows.length&&this.rows[0]instanceof g._NewRowTemplate)return 0;var i=this.selection.row,n=-1<i?this.rows[i]:null;return n&&(n instanceof g.GroupRow||null==n.dataItem)?i:-1}return this.selection.row},f.prototype._getCvIndex=function(t){if(this._cv&&-1<t&&t<this.rows.length){var e=this._cv.items,i=this.rows[t].dataItem;for(t=Math.min(t,e.length-1);-1<t;t--)if(e[t]===i)return t}return-1},f.prototype._findRow=function(t){for(var e=0;e<this.rows.length;e++)if(this.rows[e].dataItem==t)return e;return-1},f.prototype._updateLayout=function(){var t=new w.CancelEventArgs;if(this.onUpdatingLayout(t)){this._hasValidation=w.isFunction(this._itemValidator)||this._cv&&w.isFunction(this._cv.getError);var e=this._hdrVis&b.Row?this._hdrCols.getTotalSize():0,i=this._hdrVis&b.Column?this._hdrRows.getTotalSize():0,n=this._ftrRows.getTotalSize(),r=this._rows.getTotalSize()+n;r<1&&(r=1),this._heightBrowser=Math.min(r,f._getMaxSupportedCssHeight()),this._maxOffsetY=Math.max(0,r-this._heightBrowser),this._cellPadding=this._getDefaultCellPadding();var o=this._heightBrowser+i-n,s=this._gpCells.width,a=this._heightBrowser;!s&&this.rows.length&&(s=.1),!a&&this.columns.length&&(a=.1),this.rightToLeft?(w.setCss(this._eTL,{right:0,top:0,width:e,height:i}),w.setCss(this._eCHdr,{right:e,top:0,height:i}),w.setCss(this._eRHdr,{right:0,top:i,width:e}),w.setCss(this._eCt,{right:e,top:i,width:s,height:a}),w.setCss(this._fCt,{right:e,top:i}),w.setCss(this._eBL,{right:0,top:o,width:e,height:n}),w.setCss(this._eCFtr,{right:e,top:o,height:n})):(w.setCss(this._eTL,{left:0,top:0,width:e,height:i}),w.setCss(this._eCHdr,{left:e,top:0,height:i}),w.setCss(this._eRHdr,{left:0,top:i,width:e}),w.setCss(this._eCt,{left:e,top:i,width:s,height:a}),w.setCss(this._fCt,{left:e,top:i}),w.setCss(this._eBL,{left:0,top:o,width:e,height:n}),w.setCss(this._eCFtr,{left:e,top:o,height:n})),this._stickyHdr&&this._updateStickyHeaders();var l=this.frozenRows||this.frozenColumns?"3":"";w.setCss([this._eTL,this._eBL,this._eCHdr,this._eCFtr,this._eRHdr,this._eMarquee],{zIndex:l});var h=this._root,c=h.offsetWidth-h.clientWidth,u=h.offsetHeight-h.clientHeight;w.setCss(this._eSz,{width:e+c+this._gpCells.width,height:i+u+this._heightBrowser});var p=null;this.columns._updateStarSizes(h.clientWidth-e)&&(p=h.clientWidth,w.setCss(this._eCt,{width:this._gpCells.width})),this._szClient=new w.Size(h.clientWidth-e,h.clientHeight-i),this._rcBounds=null,this._updateScrollHandler(),this._updateContent(!1),c=h.offsetWidth-h.clientWidth,u=h.offsetHeight-h.clientHeight,w.setCss(this._eSz,{width:e+c+this._gpCells.width,height:i+u+this._heightBrowser}),this._szClient=new w.Size(h.clientWidth-e,h.clientHeight-i),p&&p!=h.clientWidth&&this.columns._updateStarSizes(h.clientWidth-e)&&(w.setCss(this._eCt,{width:this._gpCells.width}),this._updateContent(!1)),w.setCss([this._eCHdr,this._eCFtr,this._fCt],{width:this._szClient.width}),w.setCss([this._eRHdr,this._fCt],{height:this._szClient.height}),n&&(o=Math.min(o,this._szClient.height+i-n),w.setCss([this._eBL,this._eCFtr],{top:o})),this.onUpdatedLayout(t)}},f.prototype._updateStickyHeaders=function(){var t=!1,e=0;if(this._stickyHdr){for(var i=0,n=null,r=this.hostElement;r;r=r.parentElement){var o=r.getBoundingClientRect();null==n&&(n=o.top),i=Math.max(i,o.top)}e=-(n=Math.max(0,i-n-1)),t=0<n,this._rcBounds=null}this._eTL.style.top=this._eCHdr.style.top=t?-e+"px":"",w.toggleClass(this._eTL,f._WJS_STICKY,t),w.toggleClass(this._eCHdr,f._WJS_STICKY,t)},f.prototype._updateScrollHandler=function(){this._clipToScreen=this._getClipToScreen();var t=this._stickyHdr||this._clipToScreen;t!=this._scrollHandlerAttached&&((this._scrollHandlerAttached=t)?this.addEventListener(window,"scroll",this._scroll.bind(this),!0):this.removeEventListener(window,"scroll"))},f.prototype._getClipToScreen=function(){if(this.rows.length<=f._MIN_VIRT_ROWS)return!1;if(this._root.clientHeight!=this._root.scrollHeight)return!1;for(var t=this.hostElement;t&&t!=document.documentElement;t=t.parentElement){if("auto"==getComputedStyle(t).overflow)return!1}return!0},f.prototype._scroll=function(t){var e=this;w.contains(t.target,this.hostElement)&&(this._clipToScreen&&(this._afScrl&&cancelAnimationFrame(this._afScrl),this._afScrl=requestAnimationFrame(function(){e._afScrl=null,e.finishEditing(),e._updateContent(!0)})),this._stickyHdr&&(this._afSticky&&cancelAnimationFrame(this._afSticky),this._afSticky=requestAnimationFrame(function(){e._afSticky=null;var t=new w.CancelEventArgs;e.onUpdatingLayout(t)&&(e._updateStickyHeaders(),e.onUpdatedLayout(t))})))},f.prototype._updateScrollPosition=function(){var t=this._root,e=t.scrollTop,i=t.scrollLeft;this.rightToLeft&&"rev"==f._getRtlMode()&&(i=t.scrollWidth-t.clientWidth-i);var n=new w.Point(-Math.abs(i),-e);return!this._ptScrl.equals(n)&&(this._ptScrl=n,this.onScrollPositionChanged(),!0)},f.prototype._updateContent=function(t,e){var i=this._root,n=this.hostElement,r=this.cells.hostElement,o=w.getActiveElement(),s=w.contains(n,o)?o:null,a=this._activeCell,l=new w.CancelEventArgs;if(this.onUpdatingView(l)){if(w.setAttribute(r,"role",this.rows.maxGroupLevel<0?"grid":"treegrid"),this._offsetY=0,this._heightBrowser>this._szClient.height){var h=Math.round(-this._ptScrl.y/(this._heightBrowser-this._szClient.height)*100)/100;this._offsetY=Math.round(this._maxOffsetY*h)}this._updateScrollPosition();var c=this._gpCells._updateContent(t,e,this._offsetY);if(this._hdrVis&b.Column&&(!e||this._ssHdr&b.Column)&&this._gpCHdr._updateContent(t,e,0),this._hdrVis&b.Row&&(!e||this._ssHdr&b.Row)&&this._gpRHdr._updateContent(t,e,this._offsetY),this._hdrVis&&!e&&this._gpTL._updateContent(t,e,0),this._gpCFtr.rows.length&&(this._gpBL._updateContent(t,e,0),this._gpCFtr._updateContent(t,e,0)),this.showMarquee){var u=this._selHdl.selection,p=this._eMarquee;if(this.isRangeValid(u)){var d=this._getMarqueeRect(u),_=p.firstChild,f=p.offsetWidth-_.offsetWidth,g=p.offsetHeight-_.offsetHeight;w.setCss(p,{left:d.left+r.offsetLeft-f/2,top:d.top+r.offsetTop-g/2,width:d.width+f,height:d.height+g,visibility:0<d.width&&0<d.height?"":"collapse"})}else w.setCss(p,{left:0,top:0,width:0,height:0,visibility:"collapse"})}if(this._useFrozenDiv()&&(this._updateFrozenCells(e),c&&w.hasClass(c,"wj-frozen")&&(c=null)),this._fCt.style.display=this._fCt.childElementCount?"":"none",this._activeCell=c,s)if(s!=i&&s!=this._eFocus&&w.contains(n,s)&&!w.contains(r,s)){if(w.getActiveElement()!=s&&s.focus(),w.isIE()&&s instanceof HTMLInputElement&&!s.type.match(/checkbox|radio|range/i)){var m=s.selectionStart,y=s.selectionEnd;s.setSelectionRange(m,y)}}else{var v=c!=a;this._setFocus(v)}!s&&c&&(c.tabIndex=this._orgTabIndex),a&&a!=c&&(a.tabIndex=-1),this._fixScroll(),this._rcBounds=null,this.onUpdatedView(l)}},f.prototype._fixScroll=function(){[this.hostElement,this._root?this._root.parentElement:null].forEach(function(t){t&&t.scrollTop&&(t.scrollTop=0)})},f.prototype._clearCells=function(){for(var t in this)if("_"==t[0]){var e=this[t];e instanceof g.GridPanel&&e._clearCells()}this.invalidate()},f.prototype._useFrozenDiv=function(){return w.isBoolean(this._fzClone)?this._fzClone:w.isIE()||w.isFirefox()||w.isSafari()||w.isMobile()},f.prototype._updateFrozenCells=function(t){if(this.frozenRows||this.frozenColumns){var e=this._eCt.querySelectorAll(".wj-frozen");if(t&&this._fCt.children.length==e.length){for(var i=0;i<e.length;i++)this._fCt.children[i].className=e[i].className;return}if(w.setText(this._fCt,null),!this.activeEditor)for(i=0;i<e.length;i++){var n=e[i].cloneNode(!0);this._fCt.appendChild(n)}}else w.setText(this._fCt,null)},f.prototype._getMarqueeRect=function(t){var e=this.getMergedRange(this.cells,t.topRow,t.leftCol)||new g.CellRange(t.topRow,t.leftCol),i=this.getMergedRange(this.cells,t.bottomRow,t.rightCol)||new g.CellRange(t.bottomRow,t.rightCol),n=this.cells.getCellBoundingRect(e.topRow,e.leftCol,!0),r=this.cells.getCellBoundingRect(i.bottomRow,i.rightCol,!0);if(this.rows.frozen){var o=Math.min(this.rows.length,this.rows.frozen),s=this.cells.getCellBoundingRect(o-1,0,!0);t.topRow>=o&&n.top<s.bottom&&(n.top=s.bottom),t.bottomRow>=o&&r.bottom<s.bottom&&(r.height=s.bottom-r.top)}if(this.columns.frozen){var a=Math.min(this.columns.length,this.columns.frozen);s=this.cells.getCellBoundingRect(0,a-1,!0);this.rightToLeft?(t.leftCol>=a&&n.right>s.left&&(n.left=s.left-n.width),t.rightCol>=a&&r.left>s.left&&(r.left=s.left)):(t.leftCol>=a&&n.left<s.right&&(n.left=s.right),t.rightCol>=a&&r.right<s.right&&(r.width=s.right-r.left))}return this.rightToLeft?new w.Rect(r.left,n.top,n.right-r.left,r.bottom-n.top):new w.Rect(n.left,n.top,r.right-n.left,r.bottom-n.top)},f.prototype._bindColumns=function(){for(var t=0;t<this.columns.length;t++){(a=this.columns[t])._getFlag(g.RowColFlags.AutoGenerated)&&(this.columns.removeAt(t),t--)}var e=this._cv,i=e?e.sourceCollection:null,n=i&&i.length?i[0]:null;if(n&&this.autoGenerateColumns)for(var r in n)for(var o=null,s=0;s<i.length&&s<1e3&&null==o;s++)if(o=i[s][r],w.isPrimitive(o)){var a;(a=new g.Column)._setFlag(g.RowColFlags.AutoGenerated,!0),a.binding=a.name=r,a.header=w.toHeaderCase(r),a.dataType=w.getType(o),a.dataType==w.DataType.Number&&(a.width=80);var l=Object.getOwnPropertyDescriptor(n,r);!l||l.writable||w.isFunction(l.set)||a._setFlag(g.RowColFlags.ReadOnly,!0),this.columns.push(a)}this._updateColumnTypes()},f.prototype._updateColumnTypes=function(){var t=this._cv;if(w.hasItems(t))for(var e=t.items[0],i=this.columns,n=0;n<i.length;n++){var r=i[n];null==r.dataType&&r._binding&&(r.dataType=w.getType(r._binding.getValue(e)))}},f.prototype._getBindingColumn=function(t,e,i){return i},f.prototype._getRowHeaderPath=function(){return this._rowHdrPath},f.prototype._bindRows=function(){this.rows.clear();var t=this._cv;if(t&&t.items){var e=t.items,i=t.groups;if(this.childItemsPath)for(var n=0;n<e.length;n++)this._addNode(e,n,0);else if(null!=i&&0<i.length&&this.showGroups)for(n=0;n<i.length;n++)this._addGroup(i[n]);else for(n=0;n<e.length;n++)this._addBoundRow(e,n)}},f.prototype._addBoundRow=function(t,e){this.rows.push(new g.Row(t[e]))},f.prototype._addNode=function(t,e,i){var n=new g.GroupRow,r=this.childItemsPath,o=w.isArray(r)?r[i]:r,s=t[e],a=s[o];if(n.dataItem=s,n.level=i,this.rows.push(n),w.isArray(a))for(var l=0;l<a.length;l++)this._addNode(a,l,i+1)},f.prototype._addGroup=function(t){var e=new g.GroupRow;if(e.level=t.level,e.dataItem=t,this.rows.push(e),t.isBottomLevel)for(var i=t.items,n=0;n<i.length;n++)this._addBoundRow(i,n);else for(n=0;n<t.groups.length;n++)this._addGroup(t.groups[n])},f._getSerializableProperties=function(t){var e=[];for(t=t.prototype;t!=Object.prototype;t=Object.getPrototypeOf(t))for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],o=Object.getOwnPropertyDescriptor(t,r);o&&o.set&&o.get&&"_"!=r[0]&&!r.match(/disabled|required/)&&e.push(r)}return e},f.prototype._copy=function(t,e){if("columns"==t){this.columns.clear();for(var i=w.asArray(e),n=0;n<i.length;n++){var r=new g.Column;w.copy(r,i[n]),this.columns.push(r)}return!0}return!1},f.prototype._isInputElement=function(t){if(t instanceof HTMLElement&&!w.hasClass(t,"wj-btn-glyph")){if("true"==t.contentEditable)return!0;var e=t.tagName.match(/^(BUTTON|A|INPUT|TEXTAREA|SELECT|OPTION)$/i);return e&&0<e.length}return!1},f.prototype._wantsInput=function(t){return this._isInputElement(t)&&!this.activeEditor&&!this._edtHdl._isNativeCheckbox(t)&&!w.hasClass(t,"wj-grid-ime")&&w.contains(document.body,t)},f._getMaxSupportedCssHeight=function(){if(!f._maxCssHeight){var t=335e5;w.isIE()?t=15e5:w.isFirefox()&&(t=175e5),f._maxCssHeight=t}return f._maxCssHeight},f._getRtlMode=function(){if(!f._rtlMode){var t=w.createElement('<div dir="rtl" style="visibility:hidden;width:100px;height:100px;overflow:auto"><div style="width:2000px;height:2000px"></div></div>');document.body.appendChild(t);var e=t.scrollLeft;t.scrollLeft=-1e3;var i=t.scrollLeft;w.removeChild(t),f._rtlMode=i<0?"neg":0<e?"rev":"std"}return f._rtlMode},f._WJS_STICKY="wj-state-sticky",f._WJS_MEASURE="wj-state-measuring",f._WJS_UPDATING="wj-state-updating",f._MIN_VIRT_ROWS=200,f.controlTemplate='<div style="position:relative;width:100%;height:100%;overflow:hidden;max-width:inherit;max-height:inherit"><div wj-part="root" style="position:absolute;width:100%;height:100%;overflow:auto;max-width:inherit;max-height:inherit;-webkit-overflow-scrolling:touch;"><div wj-part="cells" class="wj-cells" style="position:absolute"></div><div wj-part="marquee" class="wj-marquee" style="display:none;pointer-events:none;"><div style="width:100%;height:100%"></div></div></div><div wj-part="fcells" aria-hidden="true" class="wj-cells wj-frozen-clone" style="position:absolute;pointer-events:none;overflow:hidden"></div><div wj-part="rh"><div wj-part="rhcells" class="wj-rowheaders"></div></div><div wj-part="cf"><div wj-part="cfcells" class="wj-colfooters"></div></div><div wj-part="ch"><div wj-part="chcells" class="wj-colheaders"></div></div><div wj-part="bl"><div wj-part="blcells" class="wj-bottomleft"></div></div><div wj-part="tl"><div wj-part="tlcells" class="wj-topleft"></div></div><div wj-part="focus" class="wj-cell" style="position:fixed;left:-32000px">0</div><div wj-part="sz" style="position:relative;visibility:hidden"></div></div>',f}(w.Control);g.FlexGrid=e}(w.grid||(w.grid={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(s){!function(o){"use strict";var t=function(r){function t(t,e,i){var n=r.call(this)||this;return n._p=s.asType(t,o.GridPanel,!0),n._rng=s.asType(e,o.CellRange,!0),n._data=i,n}return __extends(t,r),Object.defineProperty(t.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this._rng.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"row",{get:function(){return this._rng.row},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col",{get:function(){return this._rng.col},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),t}(s.CancelEventArgs),e=function(r){function t(t,e,i){var n=r.call(this,t,e)||this;return n._cell=s.asType(i,HTMLElement),n}return __extends(t,r),Object.defineProperty(t.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),t}(o.CellRangeEventArgs=t);o.FormatItemEventArgs=e;var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._stayInEditMode=!1,t._refresh=!0,t}return __extends(t,e),Object.defineProperty(t.prototype,"stayInEditMode",{get:function(){return this._stayInEditMode},set:function(t){this._stayInEditMode=s.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refresh",{get:function(){return this._refresh},set:function(t){this._refresh=s.asBoolean(t)},enumerable:!0,configurable:!0}),t}(t);o.CellEditEndingEventArgs=i}(s.grid||(s.grid={}))}(wijmo||(wijmo={})),function(m){!function(y){"use strict";var v,t;(t=v=y.CellType||(y.CellType={}))[t.None=0]="None",t[t.Cell=1]="Cell",t[t.ColumnHeader=2]="ColumnHeader",t[t.RowHeader=3]="RowHeader",t[t.TopLeft=4]="TopLeft",t[t.ColumnFooter=5]="ColumnFooter",t[t.BottomLeft=6]="BottomLeft";var e=function(){function _(t,e,i,n,r){this._offsetY=0,this._g=m.asType(t,y.FlexGrid),this._ct=m.asInt(e),this._rows=m.asType(i,y.RowCollection),this._cols=m.asType(n,y.ColumnCollection),this._e=m.asType(r,HTMLElement),this._vrb=new y.CellRange}return Object.defineProperty(_.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"cellType",{get:function(){return this._ct},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"viewRange",{get:function(){return this._getViewRange()},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"width",{get:function(){return this._cols.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"height",{get:function(){return this._rows.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),_.prototype.getCellData=function(t,e,i){var n,r=this._rows[m.asNumber(t,!1,!0)],o=null;if(m.isString(e)&&(e=this._cols.indexOf(e))<0)throw"Invalid column name or binding.";n=this._cols[m.asNumber(e,!1,!0)];var s=this._g?this._g._getBindingColumn(this,t,n):n;if(!s.binding||!r.dataItem||r.dataItem instanceof m.collections.CollectionViewGroup?r._ubv&&(o=r._ubv[n._hash]):o=s._binding.getValue(r.dataItem),null==o)switch(this._ct){case v.ColumnHeader:t!=this._rows.length-1&&s==n||(o=s.header);break;case v.ColumnFooter:if(s.aggregate!=m.Aggregate.None&&r instanceof y.GroupRow){var a=this._g.collectionView;if(a){var l=m.tryCast(a,m.collections.CollectionView);o=l?l.getAggregate(s.aggregate,s.binding):m.getAggregate(s.aggregate,a.items,s.binding)}}break;case v.Cell:if(s.aggregate!=m.Aggregate.None&&r instanceof y.GroupRow){var h=m.tryCast(r.dataItem,m.collections.CollectionViewGroup);h&&(o=h.getAggregate(s.aggregate,s.binding,this._g.collectionView))}}return i&&(this.cellType==v.Cell&&s.dataMap&&(o=s.dataMap.getDisplayValue(o)),o=null!=o?m.Globalize.format(o,s.format):""),o},_.prototype.setCellData=function(t,e,i,n,r){void 0===n&&(n=!0),void 0===r&&(r=!0);var o,s=this._rows[m.asNumber(t,!1,!0)];if(m.isString(e)&&(e=this._cols.indexOf(e))<0)throw"Invalid column name or binding.";o=this._cols[m.asNumber(e,!1,!0)];var a=this._g?this._g._getBindingColumn(this,t,o):o;if(this._ct==v.Cell){if(a.dataMap&&null!=i&&(a.isRequired||""!=i)){var l=a.dataMap,h=l.getKeyValue(i);if(null==h&&null==l.getDisplayValue(null)){if(l.getDisplayValue(i)!=i);else if(!l.isEditable||l.displayMemberPath!=l.selectedValuePath)return!1}else i=h}var c=m.DataType.Object;if(a.dataType)c=a.dataType;else{var u=this.getCellData(t,e,!1);c=m.getType(u)}if(m.isBoolean(a.isRequired))if(a.isRequired||""!==i&&null!==i){if(a.isRequired&&(""===i||null===i))return!1}else i=null,n=!1;if(n&&(i=m.changeType(i,c,a.format),c!=m.DataType.Object&&m.getType(i)!=c))return!1}if(s.dataItem&&a.binding){var p=a._binding,d=s.dataItem,_=p.getValue(d);if(i!==_&&!m.DateTime.equals(i,_)){p.setValue(d,i);var f=this._g.collectionView;if(f instanceof m.collections.CollectionView&&d!=f.currentEditItem){var g=new m.collections.NotifyCollectionChangedEventArgs(m.collections.NotifyCollectionChangedAction.Change,d,f.items.indexOf(d));f.onCollectionChanged(g)}}}else s._ubv||(s._ubv={}),s._ubv[o._hash]=i;return r&&this._g&&this._g.invalidate(),!0},_.prototype.getCellBoundingRect=function(t,e,i){var n=this.rows[t],r=this.columns[e],o=new m.Rect(r.pos,n.pos,r.renderSize,n.renderSize);if(this._g.rightToLeft&&(o.left=this.hostElement.clientWidth-o.right,!m.isIE()&&!m.isFirefox())){var s=this.hostElement.parentElement;o.left-=s.offsetWidth-s.clientWidth}if(!i){var a=this.hostElement.getBoundingClientRect();o.left+=a.left,o.top+=a.top-this._offsetY}return t<this.rows.frozen&&(o.top-=this._g.scrollPosition.y),e<this.columns.frozen&&(o.left-=this._g.scrollPosition.x*(this._g.rightToLeft?-1:1)),o},_.prototype.getCellElement=function(t,e){for(var i=this.hostElement.children,n=Math.min(t+2,i.length),r=0;r<n;r++)for(var o=i[r].children,s=Math.min(e+2,o.length),a=0;a<s;a++){var l=o[a],h=l[_._INDEX_KEY];if(h&&(h.row==t&&h.col==e||h.rng&&h.rng.contains(t,e)))return l}return null},_.prototype.getSelectedState=function(t,e,i){var n=this._g,r=n.selectionMode,o=n._selHdl.selection,s=y.SelectionMode,a=y.SelectedState;if(r!=s.None)switch(this._ct){case v.Cell:if(i||(i=n.getMergedRange(this,t,e)),i){if(i.contains(o.row,o.col))return n.showMarquee?a.None:a.Cursor;if(i.intersects(o))return a.Selected}if(o.row==t&&o.col==e)return n.showMarquee?a.Active:a.Cursor;if(n.rows[t].isSelected||n.columns[e].isSelected)return a.Selected;if(i)switch(r){case s.Row:case s.RowRange:case s.ListBox:if(i.containsRow(o.row))return a.Selected}return o=n._selHdl._adjustSelection(o),r==y.SelectionMode.ListBox?a.None:o.containsRow(t)&&o.containsColumn(e)?a.Selected:a.None;case v.ColumnHeader:if(n.showSelectedHeaders&y.HeadersVisibility.Column&&(n.columns[e].isSelected||o.containsColumn(e)||o.intersectsColumn(i))&&(i&&(t=i.bottomRow),t==this.rows.length-1))return a.Selected;break;case v.RowHeader:if(n.showSelectedHeaders&y.HeadersVisibility.Row&&(n.rows[t].isSelected||o.containsRow(t)||o.intersectsRow(i))&&(i&&(e=i.rightCol),e==this.columns.length-1))return a.Selected}return a.None},Object.defineProperty(_.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),_.prototype._getOffsetY=function(){return this._offsetY},_.prototype._updateContent=function(t,e,i){var n=this._g,r=this._e,o=this._rows,s=this._cols,a=this._ct;if(a==v.ColumnHeader||a==v.ColumnFooter||a==v.RowHeader){var l=n._ptScrl,h=r.style;a==v.RowHeader?h.top=l.y+"px":n.rightToLeft?h.right=l.x+"px":h.left=l.x+"px"}this._offsetY!=i&&(t=!1,this._offsetY=i);var c=this._getViewRange(),u=c;if(u.isValid){var p=n.isTouching,d=o.length<=n._vtRows?1e7:p?6:0,_=s.length<=n._vtCols?1e7:p?1:0;u=new y.CellRange(Math.max(c.row-d,o.frozen),Math.max(c.col-_,s.frozen),Math.min(c.row2+d,o.length-1),Math.min(c.col2+_,s.length-1))}if(t&&!e&&this._vrb.contains(c)&&!o.frozen&&!s.frozen)return this._activeCell;t&&u.equals(this._vrb)||(e=!1),t&&!e&&this._ct!=v.TopLeft&&this._reorderCells(u,this._vrb),this._activeCell=null,this._vru=c,this._vrb=u,this._cf=n.cellFactory;var f=0;this._ct==v.Cell&&(f=this._renderColHdrRow(u,e));for(var g=0;g<o.frozen&&g<o.length;g++)f=this._renderRow(g,u,e,f);for(g=u.topRow;g<=u.bottomRow&&-1<g;g++)f=this._renderRow(g,u,e,f);for(;r.childElementCount>f;){var m=r.lastElementChild;r.removeChild(m),this._removeExtraCells(m,0)}return this._activeCell},_.prototype._updateScrollPosition=function(){var t=this._g,e=t._ptScrl,i=this.hostElement.style;this.cellType==v.RowHeader?i.top=e.y+"px":t.rightToLeft?i.right=e.x+"px":i.left=e.x+"px"},_.prototype._clearCells=function(){for(var t=this.hostElement,e=t.childElementCount-1;0<=e;e--){var i=t.children[e];t.removeChild(i);for(var n=i.childElementCount-1;0<=n;n--)this._cf.disposeCell(i.children[n])}},_.prototype._reorderCells=function(t,e){if(!(0<this._rows.frozen||0<this._cols.frozen||t.columnSpan!=e.columnSpan||t.rowSpan!=e.rowSpan)&&e.isValid&&t.isValid&&t.intersects(e)&&t.row!=e.row){var i=t.row-e.row,n=Math.max(1,t.rowSpan-1),r=this._e;if(0!=i&&Math.abs(i)<n){var o=this._ct==v.Cell?1:0,s=r.childElementCount;if(0<i){var a=o,l=Math.min(o+i,s-1);(h=this._createRange(a,l))&&l<s-1&&r.appendChild(h.extractContents())}if(i<0){var h;l=s,a=Math.max(o,l+i);if((h=this._createRange(a,l))&&o<a){var c=r.children[o];r.insertBefore(h.extractContents(),c)}}}}},_.prototype._createRange=function(t,e){var i,n=this._e.childElementCount;return t<e&&e<=n&&-1<t&&((i=document.createRange()).setStart(this._e,t),i.setEnd(this._e,e)),i},_.prototype._renderColHdrRow=function(t,e){var i=this._e.children[0];i||(i=m.createElement('<div class="wj-row" role="row"></div>',this._e));var n=this._g,r=n?n.columnHeaders.rows.ariaLabel:null;m.setAttribute(i,"aria-label",r),m.setAttribute(i,"aria-selected",null);var o=0,s=this._g._getRowHeaderPath();s&&(o=this._renderRowHdrCell(i,-1,s.path));for(var a=0;a<this.columns.frozen&&a<this.columns.length;a++)o=this._renderColHdrCell(i,a,t,e,o);for(a=t.leftCol;a<=t.rightCol&&-1<a;a++)o=this._renderColHdrCell(i,a,t,e,o);return this._removeExtraCells(i,o),1},_.prototype._renderColHdrCell=function(t,e,i,n,r){var o=this.columns[e];if(o.renderSize<=0)return r;if(n)return r+1;var s=t.children[r];s||(s=m.createElement('<div class="wj-cell" tabindex="-1"></div>',t)),m.setAttribute(s,"role","columnheader"),s.textContent=this.columns[e].header,m.setCss(s,{position:"fixed",top:-32e3,height:.1,left:o.pos,width:o.renderWidth,overflow:"hidden",opacity:"0",pointerEvents:"none"});var a=[o.describedById,this.columns.describedById].join(" ").trim();m.setAttribute(s,"aria-describedby",a||null);var l=this.grid;if(l.allowSorting){var h="none";switch(l._getBindingColumn(this,0,o).currentSort){case"+":h="ascending";break;case"-":h="descending"}m.setAttribute(s,"aria-sort",h)}return l.isReadOnly||(m.setAttribute(s,"aria-readonly",o.isReadOnly),m.setAttribute(s,"aria-required",o.getIsRequired())),s[_._INDEX_KEY]={row:-1,col:e,panel:this},r+1},_.prototype._renderRowHdrCell=function(t,e,i){var n=t.children[0];return n||(n=m.createElement('<div class="wj-cell" tabindex="-1"></div>',t)),n.setAttribute("role",e<0?"columnheader":"rowheader"),n.textContent=i?i.toString():"",m.setCss(n,{position:"fixed",left:-32e3,top:-32e3,width:.1,height:.1,overflow:"hidden",opacity:"0"}),n[_._INDEX_KEY]={row:e,col:-1,panel:this},1},_.prototype._renderRow=function(t,e,i,n){var r=this._g,o=this.rows[t];if(o.renderSize<=0)return n;var s=this._e.children[n];if(s||(s=m.createElement('<div class="wj-row"></div>',this._e)),this._ct==v.Cell){s.setAttribute("role","row");var a=y.SelectionMode;switch(r.selectionMode){case a.Row:case a.RowRange:case a.ListBox:var l=o.isSelected||this._g._selHdl.selection.containsRow(t);m.setAttribute(s,"aria-selected",!!l)}m.setAttribute(s,"aria-level",o instanceof y.GroupRow?o.level+1:null),m.setAttribute(s,"aria-expanded",o instanceof y.GroupRow?!o.isCollapsed:null),this.rows.ariaLabel&&m.setAttribute(s,"aria-label",this.rows.ariaLabel)}var h=0;if(this._ct==v.Cell){var c=this._g._getRowHeaderPath();c&&(h=this._renderRowHdrCell(s,t,c.getValue(o.dataItem)))}for(var u=0;u<this.columns.frozen&&u<this.columns.length;u++)h=this._renderCell(s,t,u,e,i,h);for(u=e.leftCol;u<=e.rightCol&&-1<u;u++)h=this._renderCell(s,t,u,e,i,h);return this._removeExtraCells(s,h),n+1},_.prototype._renderCell=function(t,e,i,n,r,o){var s=this._g,a=s.getMergedRange(this,e,i);if(a){for(var l=Math.max(n.row,a.row);l<e;l++)if(this.rows[l].isVisible)return o;for(l=Math.max(n.col,a.col);l<i;l++)if(this.columns[l].isVisible)return o}var h=this.columns[i];if(h.renderSize<=0&&(!a||a.getRenderSize(this).width<=0))return o;var c=t.children[o],u=y.SelectedState,p=this.getSelectedState(e,i,a),d=p==u.Cursor||p==u.Active;return c&&r?(m.toggleClass(c,"wj-state-active",d),m.toggleClass(c,"wj-state-selected",p==u.Cursor),m.toggleClass(c,"wj-state-multi-selected",p==u.Selected),m.setAttribute(c,"aria-selected",p!=u.None||d),d&&(this._activeCell=c)):(c||((c=document.createElement("div")).tabIndex=-1,t.appendChild(c)),d&&(this._activeCell=c),this._ct==v.Cell&&(m.setAttribute(c,"role","gridcell"),m.setAttribute(c,"aria-selected",p!=u.None||d),m.setAttribute(c,"aria-readonly",!s.canEditCell(e,i)||null),m.setAttribute(c,"aria-required",h.getIsRequired())),s.cellFactory.updateCell(this,e,i,c,a),c[_._INDEX_KEY]={row:e,col:i,rng:a,panel:this}),o+1},_.prototype._removeExtraCells=function(t,e){for(;t.childElementCount>e;){var i=t.lastElementChild;t.removeChild(i),this._cf.disposeCell(i)}},_.prototype._getViewRange=function(){var t=this._g,e=t._ptScrl,i=this._rows,n=this._cols,r=new y.CellRange(0,0,i.length-1,n.length-1);if(this._ct==v.Cell||this._ct==v.RowHeader){var o=-e.y+this._offsetY,s=t._szClient.height;if(0<(l=Math.min(i.frozen,i.length-1)))o+=h=i[l-1].pos,s-=h;if(r.row=Math.min(i.length-1,Math.max(i.frozen,i.getItemAt(o+1))),r.row2=i.getItemAt(o+s),t._clipToScreen){var a=t.hostElement.getBoundingClientRect();a.top<0&&(r.row=Math.max(r.row,i.getItemAt(-a.top-t._ptScrl.y)-1)),a.bottom>innerHeight&&(r.row2=Math.min(r.row2,i.getItemAt(-a.top-t._ptScrl.y+innerHeight)+1))}}if(this._ct==v.Cell||this._ct==v.ColumnHeader){var l,h,c=-e.x,u=t._szClient.width;if(0<(l=Math.min(n.frozen,n.length-1)))c+=h=n[l-1].pos,u-=h;r.col=Math.min(n.length-1,Math.max(n.frozen,n.getItemAt(c+1))),r.col2=n.getItemAt(c+u)}return i.length<=i.frozen&&(r.row=r.row2=-1),n.length<=n.frozen&&(r.col=r.col2=-1),r},_.prototype._getFrozenPos=function(){var t=this._rows.frozen,e=this._cols.frozen,i=0<t?this._rows[t-1]:null,n=0<e?this._cols[e-1]:null,r=i?i.pos+i.renderSize:0,o=n?n.pos+n.renderSize:0;return new m.Point(o,r)},_._INDEX_KEY="wj-cell-index",_}();y.GridPanel=e}(m.grid||(m.grid={}))}(wijmo||(wijmo={})),function(rt){!function(nt){"use strict";var t=function(){function it(){}return it.prototype.updateCell=function(t,e,i,n,r,o){var s=t.grid,a=s.rightToLeft,l=nt.CellType,h=t.rows,c=t.columns,u=h[e],p=c[i],d=e,_=i,f=u instanceof nt.GroupRow?u:null,g=u instanceof nt._NewRowTemplate?u:null,m=p.renderWidth,y=u.renderHeight,v=t.cellType,b="wj-cell",w={display:""};if(0!=o&&n.firstElementChild&&(1==n.childNodes.length&&"checkbox"==n.firstElementChild.type||(n.textContent="")),r&&!r.isSingleCell){e=r.row,i=r.col,d=r.row2,_=r.col2,u=h[e],p=c[i],f=u instanceof nt.GroupRow?u:null;var C=r.getRenderSize(t);y=C.height,m=C.width}var x=s._getBindingColumn(t,e,p),S=x.dataType==rt.DataType.Boolean&&!x.dataMap,E=p.pos,P=u.pos;if(s._useFrozenDiv()&&v==l.Cell&&!s.editRange?(e<h.frozen&&i>=c.frozen&&(E+=s._ptScrl.x),i<c.frozen&&e>=h.frozen&&(P+=s._ptScrl.y)):(e<h.frozen&&(P-=s._ptScrl.y),i<c.frozen&&(E-=s._ptScrl.x)),a?w.right=E+"px":w.left=E+"px",w.top=P-t._getOffsetY()+"px",w.width=m+"px",w.height=y+"px",w.zIndex="",(e<h.frozen||i<c.frozen)&&(w.zIndex=e<h.frozen&&i<c.frozen?2:1),v==l.Cell?(f&&(b+=" wj-group"),s.showAlternatingRows&&u.visibleIndex%2!=0&&(r&&r.row!=r.row2||(b+=" wj-alt")),(e<h.frozen||i<c.frozen)&&(b+=" wj-frozen"),g&&(b+=" wj-new"),u.cssClass&&(b+=" "+u.cssClass),x.cssClass&&(b+=" "+x.cssClass)):(b+=" wj-header",s.showAlternatingRows&&e%2!=0&&(b+=" wj-header-alt")),(v==l.Cell||v==l.RowHeader)&&s._getShowErrors()){var T=s._getError(t,e,i);rt.setAttribute(n,"title",T),T&&(b+=" wj-state-invalid")}var M=nt.SelectedState,A=t.getSelectedState(e,i,r);switch(A!=M.None&&v==l.Cell&&!S&&s.editRange&&s.editRange.contains(e,i)&&(A=M.None),A){case M.Active:b+=" wj-state-active";break;case M.Cursor:b+=" wj-state-selected wj-state-active";break;case M.Selected:b+=" wj-state-multi-selected"}if(d==h.frozen-1&&(b+=" wj-frozen-row"),_==c.frozen-1&&(b+=" wj-frozen-col"),(x.wordWrap||u.wordWrap)&&(b+=" wj-wrap"),(x.multiLine||u.multiLine)&&(b+=" wj-multiline"),w.textAlign=x.getAlignment(),w.textAlignLast=w.textJustify="","justify-all"==w.textAlign&&(w.textAlign=w.textAlignLast="justify",w.textJustify="distribute"),w.paddingLeft=w.paddingRight=w.paddingTop=w.paddingBottom="",v==l.Cell&&-1<s.rows.maxGroupLevel&&i==s.columns.firstVisibleIndex&&s.treeIndent){var R=f?Math.max(0,f.level):s.rows.maxGroupLevel+1,D=s.treeIndent*R+s._cellPadding;a?w.paddingRight=D+"px":w.paddingLeft=D+"px"}if(0!=o){var I=t.getCellData(e,i,!1),O=t.getCellData(e,i,!0);if(v==l.Cell&&i==s.columns.firstVisibleIndex&&f&&f.hasChildren&&!this._isEditingCell(s,e,i)){var L=this._getTreeBtn(f);O=rt.escapeHtml(O)||f.getGroupHeader(),n.innerHTML=L.outerHTML+" "+O,w.textAlign=""}else if(v==l.ColumnHeader&&x.currentSort&&s.showSort&&(d==s._getSortRowIndex()||x!=p))b+=" wj-sort-"+("+"==x.currentSort?"asc":"desc"),n.innerHTML=rt.escapeHtml(O)+"&nbsp;"+this._getSortIcon(x);else if(v!=l.RowHeader||i!=s.rowHeaders.columns.length-1||O)if(v!=l.Cell||x.dataType!=rt.DataType.Boolean||x.dataMap||f&&!rt.isBoolean(I))if(v==l.Cell&&this._isEditingCell(s,e,i)){var k=x.inputType;if(x.inputType||(k=x.dataType!=rt.DataType.Number||x.dataMap?"text":"tel"),!x.dataMap&&!x.mask){var j=t.getCellData(e,i,!1);if(rt.isNumber(j)){var N=j.toString(),F=x.format;if(F&&j!=Math.round(j)){var z=N.match(/\.(\d+)/)[1].length;F=F.replace(/([a-z])(\d*)(.*)/gi,"$01"+z+"$3")}O=rt.Globalize.formatNumber(j,F,!0)}}n.innerHTML=(x.multiLine||u.multiLine)&&"checkbox"!=k?'<textarea wrap="soft"></textarea>':'<input type="'+k+'"/>';var H=n.children[0];rt.addClass(H,"wj-grid-editor wj-form-control"),rt.disableAutoComplete(H),H.value=O,H.required=x.getIsRequired(),rt.setAttribute(H,"aria-required",H.required),x.maxLength&&(H.maxLength=x.maxLength),H.style.textAlign=x.getAlignment(),x.mask&&new rt._MaskProvider(H,x.mask),s._edtHdl._edt=H}else v==l.Cell&&(u.isContentHtml||x.isContentHtml)?n.innerHTML=O:n.textContent=O||"";else{var V=n.firstChild;V instanceof HTMLInputElement&&"checkbox"==V.type||(n.innerHTML='<input type="checkbox" class="wj-cell-check" tabindex="-1"/>',V=n.firstChild),V.checked=1==I,V.indeterminate=null==I,V.disabled=!s.canEditCell(e,i),V.disabled&&(V.style.cursor="default"),s.editRange&&s.editRange.contains(e,i)&&(s._edtHdl._edt=V)}else{var B=s.editableCollectionView,G=B?B.currentEditItem:null;G&&u.dataItem==G?n.innerHTML='<span class="wj-glyph-pencil"></span>':u instanceof nt._NewRowTemplate&&(n.innerHTML='<span class="wj-glyph-asterisk"></span>')}if(v==l.Cell&&rt.input&&x.dataMap&&s.showDropDown&&0!=x.showDropDown&&s.canEditCell(e,i)){if(!it._ddBtn){var Y=it._WJC_DROPDOWN;L=rt.createElement('<button class="wj-btn wj-btn-glyph wj-right '+Y+'" type="button" tabindex="-1"><span class="wj-glyph-down"></span></button>');rt.setAriaLabel(L,rt.culture.FlexGrid.ariaLabels.toggleDropDown),rt.setAttribute(L,"aria-expanded",!1),it._ddBtn=L}var X=it._ddBtn.cloneNode(!0);n.appendChild(X)}}var K=!1;switch(v){case l.RowHeader:K=!f&&!g&&u.allowDragging&&0!=(s.allowDragging&nt.AllowDragging.Rows),rt.setAttribute(n,"draggable",K?"true":null);break;case l.ColumnHeader:K=p.allowDragging&&0!=(s.allowDragging&nt.AllowDragging.Columns),rt.setAttribute(n,"draggable",K?"true":null)}n.className!=b&&(n.className=b);var W=n.style;for(var U in w)W[U]!==w[U]&&(W[U]=w[U]);if(s._edtHdl._edt&&s._edtHdl._edt.parentElement==n){var q=s._root,J=q.getBoundingClientRect(),Z=n.getBoundingClientRect(),$=J.top+q.clientHeight-Z.top,Q=J.left+q.clientWidth-Z.left;Z.height>$&&(n.style.height=$+"px"),Z.width>Q&&(n.style.width=Q+"px")}if(s.itemFormatter&&s.itemFormatter(t,e,i,n),s.formatItem.hasHandlers){var tt=it._fmtRng;tt?tt.setRange(e,i,d,_):tt=it._fmtRng=new nt.CellRange(e,i,d,_);var et=new nt.FormatItemEventArgs(t,tt,n);s.onFormatItem(et)}},it.prototype.disposeCell=function(t){},it.prototype.getEditorValue=function(t){var e=t._edtHdl._edt;if(e instanceof HTMLInputElement&&"checkbox"==e.type)return e.checked;if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){var i=e.maxLength;return rt.isNumber(i)&&-1<i&&e.value.length>i?e.value.substr(0,i):e.value}return null},it.prototype._isEditingCell=function(t,e,i){return t.editRange&&t.editRange.contains(e,i)},it.prototype._getTreeBtn=function(t){var e=it._WJC_COLLAPSE,i=(t.isCollapsed?"":"down-")+(t.grid.rightToLeft?"left":"right"),n=rt.createElement('<button class="wj-btn wj-btn-glyph '+e+'" type="button" tabindex="-1"><span class="wj-glyph-'+i+'"></span></button>');return rt.setAriaLabel(n,rt.culture.FlexGrid.ariaLabels.toggleGroup),rt.setAttribute(n,"aria-expanded",!t.isCollapsed),n},it.prototype._getSortIcon=function(t){return'<span class="wj-glyph-'+("+"==t.currentSort?"up":"down")+'"></span>'},it._WJC_COLLAPSE="wj-elem-collapse",it._WJC_DROPDOWN="wj-elem-dropdown",it}();nt.CellFactory=t}(rt.grid||(rt.grid={}))}(wijmo||(wijmo={})),function(r){!function(t){"use strict";var e=function(){function n(t,e,i,n){void 0===t&&(t=-1),void 0===e&&(e=-1),void 0===i&&(i=t),void 0===n&&(n=e),this.setRange(t,e,i,n)}return n.prototype.setRange=function(t,e,i,n){void 0===t&&(t=-1),void 0===e&&(e=-1),void 0===i&&(i=t),void 0===n&&(n=e),this._row=r.asInt(t),this._col=r.asInt(e),this._row2=r.asInt(i),this._col2=r.asInt(n)},Object.defineProperty(n.prototype,"row",{get:function(){return this._row},set:function(t){this._row=r.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"col",{get:function(){return this._col},set:function(t){this._col=r.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"row2",{get:function(){return this._row2},set:function(t){this._row2=r.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"col2",{get:function(){return this._col2},set:function(t){this._col2=r.asInt(t)},enumerable:!0,configurable:!0}),n.prototype.clone=function(){return new n(this._row,this._col,this._row2,this._col2)},Object.defineProperty(n.prototype,"rowSpan",{get:function(){return Math.abs(this._row2-this._row)+1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnSpan",{get:function(){return Math.abs(this._col2-this._col)+1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"topRow",{get:function(){return Math.min(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottomRow",{get:function(){return Math.max(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"leftCol",{get:function(){return Math.min(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rightCol",{get:function(){return Math.max(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isValid",{get:function(){return-1<this._row&&-1<this._col&&-1<this._row2&&-1<this._col2},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSingleCell",{get:function(){return this._row==this._row2&&this._col==this._col2},enumerable:!0,configurable:!0}),n.prototype.contains=function(t,e){var i=r.tryCast(t,n);if(i)return i.topRow>=this.topRow&&i.bottomRow<=this.bottomRow&&i.leftCol>=this.leftCol&&i.rightCol<=this.rightCol;if(r.isInt(t)&&r.isInt(e))return t>=this.topRow&&t<=this.bottomRow&&e>=this.leftCol&&e<=this.rightCol;throw"contains expects a CellRange or row/column indices."},n.prototype.containsRow=function(t){return r.asInt(t)>=this.topRow&&t<=this.bottomRow},n.prototype.containsColumn=function(t){return r.asInt(t)>=this.leftCol&&t<=this.rightCol},n.prototype.intersects=function(t){return this.intersectsRow(t)&&this.intersectsColumn(t)},n.prototype.intersectsRow=function(t){return t&&!(this.bottomRow<t.topRow||this.topRow>t.bottomRow)},n.prototype.intersectsColumn=function(t){return t&&!(this.rightCol<t.leftCol||this.leftCol>t.rightCol)},n.prototype.getRenderSize=function(t){var e=new r.Size(0,0);if(this.isValid){for(var i=this.topRow;i<=this.bottomRow;i++)e.height+=t.rows[i].renderSize;for(var n=this.leftCol;n<=this.rightCol;n++)e.width+=t.columns[n].renderSize}return e},n.prototype.equals=function(t){return t instanceof n&&this._row==t._row&&this._col==t._col&&this._row2==t._row2&&this._col2==t._col2},n}();t.CellRange=e}(r.grid||(r.grid={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(c){!function(a){"use strict";var l,t;(t=l=a.RowColFlags||(a.RowColFlags={}))[t.Visible=1]="Visible",t[t.AllowResizing=2]="AllowResizing",t[t.AllowDragging=4]="AllowDragging",t[t.AllowMerging=8]="AllowMerging",t[t.AllowSorting=16]="AllowSorting",t[t.AutoGenerated=32]="AutoGenerated",t[t.Collapsed=64]="Collapsed",t[t.ParentCollapsed=128]="ParentCollapsed",t[t.Selected=256]="Selected",t[t.ReadOnly=512]="ReadOnly",t[t.HtmlContent=1024]="HtmlContent",t[t.WordWrap=2048]="WordWrap",t[t.MultiLine=4096]="MultiLine",t[t.HasTemplate=8192]="HasTemplate",t[t.RowDefault=3]="RowDefault",t[t.ColumnDefault=23]="ColumnDefault";var e=function(){function t(){this._list=null,this._pos=0,this._idx=-1,this._vidx=-1}return Object.defineProperty(t.prototype,"visible",{get:function(){return this._getFlag(l.Visible)},set:function(t){this._setFlag(l.Visible,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return!!this._getFlag(l.Visible)&&(!this._getFlag(l.ParentCollapsed)||this instanceof a._NewRowTemplate)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pos",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._pos},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibleIndex",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this.isVisible?this._vidx:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._sz},set:function(t){t!=this._sz&&(this._sz=c.asNumber(t,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderSize",{get:function(){if(!this.isVisible)return 0;var t=this._sz,e=this._list;return e&&((null==t||t<0)&&(t=Math.round(e.defaultSize)),null!=e.minSize&&t<e.minSize&&(t=e.minSize),null!=e.maxSize&&t>e.maxSize&&(t=e.maxSize)),null!=this._szMin&&t<this._szMin&&(t=this._szMin),null!=this._szMax&&t>this._szMax&&(t=this._szMax),Math.round(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowResizing",{get:function(){return this._getFlag(l.AllowResizing)},set:function(t){this._setFlag(l.AllowResizing,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDragging",{get:function(){return this._getFlag(l.AllowDragging)},set:function(t){this._setFlag(l.AllowDragging,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowMerging",{get:function(){return this._getFlag(l.AllowMerging)},set:function(t){this._setFlag(l.AllowMerging,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSelected",{get:function(){return this._getFlag(l.Selected)},set:function(t){if(this._setFlag(l.Selected,t,!0)){var e=this.grid;e&&e.refreshCells(!1,!0,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._getFlag(l.ReadOnly)},set:function(t){this._setFlag(l.ReadOnly,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._getFlag(l.HtmlContent)},set:function(t){this.isContentHtml!=t&&(this._setFlag(l.HtmlContent,t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._getFlag(l.WordWrap)},set:function(t){this._setFlag(l.WordWrap,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multiLine",{get:function(){return this._getFlag(l.MultiLine)},set:function(t){this._setFlag(l.MultiLine,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){t!=this._cssClass&&(this._cssClass=c.asString(t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){return this._list?this._list._g:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this.grid?this.grid.collectionView:null},enumerable:!0,configurable:!0}),t.prototype.onPropertyChanged=function(){this._list&&(this._list._dirty=!0,this.grid.invalidate())},t.prototype._getFlag=function(t){return 0!=(this._f&t)},t.prototype._setFlag=function(t,e,i){return e!=this._getFlag(t)&&(this._f=e?this._f|t:this._f&~t,i||this.onPropertyChanged(),!0)},t}(),s=function(i){function n(t){var e=i.call(this)||this;return e._f=l.ColumnDefault,e._hash=n._ctr.toString(36),n._ctr++,t&&c.copy(e,t),e}return __extends(n,i),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataType",{get:function(){return this._type},set:function(t){t=c.asEnum(t,c.DataType),this._type!=t&&(this._type=t,this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isRequired",{get:function(){return this._required},set:function(t){this._required=c.asBoolean(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showDropDown",{get:function(){return this._showDropDown},set:function(t){t!=this._showDropDown&&(this._showDropDown=c.asBoolean(t,!0),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dropDownCssClass",{get:function(){return this._ddCssClass},set:function(t){this._ddCssClass=c.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inputType",{get:function(){return this._inpType},set:function(t){this._inpType=c.asString(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask=c.asString(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxLength",{get:function(){return this._maxLen},set:function(t){this._maxLen=c.asNumber(t,!0,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"binding",{get:function(){return this._binding?this._binding.path:null},set:function(t){if(t!=this.binding){var e=c.asString(t);if(this._binding=e?new c.Binding(e):null,!this._type&&this.grid&&this._binding){var i=this.grid.collectionView;if(i&&i.sourceCollection&&i.sourceCollection.length){var n=i.sourceCollection[0];this._type=c.getType(this._binding.getValue(n))}}this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortMemberPath",{get:function(){return this._bindingSort?this._bindingSort.path:null},set:function(t){if(t!=this.sortMemberPath){var e=c.asString(t);this._bindingSort=e?new c.Binding(e):null,this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return null!=this._szStar?this._szStar:this.size},set:function(t){null!=n._parseStarSize(t)?(this._szStar=t,this.onPropertyChanged()):(this._szStar=null,this.size=c.asNumber(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"minWidth",{get:function(){return this._szMin},set:function(t){t!=this._szMin&&(this._szMin=c.asNumber(t,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxWidth",{get:function(){return this._szMax},set:function(t){t!=this._szMax&&(this._szMax=c.asNumber(t,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(t){this._quickSize=c.asBoolean(t,!0)},enumerable:!0,configurable:!0}),n.prototype._getQuickAutoSize=function(){return!!this.grid._getQuickAutoSize()&&(c.isBoolean(this._quickSize)?this._quickSize:!(this.isContentHtml||this.wordWrap||this.multiLine||this._getFlag(l.HasTemplate)))},Object.defineProperty(n.prototype,"renderWidth",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"align",{get:function(){return this._align},set:function(t){this._align!=t&&(this._align=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),n.prototype.getAlignment=function(){var t=this._align;if(null==t&&(t="",!this._map))switch(this._type){case c.DataType.Boolean:t="center";break;case c.DataType.Number:t="right"}return t},n.prototype.getIsRequired=function(){return null!=this._required?this._required:this.dataType!=c.DataType.String||(null!=this.dataMap||null!=this._mask&&0<this._mask.length)},Object.defineProperty(n.prototype,"header",{get:function(){return this._hdr?this._hdr:this.binding},set:function(t){this._hdr!=t&&(this._hdr=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataMap",{get:function(){return this._map},set:function(t){this._map!=t&&(this._map&&this._map.mapChanged.removeHandler(this.onPropertyChanged,this),c.isArray(t)&&(t=new a.DataMap(t,null,null)),this._map=c.asType(t,a.DataMap,!0),this._map&&this._map.mapChanged.addHandler(this.onPropertyChanged,this),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"format",{get:function(){return this._fmt},set:function(t){this._fmt!=t&&(this._fmt=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"allowSorting",{get:function(){return this._getFlag(l.AllowSorting)},set:function(t){this._setFlag(l.AllowSorting,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentSort",{get:function(){var t=this.grid?this.grid.collectionView:null,e=t?t.sortDescriptions:null,i=e&&e.length?this._getBindingSort():null;if(i)for(var n=0;n<e.length;n++)if(e[n].property==i)return e[n].ascending?"+":"-";return null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"aggregate",{get:function(){return null!=this._agg?this._agg:c.Aggregate.None},set:function(t){(t=c.asEnum(t,c.Aggregate))!=this._agg&&(this._agg=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"describedById",{get:function(){return this._descById},set:function(t){t!=this._descById&&(this._descById=c.asString(t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),n.prototype._getBindingSort=function(){return this.sortMemberPath?this.sortMemberPath:this.binding?this.binding:null},n._parseStarSize=function(t){if(c.isString(t)&&0<t.length&&"*"==t[t.length-1]){var e=1==t.length?1:1*t.substr(0,t.length-1);if(0<e&&!isNaN(e))return e}return null},n._ctr=0,n}(a.RowCol=e);a.Column=s;var i=function(i){function t(t){var e=i.call(this)||this;return e._f=l.ColumnDefault,e._data=t,e}return __extends(t,i),Object.defineProperty(t.prototype,"dataItem",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.size},set:function(t){this.size=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderHeight",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),t}(e),n=function(e){function s(){var t=e.call(this)||this;return t._level=-1,t.isReadOnly=!0,t}return __extends(s,e),Object.defineProperty(s.prototype,"level",{get:function(){return this._level},set:function(t){c.asInt(t),t!=this._level&&(this._level=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hasChildren",{get:function(){if(null!=this.grid&&null!=this._list){this._list._update();var t=this.index<this._list.length-1?this._list[this.index+1]:null,e=c.tryCast(t,s),i=c.tryCast(t,a._NewRowTemplate);return null!=t&&null==i&&(null==e||e.level>this.level)}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isCollapsed",{get:function(){return this._getFlag(l.Collapsed)},set:function(t){c.asBoolean(t),t!=this.isCollapsed&&null!=this._list&&this._setCollapsed(t)},enumerable:!0,configurable:!0}),s.prototype.getGroupHeader=function(){var t=this.grid,e=t.groupHeaderFormat||c.culture.FlexGrid.groupHeaderFormat,i=c.tryCast(this.dataItem,c.collections.CollectionViewGroup);if(i&&e){var n=i.groupDescription.propertyName,r=i.name,o=t.getColumn(n),s=this.isContentHtml;o&&(s=s||o.isContentHtml,o.header&&(n=o.header),o.dataMap?r=o.dataMap.getDisplayValue(r):o.format&&(r=c.Globalize.format(r,o.format)));var a=i.getAggregate(c.Aggregate.CntAll,null,t.collectionView);return c.format(e,{name:c.escapeHtml(n),value:s?r:c.escapeHtml(r),level:i.level,count:a})}return""},s.prototype._setCollapsed=function(i){var n=this,t=this.grid,r=t.rows,o=this.getCellRange(),e=new a.CellRangeEventArgs(t.cells,new a.CellRange(this.index,-1));t.onGroupCollapsedChanging(e)&&(t.deferUpdate(function(){r.deferUpdate(function(){n._setFlag(l.Collapsed,i,!0);for(var t=o.topRow+1;t<=o.bottomRow&&-1<t&&t<r.length;t++){r[t]._setFlag(l.ParentCollapsed,i,!0);var e=r[t];e instanceof s&&e.isCollapsed&&(t=e.getCellRange().bottomRow)}})}),t.onGroupCollapsedChanged(e))},s.prototype.getCellRange=function(){for(var t=this._list,e=this.index,i=t.length-1,n=e+1;n<=i;n++){var r=c.tryCast(t[n],s);if(null!=r&&r.level<=this.level){i=n-1;break}}return new a.CellRange(e,0,i,this.grid.columns.length-1)},s}(a.Row=i);a.GroupRow=n;var r=function(n){function t(t,e){var i=n.call(this)||this;return i._frozen=0,i._vlen=0,i._szDef=28,i._szTot=0,i._dirty=!1,i._g=c.asType(t,a.FlexGrid),i._szDef=c.asNumber(e,!1,!0),i}return __extends(t,n),Object.defineProperty(t.prototype,"defaultSize",{get:function(){return this._szDef},set:function(t){this._szDef!=t&&(this._szDef=c.asNumber(t,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frozen",{get:function(){return this._frozen},set:function(t){t!=this._frozen&&(this._frozen=c.asNumber(t,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),t.prototype.isFrozen=function(t){return t<this.frozen},Object.defineProperty(t.prototype,"minSize",{get:function(){return this._szMin},set:function(t){t!=this._szMin&&(this._szMin=c.asNumber(t,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSize",{get:function(){return this._szMax},set:function(t){t!=this._szMax&&(this._szMax=c.asNumber(t,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getTotalSize=function(){return this._dirty&&this._update(),this._szTot},Object.defineProperty(t.prototype,"visibleLength",{get:function(){return this._dirty&&this._update(),this._vlen},enumerable:!0,configurable:!0}),t.prototype.getItemAt=function(t){if(this._dirty&&this._update(),t<=0&&0<this.length&&this[0].renderSize)return 0;t=Math.round(t);for(var e,i,n=this.length,r=0,o=n-1;r<=o;)if((i=this[e=r+o>>>1])._pos>t&&0<e)o=e-1;else{if(!(i._pos+i.renderSize<=t&&e<n-1)){for(;0<e&&!this[e].renderSize;)e--;for(;e<n-1&&!this[e].renderSize;)e++;return e}r=e+1}return o},t.prototype.getNextCell=function(t,e,i){var n,r=a.SelMove;switch(e){case r.Next:for(n=t+1;n<this.length;n++)if(0<this[n].renderSize)return n;break;case r.Prev:for(n=t-1;0<=n;n--)if(0<this[n].renderSize)return n;break;case r.End:for(n=this.length-1;0<=n;n--)if(0<this[n].renderSize)return n;break;case r.Home:for(n=0;n<this.length;n++)if(0<this[n].renderSize)return n;break;case r.NextPage:return(n=this.getItemAt(this[t].pos+i))<0?this.getNextCell(t,a.SelMove.End,i):n==t&&n<this.length-1&&this[n+1].renderSize?n+1:n;case r.PrevPage:return(n=this.getItemAt(this[t].pos-i))<0?this.getNextCell(t,a.SelMove.Home,i):n==t&&0<n&&this[n-1].renderSize?n-1:n}return t},t.prototype.canMoveElement=function(t,e){if(e==t)return!1;if(t<0||t>=this.length||e>=this.length)return!1;e<0&&(e=this.length-1);for(var i=Math.min(t,e),n=Math.max(t,e),r=i;r<=n;r++)if(!this[r].allowDragging)return!1;return!(this[e]instanceof a._NewRowTemplate)},t.prototype.moveElement=function(t,e){if(this.canMoveElement(t,e)){var i=this[t];this.removeAt(t),e<0&&(e=this.length),this.insert(e,i)}},t.prototype.onCollectionChanged=function(t){void 0===t&&(t=c.collections.NotifyCollectionChangedEventArgs.reset),this._dirty=!0,this._g.invalidate(),n.prototype.onCollectionChanged.call(this,t)},t.prototype.push=function(t){return t._list=this,n.prototype.push.call(this,t)},t.prototype.splice=function(t,e,i){return i&&(i._list=this),n.prototype.splice.call(this,t,e,i)},t.prototype.beginUpdate=function(){this._update(),n.prototype.beginUpdate.call(this)},t.prototype._update=function(){if(this._dirty&&!this.isUpdating){this._dirty=!1;for(var t=0,e=0,i=void 0,n=void 0,r=0;r<this.length;r++)(n=this[r])._idx=r,n._vidx=t,n._list=this,n._pos=e,0<(i=n.renderSize)&&(e+=i,t++);return this._vlen=t,this._szTot=e,!0}return!1},t}(c.collections.ObservableArray),o=function(i){function t(){var t=null!==i&&i.apply(this,arguments)||this;return t._firstVisible=-1,t}return __extends(t,i),t.prototype.getColumn=function(t){var e=c.isNumber(t)?t:this.indexOf(t);return-1<e?this[e]:null},t.prototype.indexOf=function(t){if(t instanceof s)return i.prototype.indexOf.call(this,t);for(var e=0;e<this.length;e++)if(this[e].name==t)return e;for(e=0;e<this.length;e++)if(this[e].binding==t)return e;return-1},Object.defineProperty(t.prototype,"describedById",{get:function(){return this._descById},set:function(t){t!=this._descById&&(this._descById=c.asString(t),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstVisibleIndex",{get:function(){return this._dirty&&this._update(),this._firstVisible},enumerable:!0,configurable:!0}),t.prototype._update=function(){if(i.prototype._update.call(this)){this._firstVisible=-1;for(var t=0;t<this.length;t++)if(this[t].visible){this._firstVisible=t;break}return!0}return!1},t.prototype._updateStarSizes=function(t){for(var e,i=0,n=0;n<this.length;n++){(o=this[n]).isVisible&&(o._szStar?(i+=s._parseStarSize(o._szStar),e=o):t-=o.renderWidth)}if(e){var r=t;for(n=0;n<this.length;n++){var o;(o=this[n]).isVisible&&o._szStar&&(o==e&&0<r?o._sz=r:(o._sz=Math.max(0,Math.round(s._parseStarSize(o._szStar)/i*t)),r-=o.renderWidth))}return this._dirty=!0,this._update(),!0}return!1},t}(a.RowColCollection=r);a.ColumnCollection=o;var h=function(i){function t(){var t=null!==i&&i.apply(this,arguments)||this;return t._maxLevel=-1,t}return __extends(t,i),Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this._ariaLabel},set:function(t){t!=this.ariaLabel&&(this._ariaLabel=c.asString(t),this._g&&this._g.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxGroupLevel",{get:function(){return this._dirty&&this._update(),this._maxLevel},enumerable:!0,configurable:!0}),t.prototype._update=function(){if(i.prototype._update.call(this)){this._maxLevel=-1;for(var t=0;t<this.length;t++){var e=c.tryCast(this[t],n);e&&e.level>this._maxLevel&&(this._maxLevel=e.level)}return!0}return!1},t}(r);a.RowCollection=h}(c.grid||(c.grid={}))}(wijmo||(wijmo={})),function(A){var e;!function(M){"use strict";var t=function(){function T(t,e){var i;if(this._row=-1,this._col=-1,this._edge=0,e instanceof Element){if(A.closest(e,".wj-flexgrid")!=t.hostElement)return;t=e}if(!(t instanceof Element)||t instanceof M.FlexGrid){if(t instanceof M.FlexGrid)i=this._g=t;else{if(!(t instanceof M.GridPanel))throw"First parameter should be a FlexGrid or GridPanel.";this._p=t,i=this._g=this._p.grid}var n;e instanceof MouseEvent&&"mousedown"==(n=e).type&&(i._rcBounds=null),e=A.mouseToPage(e),this._pt=e.clone();var r=i.controlRect,o=i._szClient,s=i.topLeftCells,a=i._eTL,l=i.headersVisibility,h=M.HeadersVisibility,c=l&h.Row?s.columns.getTotalSize():0,u=l&h.Column?s.rows.getTotalSize():0,p=l&h.Column?u+a.offsetTop:0,d=i._eBL,_=d.offsetHeight;if(e.x-=r.left,e.y-=r.top,this._g.rightToLeft&&(e.x=r.width-e.x),!this._p&&0<=e.x&&e.y>=a.offsetTop&&o&&e.x<=o.width+c&&e.y<=o.height+p&&(e.y<p?this._p=e.x<c?i.topLeftCells:i.columnHeaders:e.y<d.offsetTop?this._p=e.x<c?i.rowHeaders:i.cells:this._p=e.x<c?i.bottomLeftCells:i.columnFooters),null!=this._p){var f=this._p.rows,g=this._p.columns,m=this._p.cellType,y=M.CellType,v=this._p._getFrozenPos(),b=m==y.TopLeft||m==y.ColumnHeader?u:m==y.BottomLeft||m==y.ColumnFooter?_:f.getTotalSize(),w=m==y.TopLeft||m==y.BottomLeft||m==y.RowHeader?c:g.getTotalSize();m==y.RowHeader||m==y.Cell?(e.y-=u,(e.y>v.y||v.y<=0)&&(e.y-=i._ptScrl.y,e.y+=this._p._getOffsetY())):m!=y.BottomLeft&&m!=y.ColumnFooter||(e.y-=d.offsetTop),m!=y.ColumnHeader&&m!=y.Cell&&m!=y.ColumnFooter||(e.x-=c,(e.x>v.x||v.x<=0)&&(e.x-=i._ptScrl.x)),m!=y.ColumnHeader&&m!=y.TopLeft||(e.y-=p-u),this._edge=0;var C=T._SZEDGE[this._g.isTouching?1:0];if(this._g.isTouching&&(C=T._SZEDGE[1],e.x-=C/2),this._row=e.y>b?-1:f.getItemAt(e.y),this._col=e.x>w?-1:g.getItemAt(e.x),this._row<0||this._col<0)return void(this._p=null);if(-1<this._col){var x=g[this._col];e.x-x.pos<=C&&(this._edge|=1),x.pos+x.renderSize-e.x<=C&&(this._edge|=4)}if(-1<this._row){var S=f[this._row];e.y-S.pos<=C&&(this._edge|=2),S.pos+S.renderSize-e.y<=C&&(this._edge|=8)}}if(!(8&this._edge)&&n instanceof MouseEvent)(P=(E=A.closest(n.target,".wj-cell"))?E[M.GridPanel._INDEX_KEY]:null)&&!P.rng&&P.panel==this._p&&this._row!=P.row&&(this._row=P.row)}else{var E,P;(P=(E=A.closest(t,".wj-cell"))?E[M.GridPanel._INDEX_KEY]:null)&&(this._row=P.row,this._col=P.col,this._rng=P.rng,this._p=P.panel,this._g=P.panel.grid)}}return Object.defineProperty(T.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"cellType",{get:function(){return this._p?this._p.cellType:e.CellType.None},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"grid",{get:function(){return this._p?this._p.grid:null},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"row",{get:function(){return this._row},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"col",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"range",{get:function(){return this._rng||(this._rng=new M.CellRange(this._row,this._col)),this._rng},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"edgeLeft",{get:function(){return 0!=(1&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"edgeTop",{get:function(){return 0!=(2&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"edgeRight",{get:function(){return 0!=(4&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"edgeBottom",{get:function(){return 0!=(8&this._edge)},enumerable:!0,configurable:!0}),T._SZEDGE=[5,30],T}();M.HitTestInfo=t}(e=A.grid||(A.grid={}))}(wijmo||(wijmo={})),function(C){!function(b){"use strict";var w,t;(t=w=b.AllowMerging||(b.AllowMerging={}))[t.None=0]="None",t[t.Cells=1]="Cells",t[t.ColumnHeaders=2]="ColumnHeaders",t[t.RowHeaders=4]="RowHeaders",t[t.AllHeaders=6]="AllHeaders",t[t.All=7]="All";var e=function(){function t(t){this._g=t}return t.prototype.getMergedRange=function(t,e,i,n){void 0===n&&(n=!0);var r,o,s=t.cellType,a=t.columns,l=t.rows,h=l[e],c=a[i];if(h instanceof b._NewRowTemplate)return null;if(h instanceof b.GroupRow&&h.dataItem instanceof C.collections.CollectionViewGroup){if(r=new b.CellRange(e,i),c.aggregate==C.Aggregate.None){for(;0<r.col&&a[r.col-1].aggregate==C.Aggregate.None&&r.col!=a.frozen;)r.col--;for(;r.col2<a.length-1&&a[r.col2+1].aggregate==C.Aggregate.None&&r.col2+1!=a.frozen;)r.col2++}for(;r.col<i&&!a[r.col].visible;)r.col++;return r.isSingleCell?null:r}var u=!1;switch(this._g.allowMerging){case w.None:u=!0;break;case w.Cells:u=s!=b.CellType.Cell;break;case w.ColumnHeaders:u=s!=b.CellType.ColumnHeader&&s!=b.CellType.TopLeft;break;case w.RowHeaders:u=s!=b.CellType.RowHeader&&s!=b.CellType.TopLeft;break;case w.AllHeaders:u=s==b.CellType.Cell}if(u)return null;if(a[i].allowMerging){r=new b.CellRange(e,i);var p=0,d=l.length-1;e>=l.frozen?!n||s!=b.CellType.Cell&&s!=b.CellType.RowHeader||(p=(o=t._getViewRange()).topRow,d=o.bottomRow):d=l.frozen-1;for(var _=e-1;p<=_&&this._mergeCell(t,_,i,e,i);_--)r.row=_;for(var f=e+1;f<=d&&this._mergeCell(t,e,i,f,i);f++)r.row2=f;for(;r.row<e&&!l[r.row].visible;)r.row++;if(!r.isSingleCell)return r}if(l[e].allowMerging){r=new b.CellRange(e,i);var g=0,m=a.length-1;i>=a.frozen?!n||s!=b.CellType.Cell&&s!=b.CellType.ColumnHeader||(g=(o=t._getViewRange()).leftCol,m=o.rightCol):m=a.frozen-1;for(var y=i-1;g<=y&&this._mergeCell(t,e,y,e,i);y--)r.col=y;for(var v=i+1;v<=m&&this._mergeCell(t,e,i,e,v);v++)r.col2=v;for(;r.col<i&&!a[r.col].visible;)r.col++;if(!r.isSingleCell)return r}return null},t.prototype._mergeCell=function(t,e,i,n,r){var o=t.rows[e],s=t.rows[n];if(o instanceof b.GroupRow||o instanceof b._NewRowTemplate||s instanceof b.GroupRow||s instanceof b._NewRowTemplate)return!1;if(e!=n&&t.rows.isFrozen(e)!=t.rows.isFrozen(n))return!1;if(i!=r&&t.columns.isFrozen(i)!=t.columns.isFrozen(r))return!1;if(e!=n){if(0<i&&(o.allowMerging&&this._mergeCell(t,e,i-1,e,i)||s.allowMerging&&this._mergeCell(t,n,i-1,n,i)))return!1;if(r<t.columns.length-1&&(o.allowMerging&&this._mergeCell(t,e,r,e,r+1)||s.allowMerging&&this._mergeCell(t,n,r,n,r+1)))return!1}return t.getCellData(e,i,!0)==t.getCellData(n,r,!0)},t}();b.MergeManager=e}(C.grid||(C.grid={}))}(wijmo||(wijmo={})),function(o){!function(t){"use strict";var e=function(){function t(t,e,i){if(this.mapChanged=new o.Event,o.isArray(t)&&!e&&!i){for(var n=[],r=0;r<t.length;r++)n.push({value:t[r]});t=n,e=i="value"}this._cv=o.asCollectionView(t),this._keyPath=o.asString(e,!1),this._displayPath=o.asString(i,!1),this._cv.collectionChanged.addHandler(this.onMapChanged,this)}return Object.defineProperty(t.prototype,"sortByDisplayValues",{get:function(){return 1!=this._sortByKey},set:function(t){this._sortByKey=!o.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._keyPath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._displayPath},enumerable:!0,configurable:!0}),t.prototype.getKeyValue=function(t){var e=this._displayPath,i=this._indexOf(t,e,!0);return i<0&&(i=this._indexOf(t,e,!1)),-1<i?this._cv.sourceCollection[i][this._keyPath]:null},t.prototype.getDisplayValue=function(t){if(!this._hash){this._hash={};var e=this._cv.sourceCollection;if(e&&this._keyPath&&this._displayPath)for(var i=e.length-1;0<=i;i--){var n=e[i],r=n[this._keyPath],o=n[this._displayPath];this._hash[r]=o}}var s=this._hash[t];return null!=s?s:t},t.prototype.getDisplayValues=function(t){var e=[];if(this._cv&&this._displayPath)for(var i=this._cv.items,n=0;n<i.length;n++)e.push(i[n][this._displayPath]);return e},t.prototype.getKeyValues=function(){var t=[];if(this._cv&&this._keyPath)for(var e=this._cv.items,i=0;i<e.length;i++)t.push(e[i][this._keyPath]);return t},Object.defineProperty(t.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=o.asBoolean(t)},enumerable:!0,configurable:!0}),t.prototype.onMapChanged=function(t){this._hash=null,this.mapChanged.raise(this,t)},t.prototype._indexOf=function(t,e,i){var n=-1,r=-1;if(this._cv&&e)for(var o=null!=t?t.toString():"",s=i?o:o.toLowerCase(),a=this._cv.sourceCollection,l=0;l<a.length;l++){var h=a[l],c=h[e];if(c==t?n=l:i||c.length!=s.length||c.toLowerCase()!=s?null!=c&&c.toString()==o&&(n=l):n=l,n==l){if(!this._cv.filter||this._cv.filter(h))return n;r<0&&(r=n)}}return r},t}();t.DataMap=e}(o.grid||(o.grid={}))}(wijmo||(wijmo={})),function(_){!function(u){"use strict";var p,t,e,d,i;(t=p=u.SelectionMode||(u.SelectionMode={}))[t.None=0]="None",t[t.Cell=1]="Cell",t[t.CellRange=2]="CellRange",t[t.Row=3]="Row",t[t.RowRange=4]="RowRange",t[t.ListBox=5]="ListBox",(e=u.SelectedState||(u.SelectedState={}))[e.None=0]="None",e[e.Selected=1]="Selected",e[e.Cursor=2]="Cursor",e[e.Active=3]="Active",(i=d=u.SelMove||(u.SelMove={}))[i.None=0]="None",i[i.Next=1]="Next",i[i.Prev=2]="Prev",i[i.NextPage=3]="NextPage",i[i.PrevPage=4]="PrevPage",i[i.Home=5]="Home",i[i.End=6]="End",i[i.NextCell=7]="NextCell",i[i.PrevCell=8]="PrevCell";var n=function(){function t(t){this._sel=new u.CellRange(0,0),this._mode=p.CellRange,this._g=t}return Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._mode},set:function(t){if(t!=this._mode){var e=p;if(t==e.ListBox||this._mode==e.ListBox)for(var i=this._g.rows,n=0;n<i.length;n++){var r=i[n],o=t==p.ListBox&&this._sel.containsRow(n);r._setFlag(u.RowColFlags.Selected,o,!0)}switch(t){case e.None:this._sel.setRange(-1,-1);break;case e.Cell:this._sel.row2=this._sel.row,this._sel.col2=this._sel.col;break;case e.Row:this._sel.row2=this._sel.row}this._mode=t,this._g.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){return this._sel},set:function(t){this.select(t)},enumerable:!0,configurable:!0}),t.prototype.select=function(t,e){void 0===e&&(e=!0),_.isNumber(t)&&_.isNumber(e)&&(t=new u.CellRange(t,e),e=!0),t=_.asType(t,u.CellRange);var i=this._g,n=this._sel,r=t,o=!1,s=p;switch(i.selectionMode){case s.Cell:t.row2=t.row,t.col2=t.col;break;case s.Row:t.row2=t.row;break;case s.ListBox:o=!0}var a=r.equals(n);if(o&&-1<r.row&&!i.rows[r.row].isSelected&&(a=!1),a)e&&i.scrollIntoView(r.row,r.col);else{var l=new u.CellRangeEventArgs(i.cells,r);if(i.onSelectionChanging(l)){if(o&&(r.row!=n.row||1<r.rowSpan||1<n.rowSpan)){for(var h=0;h<i.rows.length;h++)i.rows[h]._setFlag(u.RowColFlags.Selected,r.containsRow(h),!0);i.refreshCells(!1,!0,!0)}if(r.row=Math.min(r.row,i.rows.length-1),r.row2=Math.min(r.row2,i.rows.length-1),this._sel=r,i.refreshCells(!1,!0,!0),e&&i.scrollIntoView(r.row,r.col),i.collectionView){var c=i._getCvIndex(r.row);i.collectionView.moveCurrentToPosition(c)}i.onSelectionChanged(l)}}},t.prototype.moveSelection=function(t,e,i){var n,r,o=this._g,s=o.rows,a=o.columns,l=this._getReferenceCell(t,e,i),h=Math.max(0,o._szClient.height-o.columnHeaders.height);if(e==d.NextCell)r=a.getNextCell(l.col,d.Next,h),n=l.row,r==l.col&&(n=s.getNextCell(n,d.Next,h))>l.row&&(r=a.getNextCell(0,d.Next,h),r=a.getNextCell(r,d.Prev,h)),o.select(n,r);else if(e==d.PrevCell)r=a.getNextCell(l.col,d.Prev,h),n=l.row,r==l.col&&(n=s.getNextCell(n,d.Prev,h))<l.row&&(r=a.getNextCell(a.length-1,d.Prev,h),r=a.getNextCell(r,d.Next,h)),o.select(n,r);else if(n=s.getNextCell(l.row,t,h),r=a.getNextCell(l.col,e,h),i){var c=o._selHdl._sel;o.select(new u.CellRange(n,r,c.row2,c.col2))}else o.select(n,r)},t.prototype._getReferenceCell=function(t,e,i){var n=this._g,r=n._selHdl._sel,o=n.getMergedRange(n.cells,r.row,r.col);if(!o||o.isSingleCell)return r;switch(o=o.clone(),t){case d.Next:case d.NextCell:o.row=o.bottomRow;break;case d.None:o.row=r.row}switch(e){case d.Next:case d.NextCell:o.col=o.rightCol;break;case d.None:o.col=r.col}return o},t.prototype._adjustSelection=function(t){switch(this._mode){case p.Cell:return new u.CellRange(t.row,t.col,t.row,t.col);case p.Row:return new u.CellRange(t.row,0,t.row,this._g.columns.length-1);case p.RowRange:case p.ListBox:return new u.CellRange(t.row,0,t.row2,this._g.columns.length-1)}return t},t}();u._SelectionHandler=n}(_.grid||(_.grid={}))}(wijmo||(wijmo={})),function(m){!function(g){"use strict";var o,t;(t=o=g.KeyAction||(g.KeyAction={}))[t.None=0]="None",t[t.MoveDown=1]="MoveDown",t[t.MoveAcross=2]="MoveAcross",t[t.Cycle=3]="Cycle",t[t.CycleOut=4]="CycleOut";var e=function(){function t(t){this._kaTab=o.None,this._kaEnter=o.MoveDown;var e=(this._g=t).hostElement;t.addEventListener(e,"keypress",this._keypress.bind(this)),t.addEventListener(e,"keydown",this._keydown.bind(this))}return t.prototype._keydown=function(t){var e=this._g,i=e.selection,n=t.ctrlKey||t.metaKey,r=t.shiftKey,o=(t.target,!0);if(this._altDown=!1,!e._wantsInput(t.target)){var s=t.defaultPrevented&&!(t.target instanceof HTMLInputElement);if(e.isRangeValid(i)&&!s&&(!e.activeEditor||!e._edtHdl._keydown(t))){var a=m.tryCast(e.rows[i.row],g.GroupRow),l=e.editableCollectionView,h=t.keyCode;if(e.autoClipboard){if(n&&(67==h||45==h)){var c=new g.CellRangeEventArgs(e.cells,i);if(e.onCopying(c)){var u=e.getClipString()+"\r\n";m.Clipboard.copy(u),e.onCopied(c)}return void t.stopPropagation()}if(n&&86==h||r&&45==h)return e.isReadOnly||m.Clipboard.paste(function(t){e.setClipString(t)}),void t.stopPropagation()}if(e.rightToLeft)switch(h){case m.Key.Left:h=m.Key.Right;break;case m.Key.Right:h=m.Key.Left}var p=g.SelMove,d=g.SelectionMode;switch(h){case m.Key.Space:if(r&&i.isValid)switch(e.selectionMode){case d.CellRange:case d.Row:case d.RowRange:case d.ListBox:e.select(new g.CellRange(i.row,0,i.row,e.columns.length-1))}else if(n&&i.isValid)switch(e.selectionMode){case d.CellRange:e.select(new g.CellRange(0,i.col,e.rows.length-1,i.col))}else(o=this._startEditing(!0,t))&&setTimeout(function(){var t=e.activeEditor;t&&(t.disabled||t.readOnly?e.finishEditing():"checkbox"==t.type?(t.checked=!t.checked,e.finishEditing()):m.setSelectionRange(t,t.value.length))});break;case 65:if(n)switch(e.selectionMode){case d.CellRange:case d.Row:case d.RowRange:case d.ListBox:e.select(new g.CellRange(0,0,e.rows.length-1,e.columns.length-1))}else o=!1;break;case m.Key.Left:n||t.altKey?o=!1:i.isValid&&0==i.col&&null!=a&&!a.isCollapsed&&a.hasChildren?a.isCollapsed=!0:this._moveSel(p.None,n?p.Home:p.Prev,r);break;case m.Key.Right:n||t.altKey?o=!1:i.isValid&&0==i.col&&null!=a&&a.isCollapsed?a.isCollapsed=!1:this._moveSel(p.None,n?p.End:p.Next,r);break;case m.Key.Up:n?o=!1:(this._altDown=t.altKey,t.altKey?o=e._edtHdl._toggleListBox(t):this._moveSel(p.Prev,p.None,r));break;case m.Key.Down:n?o=!1:(this._altDown=t.altKey,t.altKey?o=e._edtHdl._toggleListBox(t):this._moveSel(p.Next,p.None,r));break;case m.Key.PageUp:if(this._altDown=t.altKey,this._moveSel(t.altKey?p.Home:p.PrevPage,p.None,r),e.rows.frozen&&e.selection.row<e.rows.frozen){var _=e.scrollPosition;_.y&&(e.scrollPosition=new m.Point(_.x,0))}break;case m.Key.PageDown:this._altDown=t.altKey,this._moveSel(t.altKey?p.End:p.NextPage,p.None,r);break;case m.Key.Home:this._moveSel(n?p.Home:p.None,p.Home,r);break;case m.Key.End:this._moveSel(n?p.End:p.None,p.End,r);break;case m.Key.Tab:o=this._performKeyAction(e.keyActionTab,r);break;case m.Key.Enter:o=this._performKeyAction(e.keyActionEnter,r),!r&&l&&null!=l.currentEditItem&&e._edtHdl._commitRowEdits();break;case m.Key.Escape:if(o=!1,l&&(l.currentAddItem||l.currentEditItem)){var f=new g.CellRangeEventArgs(e.cells,e.selection);f.cancel=!0,e.onRowEditEnding(f),l.currentAddItem&&l.cancelNew(),l.currentEditItem&&l.cancelEdit(),e.onRowEditEnded(f),o=!0}e._mouseHdl.resetMouseState();break;case m.Key.Delete:case m.Key.Back:o=this._deleteSel(t);break;case m.Key.F2:o=this._startEditing(!0,t);break;case m.Key.F4:o=e._edtHdl._toggleListBox(t);break;default:o=!1}o&&(e.containsFocus()||e.focus(),t.preventDefault(),t.stopPropagation())}}},t.prototype._performKeyAction=function(t,e){var i=o,n=g.SelMove;switch(t){case i.MoveDown:return this._moveSel(e?n.Prev:n.Next,n.None,!1),!0;case i.MoveAcross:return this._moveSel(n.None,e?n.Prev:n.Next,!1),!0;case i.Cycle:return this._moveSel(n.None,e?n.PrevCell:n.NextCell,!1),!0;case i.CycleOut:var r=this._g.selection;return this._moveSel(n.None,e?n.PrevCell:n.NextCell,!1),!r.equals(this._g.selection)}return!1},t.prototype._keypress=function(t){var e=this,i=this._g;if(!i._wantsInput(t.target)&&!t.defaultPrevented)if(this._altDown)t.preventDefault();else if(i.activeEditor)i._edtHdl._keypress(t);else if(t.charCode>m.Key.Space)if(this._startEditing(!1,t)&&i.activeEditor){var n=m.getActiveElement();if(n instanceof HTMLInputElement&&"checkbox"!=n.type||n instanceof HTMLTextAreaElement){var r=i._selHdl.selection,o=i.getCellData(r.row,r.col,!0),s=i.getCellData(r.row,r.col,!1);n.value=String.fromCharCode(t.charCode),m.isNumber(s)&&-1<o.indexOf("%")&&(n.value+="%"),m.setSelectionRange(n,1),n.dispatchEvent(i._edtHdl._evtInput),i._edtHdl._keypress(t),t.preventDefault()}}else if(i.autoSearch){var a=!1;r=i._selHdl.selection;if(32<t.charCode||32==t.charCode&&this._search){t.preventDefault(),this._search+=String.fromCharCode(t.charCode).toLowerCase(),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){e._toSearch=null,e._search=""},m.Control._SEARCH_DELAY);var l=this._findNext(r.row,r.col);l<0&&1<this._search.length&&(this._search=this._search[this._search.length-1],l=this._findNext(r.row,r.col)),-1<l&&(a=!0,i.select(l,r.col))}a||(this._search="")}},t.prototype._findNext=function(t,e){var i=this._g,n=i.rows.length;(t<0||1==this._search.length)&&t++;for(var r=0;r<n;r++){var o=(t+r)%n;if(0==i.getCellData(o,e,!0).trim().toLowerCase().indexOf(this._search))return o}return-1},t.prototype._moveSel=function(t,e,i){this._g.selectionMode!=g.SelectionMode.None&&this._g._selHdl.moveSelection(t,e,i)},t.prototype._deleteSel=function(t){var o=this._g,s=o.editableCollectionView,a=o.selection,e=o.rows,i=[],l=new g.CellRange,h=new g.CellEditEndingEventArgs(o.cells,l,t),n=g.SelectionMode;if(o.allowDelete&&!o.isReadOnly&&(null==s||s.canRemove&&!s.isAddingNew&&!s.isEditingItem))switch(o.selectionMode){case n.CellRange:if(0==a.leftCol&&a.rightCol==o.columns.length-1)for(var r=a.topRow;-1<r&&r<=a.bottomRow;r++)i.push(e[r]);break;case n.ListBox:for(r=0;r<e.length;r++)e[r].isSelected&&i.push(e[r]);break;case n.Row:-1<a.topRow&&i.push(e[a.topRow]);break;case n.RowRange:for(r=a.topRow;-1<r&&r<=a.bottomRow;r++)i.push(e[r])}if(0<i.length){if(o.deferUpdate(function(){s&&s.beginUpdate();for(var t=i.length-1;0<=t;t--){var e=i[t];l.setRange(e.index,-1),o.onDeletingRow(h)&&(s&&e.dataItem?s.remove(e.dataItem):o.rows.removeAt(e.index),o.onDeletedRow(h))}s&&s.endUpdate()}),o.selectionMode==n.ListBox){var c=o.selection.row;-1<c&&c<o.rows.length&&(o.rows[c].isSelected=!0)}return o.childItemsPath&&o.collectionView&&o.collectionView.refresh(),!0}if(!o.isReadOnly&&0==i.length){var u=!1,p=o.scrollPosition;return o.deferUpdate(function(){for(var t=a.topRow;t<=a.bottomRow;t++){var e=o.rows[t];if(!e.isReadOnly)for(var i=a.leftCol;i<=a.rightCol;i++){var n=o._getBindingColumn(o.cells,t,o.columns[i]);if(!n.getIsRequired()&&!n.isReadOnly&&o.getCellData(t,i,!0)&&(l.setRange(t,i),h.cancel=!1,o.onBeginningEdit(h))){if(s){var r=s.currentEditItem;!u&&r&&r!=e.dataItem&&(u=!0,s.beginUpdate()),r=e.dataItem,s.editItem(r),o._edtHdl._edItem=r}o.setCellData(t,i,"",!0,!1),o.onCellEditEnding(h),o.onCellEditEnded(h)}}}o.selection=a,o.scrollPosition=p,u&&s.endUpdate()}),!0}return!1},t.prototype._startEditing=function(t,e,i,n){return this._g._edtHdl.startEditing(t,i,n,!0,e)},t}();g._KeyboardHandler=e}(m.grid||(m.grid={}))}(wijmo||(wijmo={})),function(_){!function(d){"use strict";var h,t,e,l,i,s="wj-state-dragsrc";(t=h=d.AllowResizing||(d.AllowResizing={}))[t.None=0]="None",t[t.Columns=1]="Columns",t[t.Rows=2]="Rows",t[t.Both=3]="Both",t[t.ColumnsAllCells=4|t.Columns]="ColumnsAllCells",t[t.RowsAllCells=4|t.Rows]="RowsAllCells",t[t.BothAllCells=4|t.Both]="BothAllCells",(e=d.AutoSizeMode||(d.AutoSizeMode={}))[e.None=0]="None",e[e.Headers=1]="Headers",e[e.Cells=2]="Cells",e[e.Both=3]="Both",(i=l=d.AllowDragging||(d.AllowDragging={}))[i.None=0]="None",i[i.Columns=1]="Columns",i[i.Rows=2]="Rows",i[i.Both=3]="Both";var n=function(){function p(o){var s=this;this._tsLast=0;var t=o.hostElement;this._g=o,this._dvMarker=_.createElement('<div class="wj-marker">&nbsp;</div>'),o.addEventListener(t,"mousedown",function(t){if(o._rcBounds=null,!t.defaultPrevented&&0==t.button){var e=t.target;if(!o.containsFocus()){var i=e instanceof HTMLElement&&-1<e.tabIndex?e:o._eFocus;o._setFocusNoScroll(i)}if(setTimeout(function(){t.defaultPrevented||o.focus()}),_.closest(t.target,".wj-flexgrid")!=o.hostElement||!o.activeEditor&&o._isInputElement(e)){var n=o.hitTest(t);switch(n.cellType){case d.CellType.Cell:o.select(n.range,!1),e.focus();break;case d.CellType.ColumnHeader:case d.CellType.ColumnFooter:o.scrollIntoView(-1,n.col);break;case d.CellType.RowHeader:o.scrollIntoView(n.row,-1)}return}var r=document;o.removeEventListener(r,"mousemove"),o.removeEventListener(r,"mouseup"),o.addEventListener(r,"mousemove",a),o.addEventListener(r,"mouseup",l),s._isDown=!0,s._mousedown(t)}});var a=function(t){s._mousemove(t)},l=function(t){s._isDown=!1,o.removeEventListener(document,"mousemove"),o.removeEventListener(document,"mouseup"),s._mouseup(t)};o.addEventListener(t,"mouseup",function(t){s._tsLast=Date.now()}),o.addEventListener(t,"mouseenter",function(t){o._rcBounds=null}),o.addEventListener(t,"mousemove",this._hover.bind(this)),o.addEventListener(t,"dblclick",this._dblclick.bind(this)),o.addEventListener(t,"click",this._click.bind(this)),o.addEventListener(t,"selectstart",function(t){o._isInputElement(t.target)||t.preventDefault()}),o.addEventListener(t,"wheel",function(t){var e=o.cells.hostElement.parentElement,i=t.deltaY;if(i&&!t.ctrlKey&&!t.metaKey&&e.scrollHeight>e.offsetHeight&&_.closest(t.target,".wj-flexgrid")==o.hostElement){switch(t.deltaMode){case 1:e.scrollTop+=o.rows.defaultSize*(i<0?-1:1);break;case 2:e.scrollTop+=e.clientHeight*(i<0?-1:1);break;case 0:default:_.isSafari()&&(i=_.clamp(i,-150,150)),e.scrollTop+=i}t.preventDefault(),t.stopImmediatePropagation()}}),o.addEventListener(t,"dragstart",this._dragstart.bind(this)),o.addEventListener(t,"dragover",this._dragover.bind(this)),o.addEventListener(t,"dragleave",this._dragover.bind(this)),o.addEventListener(t,"drop",this._drop.bind(this)),o.addEventListener(t,"dragend",this._dragend.bind(this)),this._enableTouchResizing()}return p.prototype.resetMouseState=function(){this._dragSrc&&_.removeClass(this._dragSrc,s),this._showDragMarker(null);var t=this._g.hostElement;t&&(t.style.cursor="");var e=this._g;e.removeEventListener(document,"mousemove"),e.removeEventListener(document,"mouseup"),this._tsLast=Date.now(),this._eMouse=null,this._isDown=null,this._htDown=null,this._lbSelRows=null,this._szRowCol=null,this._szArgs=null},p.prototype._enableTouchResizing=function(){var i=this,n=this._g,r=n.hostElement,t="ontouchstart"in window?["touchstart","touchmove","touchend"]:"onpointerdown"in window?["pointerdown","pointermove","pointerup"]:null;t&&(n.addEventListener(r,t[0],function(t){if((null==t.pointerType||"touch"==t.pointerType)&&!_.closest(t.target,".wj-elem-filter")){var e=_.closest(t.target,".wj-cell");e instanceof HTMLElement&&(n._rcBounds=null,i._htDown=null,i._hover(t),i._szRowCol&&(e.removeAttribute("draggable"),r.style.touchAction="none",i._mousedown(t),t.preventDefault()))}}),n.addEventListener(r,t[1],function(t){null!=t.pointerType&&"touch"!=t.pointerType||i._szRowCol&&(i._mousemove(t),t.preventDefault())}),n.addEventListener(r,t[2],function(t){if(_.Control._touching=!1,(null==t.pointerType||"touch"==t.pointerType)&&i._szRowCol){if(i._szArgs)i._finishResizing(i._eMouse);else{var e=_.closest(t.target,".wj-cell");e instanceof HTMLElement&&e.click()}i.resetMouseState(),r.style.touchAction=""}}))},p.prototype._mousedown=function(t){var e=this._g,i=e.hitTest(t),n=i.cellType,r=t.ctrlKey||t.metaKey,o=t.target;if(this._selDown=e.selection,i.panel==e.cells){if(_.closestClass(o,d.CellFactory._WJC_DROPDOWN))return e._edtHdl._toggleListBox(t,i.range),void t.preventDefault();if(e.editRange&&e.editRange.contains(i.range))return}var s=_.getActiveElement();if(o!=s||!e._isInputElement(o)){if(n==d.CellType.None)return e.finishEditing(),void(o!=e._root&&o!=e._fCt&&e._edtHdl._commitRowEdits());if(this._htDown=i,this._eMouse=t,null!=this._szRowCol)return s!=e._eFocus&&(e._eFocus.tabIndex=0,e._eFocus.focus()),void this._handleResizing(t);switch(n){case d.CellType.Cell:r&&e.selectionMode==d.SelectionMode.ListBox&&this._startListBoxSelection(i.row),this._mouseSelect(t,t.shiftKey);break;case d.CellType.RowHeader:0==(this._g.allowDragging&l.Rows)&&(r&&e.selectionMode==d.SelectionMode.ListBox&&this._startListBoxSelection(i.row),this._mouseSelect(t,t.shiftKey),t.preventDefault(),e.focus())}if(n==d.CellType.Cell&&-1<e.rows.maxGroupLevel&&_.closestClass(o,d.CellFactory._WJC_COLLAPSE)){var a=_.tryCast(e.rows[i.row],d.GroupRow);if(a)return r?e.collapseGroupsToLevel(a.isCollapsed?a.level+1:a.level):a.isCollapsed=!a.isCollapsed,void this.resetMouseState()}}},p.prototype._mousemove=function(t){if(null!=this._htDown){if(0==t.buttons&&this._eMouse&&600<t.timeStamp-this._eMouse.timeStamp)return void this.resetMouseState();if(this._eMouse=t,this._szRowCol)this._handleResizing(t);else switch(this._htDown.cellType){case d.CellType.Cell:this._mouseSelect(t,!0);break;case d.CellType.RowHeader:0==(this._g.allowDragging&l.Rows)&&this._mouseSelect(t,!0)}}},p.prototype._mouseup=function(t){if(!this._g.isTouching||!(this._dragSrc||t.target instanceof HTMLHtmlElement)){var e=this._g,i=e.hitTest(t),n=this._htDown,r=d.SelectionMode;if(n&&!t.defaultPrevented)if(this._szArgs)this._finishResizing(t);else if(n.panel!=e.topLeftCells||this._szArgs)n.panel!=e.columnHeaders||t.dataTransfer?n.panel==e.cells&&(t.ctrlKey||t.metaKey||t.shiftKey||i.panel==n.panel&&i.range.equals(n.range)&&e.selection.equals(this._selDown)&&e._edtHdl.startEditing(!0,i.row,i.col,!0,t)):i.panel==n.panel&&i.col==n.col&&!i.edgeRight&&-1<i.col&&this._clickSort(t,i);else if(i.panel==n.panel&&i.row==n.row&&i.col==n.col&&e.rows.length&&e.columns.length)switch(e.selectionMode){case r.CellRange:case r.RowRange:case r.ListBox:e.select(new d.CellRange(0,0,e.rows.length-1,e.columns.length-1))}this.resetMouseState()}},p.prototype._click=function(t){50<Date.now()-this._tsLast&&!t.pointerType&&this._handleClick(t)},p.prototype._handleClick=function(t){var e=this._g,i=t.target,n=new d.HitTestInfo(i,null),r=n.panel;if(!t.defaultPrevented&&n.grid==e&&!e._isInputElement(i))if(r==e.topLeftCells)e.select(new d.CellRange(0,0,e.rows.length-1,e.columns.length-1));else if(r==e.columnHeaders)this._clickSort(t,n);else if(r==e.rowHeaders)e.select(new d.CellRange(n.row,0,n.row,e.columns.length-1));else if(r==e.cells)if(n.row<0)this._clickSort(t,n);else if(_.closestClass(i,d.CellFactory._WJC_COLLAPSE)){var o=e.rows[n.row];o instanceof d.GroupRow&&(t.ctrlKey?e.collapseGroupsToLevel(o.isCollapsed?o.level+1:o.level):o.isCollapsed=!o.isCollapsed)}else _.closestClass(i,d.CellFactory._WJC_DROPDOWN)?e._edtHdl._toggleListBox(t,n.range):e.select(n.range)},p.prototype._clickSort=function(t,e){var i=this._g,n=i.collectionView,r=t.ctrlKey||t.metaKey;if(n&&n.canSort&&i.allowSorting){e.range.bottomRow;var o=e.panel.columns[e.col],s=i._getBindingColumn(e.panel,e.row,o),a=s?s._getBindingSort():null;if(s.allowSorting&&a){for(var l=e.grid.collectionView.sortDescriptions,h=null,c=0;c<l.length;c++)if(l[c].property==a){h=!l[c].ascending;break}if(null==h){if(r)return;h=!0}var u=new d.CellRangeEventArgs(e.panel,e.range,t);i.onSortingColumn(u)&&(i._edtHdl._commitRowEdits(),r?l.clear():l.splice(0,l.length,new _.collections.SortDescription(a,h)),i.onSortedColumn(u))}}},p.prototype._dblclick=function(t){var e,i=this._g,n=i.hitTest(t),r=n.cellType,o=i.selection,s=n.range;if(!t.defaultPrevented)if(n.edgeRight&&i.allowResizing&h.Columns){if(r==d.CellType.ColumnHeader||r==d.CellType.Cell&&4&i.allowResizing){t.preventDefault(),t.ctrlKey&&o.containsColumn(n.col)&&(s=o);for(var a=s.leftCol;a<=s.rightCol;a++)i.columns[a].allowResizing&&(e=new d.CellRangeEventArgs(i.cells,new d.CellRange(-1,a)),i.onAutoSizingColumn(e)&&i.onResizingColumn(e)&&(i.autoSizeColumn(a),i.onResizedColumn(e),i.onAutoSizedColumn(e)))}else r==d.CellType.TopLeft&&n.panel.columns[n.col].allowResizing&&(t.preventDefault(),e=new d.CellRangeEventArgs(n.panel,new d.CellRange(-1,n.col)),i.onAutoSizingColumn(e)&&i.onResizingColumn(e)&&(i.autoSizeColumn(n.col,!0),i.onAutoSizedColumn(e),i.onResizedColumn(e)));this.resetMouseState()}else if(n.edgeBottom&&i.allowResizing&h.Rows){if(r==d.CellType.RowHeader||r==d.CellType.Cell&&4&i.allowResizing){t.ctrlKey&&o.containsRow(n.row)&&(s=o);for(var l=s.topRow;l<=s.bottomRow;l++)i.rows[l].allowResizing&&(e=new d.CellRangeEventArgs(i.cells,new d.CellRange(l,-1)),i.onAutoSizingRow(e)&&i.onResizingRow(e)&&(i.autoSizeRow(l),i.onResizedRow(e),i.onAutoSizedRow(e)))}else r==d.CellType.TopLeft&&n.panel.rows[n.row].allowResizing&&(e=new d.CellRangeEventArgs(n.panel,new d.CellRange(n.row,-1)),i.onAutoSizingRow(e)&&i.onResizingRow(e)&&(i.autoSizeRow(n.row,!0),i.onResizedRow(e),i.onAutoSizedRow(e)));this.resetMouseState()}else;},p.prototype._hover=function(t){if(!this._isDown){var e=this._g,i=e.hitTest(t),n=(i.panel,i.cellType),r="";return this._szRowCol=null,(n==d.CellType.ColumnHeader||n==d.CellType.TopLeft||n==d.CellType.Cell&&4&e.allowResizing)&&i.edgeRight&&0!=(e.allowResizing&h.Columns)&&(this._szRowCol=this._getResizeCol(i)),(n==d.CellType.RowHeader||n==d.CellType.TopLeft||n==d.CellType.Cell&&4&e.allowResizing)&&i.edgeBottom&&0!=(e.allowResizing&h.Rows)&&(this._szRowCol=this._getResizeRow(i)),this._szRowCol instanceof d.Column?r="col-resize":this._szRowCol instanceof d.Row&&(r="row-resize"),this._szStart=this._szRowCol?this._szRowCol.renderSize:0,e.hostElement.style.cursor=r,i}return null},p.prototype._getResizeCol=function(t){for(var e=t.panel.columns,i=e[t.col],n=t.col+1;n<e.length;n++){if((r=e[n]).visible){r.renderSize<1&&(i=r);break}}if(t.col==e.length-1&&(t.cellType==d.CellType.TopLeft||t.cellType==d.CellType.RowHeader)){e=this._g.columns;for(n=0;n<e.length;n++){var r;if((r=e[n]).visible){r.renderSize<1&&(i=r);break}}}return i.allowResizing?i:null},p.prototype._getResizeRow=function(t){for(var e=t.panel.rows,i=e[t.row],n=t.row+1;n<e.length;n++){if((r=e[n]).visible){r.renderSize<1&&(i=r);break}}if(t.row==e.length-1&&(t.cellType==d.CellType.TopLeft||t.cellType==d.CellType.ColumnHeader)){e=this._g.rows;for(n=0;n<e.length;n++){var r;if((r=e[n]).visible){r.renderSize<1&&(i=r);break}}}return i.allowResizing?i:null},p.prototype._mouseSelect=function(t,e){var i=this,n=this._g;if(t&&this._htDown&&this._htDown.panel&&n.selectionMode!=d.SelectionMode.None){var r=new d.HitTestInfo(this._htDown.panel,t);this._handleSelection(r,e),!_.isIE9()&&0<=t.button&&t.target!=n._root&&(r=new d.HitTestInfo(n,t)).cellType!=d.CellType.Cell&&r.cellType!=d.CellType.RowHeader&&this._eMouse&&setTimeout(function(){i._eMouse&&i._mouseSelect(i._eMouse,e)},100)}},p.prototype._handleResizing=function(t){if(t.preventDefault(),this._szRowCol instanceof d.Column){var e=this._g,i=_.mouseToPage(t).x,n=Math.round(Math.max(p._SZ_MIN,this._szStart+(i-this._htDown.point.x)*(e.rightToLeft?-1:1)));if(this._szRowCol.renderSize!=n){if(null==this._szArgs){var r=-1<e.rowHeaders.columns.indexOf(this._szRowCol)?e.rowHeaders:e.cells;this._szArgs=new d.CellRangeEventArgs(r,new d.CellRange(-1,this._szRowCol.index))}this._szArgs.cancel=!1,e.onResizingColumn(this._szArgs)&&(e.deferResizing?this._showResizeMarker(n):this._szRowCol.width=n)}}if(this._szRowCol instanceof d.Row){e=this._g;var o=_.mouseToPage(t).y;n=Math.round(Math.max(p._SZ_MIN,this._szStart+(o-this._htDown.point.y)));if(this._szRowCol.renderSize!=n){if(null==this._szArgs){r=-1<e.columnHeaders.rows.indexOf(this._szRowCol)?e.columnHeaders:e.cells;this._szArgs=new d.CellRangeEventArgs(r,new d.CellRange(this._szRowCol.index,-1))}this._szArgs.cancel=!1,e.onResizingRow(this._szArgs)&&(e.deferResizing?this._showResizeMarker(n):this._szRowCol.height=n)}}},p.prototype._dragstart=function(t){var e=this._g,i=this._htDown,n=l;if(i){if(this._dragSrc=null,this._htDrag=null,!this._szRowCol){var r=new d.CellRangeEventArgs(i.panel,i.range);if(i.cellType==d.CellType.ColumnHeader&&e.allowDragging&n.Columns&&-1<i.col&&e.columns[i.col].allowDragging)e.onDraggingColumn(r)?this._dragSrc=t.target:t.preventDefault();else if(i.cellType==d.CellType.RowHeader&&e.allowDragging&n.Rows&&-1<i.row&&e.rows[i.row].allowDragging){var o=e.rows[i.row];o instanceof d.GroupRow||o instanceof d._NewRowTemplate||(e.onDraggingRow(r)?this._dragSrc=t.target:t.preventDefault())}else i.cellType==d.CellType.TopLeft&&e.allowDragging&n.Columns&&-1<i.col&&e.topLeftCells.columns[i.col].allowDragging&&(e.onDraggingColumn(r)?this._dragSrc=t.target:t.preventDefault())}this._dragSrc&&t.dataTransfer&&!t.defaultPrevented&&(this._htDrag=i,_._startDrag(t.dataTransfer,"move"),t.stopPropagation(),_.addClass(this._dragSrc,s),e.beginUpdate(),this._updating=!0)}},p.prototype._dragend=function(t){this._updating&&(this._g.endUpdate(),this._updating=!1),this._dragSrc=null,this._htDrag=null,this.resetMouseState()},p.prototype._dragover=function(t){var e=this._g,i=e.hitTest(t),n=this._dragSrc?this._htDrag:null,r=d.CellType,o=!1;if(n&&i.cellType==n.cellType){var s=new d.CellRangeEventArgs(i.panel,i.range,n);i.cellType==r.ColumnHeader?(s.cancel=!e.columns.canMoveElement(n.col,i.col),o=e.onDraggingColumnOver(s)):i.cellType==r.RowHeader?(s.cancel=!e.rows.canMoveElement(n.row,i.row),o=e.onDraggingRowOver(s)):i.cellType==r.TopLeft&&(s.cancel=!e.topLeftCells.columns.canMoveElement(n.col,i.col),o=e.onDraggingColumnOver(s))}if(o?(t.dataTransfer.dropEffect="move",this._showDragMarker(i),t.preventDefault(),t.stopPropagation()):this._showDragMarker(null),n&&e.autoScroll){var a=e._rcBounds,l=e.scrollPosition,h=_.Control._DRAG_SCROLL_EDGE,c=_.Control._DRAG_SCROLL_STEP;n.panel==e.columnHeaders?(t.pageX-a.left<h&&(l.x+=c),a.right-t.pageX<h&&(l.x-=c)):n.panel==e.rowHeaders&&(t.pageY-a.top<h&&(l.y+=c),a.bottom-t.pageY<h&&(l.y-=c)),l.equals(e._ptScrl)||(e.scrollPosition=l)}},p.prototype._drop=function(t){var e=this._g,i=e.hitTest(t),n=this._dragSrc?this._htDrag:null,r=d.CellType;if(n&&i.cellType==n.cellType){var o=e.selection,s=new d.CellRangeEventArgs(i.panel,i.range,n);i.cellType==r.ColumnHeader?(e.columns.moveElement(n.col,i.col),e.select(o.row,i.col),e.onDraggedColumn(s)):i.cellType==r.RowHeader?(e.rows.moveElement(n.row,i.row),e.select(i.row,o.col),e.onDraggedRow(s)):i.cellType==r.TopLeft&&(e.topLeftCells.columns.moveElement(n.col,i.col),e.onDraggedColumn(s))}this.resetMouseState()},p.prototype._showResizeMarker=function(t){var e=this._g,i=this._dvMarker,n=e.cells.hostElement;i.parentElement!=n&&n.appendChild(i);var r,o=this._szArgs.panel.cellType,s=d.CellType;this._szRowCol instanceof d.Column?(r={left:this._szRowCol.pos+t-1,top:-1e3,right:"",bottom:0,width:3,height:""},e.rightToLeft&&(r.left=n.clientWidth-r.left-r.width),o!=s.TopLeft&&o!=s.RowHeader||(r.left-=e.topLeftCells.hostElement.offsetWidth)):(r={left:-1e3,top:this._szRowCol.pos+t-1,right:0,bottom:"",width:"",height:3},o!=s.TopLeft&&o!=s.ColumnHeader||(r.top-=e.topLeftCells.hostElement.offsetHeight)),_.setCss(i,r)},p.prototype._showDragMarker=function(t){var e=this._g,i=this._dvMarker;if(!t||!t.panel)return _.removeChild(i),void(this._rngTarget=null);if(!t.range.equals(this._rngTarget)){this._rngTarget=t.range;var n=t.panel.hostElement;i.parentElement!=n&&n.appendChild(i);var r=d.CellType,o={left:0,top:0,width:6,height:6,right:"",bottom:""};switch(t.cellType){case r.TopLeft:case r.ColumnHeader:o.height=t.panel.height;var s=t.panel.columns[t.col];o.left=s.pos-o.width/2,this._htDown&&t.col>this._htDown.col&&(o.left+=s.renderWidth),e.rightToLeft&&(o.left=i.parentElement.clientWidth-o.left-o.width);break;case r.RowHeader:o.width=t.panel.width;var a=t.panel.rows[t.row];o.top=a.pos-o.height/2,t.row>this._htDown.row&&(o.top+=a.renderHeight)}_.setCss(i,o)}},p.prototype._finishResizing=function(t){var e=this._g,i=e.selection,n=this._szArgs,r=this._eMouse&&this._eMouse.ctrlKey,o=d.CellType;if(n&&!n.cancel){if(-1<n.col){var s=n.col,a=_.mouseToPage(t).x,l=Math.round(Math.max(p._SZ_MIN,this._szStart+(a-this._htDown.point.x)*(this._g.rightToLeft?-1:1)));if(n.panel.columns[s].width=Math.round(l),e.onResizedColumn(n),r&&this._htDown.cellType==o.ColumnHeader&&i.containsColumn(s))for(var h=i.leftCol;h<=i.rightCol;h++)e.columns[h].allowResizing&&h!=s&&(n=new d.CellRangeEventArgs(e.cells,new d.CellRange(-1,h)),e.onResizingColumn(n)&&(e.columns[h].size=e.columns[s].size,e.onResizedColumn(n)))}if(-1<n.row){s=n.row;var c=_.mouseToPage(t).y;l=Math.round(Math.max(p._SZ_MIN,this._szStart+(c-this._htDown.point.y)));if(n.panel.rows[s].height=Math.round(l),e.onResizedRow(n),r&&this._htDown.cellType==o.RowHeader&&i.containsRow(s))for(var u=i.topRow;u<=i.bottomRow;u++)e.rows[u].allowResizing&&u!=s&&(n=new d.CellRangeEventArgs(e.cells,new d.CellRange(u,-1)),e.onResizingRow(n)&&(e.rows[u].size=e.rows[s].size,e.onResizedRow(n)))}}},p.prototype._startListBoxSelection=function(t){var e=this._g.rows;this._lbSelState=!e[t].isSelected,this._lbSelRows={};for(var i=0;i<e.length;i++)e[i].isSelected&&(this._lbSelRows[i]=!0)},p.prototype._handleSelection=function(t,e){var i=this._g,n=i.rows,r=i._selHdl.selection,o=new d.CellRange(t.row,t.col);if(-1<t.row&&-1<t.col)if(null!=this._lbSelRows){var s=!1;o=new d.CellRange(t.row,t.col,this._htDown.row,this._htDown.col);for(var a=0;a<n.length;a++){var l=o.containsRow(a)?this._lbSelState:null!=this._lbSelRows[a];if(l!=n[a].isSelected){var h=new d.CellRangeEventArgs(i.cells,new d.CellRange(a,r.col,a,r.col2));i.onSelectionChanging(h)&&(n[a]._setFlag(d.RowColFlags.Selected,l,!0),s=!0,i.onSelectionChanged(h))}}s&&i.refreshCells(!1,!0,!0),i.scrollIntoView(t.row,t.col)}else t.cellType==d.CellType.RowHeader&&(o.col=0,o.col2=i.columns.length-1),e&&(o.row2=r.row2,o.col2=r.col2),i.select(o)},p._SZ_MIN=0,p}();d._MouseHandler=n}(_.grid||(_.grid={}))}(wijmo||(wijmo={})),function(y){!function(m){"use strict";var t=function(){function t(r){var o=this;this._fullEdit=!1,this._list=null,this._g=r,this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1),r.selectionChanging.addHandler(function(t,e){if(o.finishEditing()){var i=r._selHdl.selection.row;if(i!=e.row){var n=r.rows.length;(-1<i&&i<n?r.rows[i].dataItem:null)!=(-1<e.row&&e.row<n?r.rows[e.row].dataItem:null)&&o._commitRowEdits()}}else e.cancel=!0}),r.lostFocus.addHandler(function(){if(!r.containsFocus()){var t=y.getActiveElement();t&&"fixed"==getComputedStyle(t).position||o._commitRowEdits()}}),r.addEventListener(r.hostElement,"mousedown",function(t){if(!t.defaultPrevented&&0==t.button&&!r._mouseHdl._szRowCol){r.selection;var e=r.hitTest(t);if(e.cellType!=m.CellType.Cell&&e.cellType!=m.CellType.None)o.finishEditing();else if(e.cellType!=m.CellType.None){var i=y.tryCast(t.target,HTMLInputElement);o._isNativeCheckbox(i)&&(i!=o.activeEditor&&(t.preventDefault(),o.startEditing(!1,e.row,e.col,!0,t)&&(i=o.activeEditor)),!i||"checkbox"!=i.type||i.disabled||i.readOnly||(i.checked=!i.checked,i.focus(),o.finishEditing()))}}},!0),r.addEventListener(r.hostElement,"click",function(t){o._isNativeCheckbox(t.target)&&t.preventDefault()})}return t.prototype.startEditing=function(t,e,i,n,r){void 0===t&&(t=!0);var o=this._g;if(e=y.asNumber(e,!0,!0),i=y.asNumber(i,!0,!0),null==e&&(e=o.selection.row),null==i&&(i=o.selection.col),null==n&&(n=!0),!this._allowEditing(e,i))return!1;var s=o.getMergedRange(o.cells,e,i,!1);s||(s=new m.CellRange(e,i));var a=o.rows[e].dataItem;if(o.select(s,!0),!o.rows[e]||a!=o.rows[e].dataItem)return!1;if(s.equals(this._rng))return!0;if(this.activeEditor&&!this.finishEditing())return!1;var l=new m.CellRangeEventArgs(o.cells,s,r);if(!o.onBeginningEdit(l))return!1;var h=o.editableCollectionView,c=!1;h&&((c=(a=o.rows[e].dataItem)!=h.currentEditItem)&&o.onRowEditStarting(l),h.editItem(a),c&&(o.onRowEditStarted(l),this._edItem=a)),this._fullEdit=y.asBoolean(t),this._rng=s,this._list=null;var u=o.columns[i].dataMap;u&&(this._list=u.getDisplayValues(a)),s.isSingleCell?this._updateEditorCell(e,i,c):o.refresh(!1);var p=this._edt;if(p){if("checkbox"==p.type)this._fullEdit=!1;else if(n){var d=y.culture.Globalize.numberFormat["%"]||"%";if(y.isNumber(o.getCellData(e,i,!1))&&-1<p.value.indexOf(d)){for(var _=p.value,f=0,g=_.length;0<g&&_[g-1]==d;)g--;for(;f<g&&_[f]==d;)f++;y.setSelectionRange(p,f,g)}else y.setSelectionRange(p,0,p.value.length);o._setFocusNoScroll(p)}if(o.onPrepareCellForEdit(l),p.disabled||p.readOnly)return!1}return null!=p&&!p.disabled&&!p.readOnly},t.prototype.finishEditing=function(t){var e=this._edt;if(!e)return this._removeListBox(),!0;var i=this._g,n=this._rng,r=new m.CellEditEndingEventArgs(i.cells,n),o=i.containsFocus(),s=i.hostElement.querySelector(".wj-control.wj-state-focused");if(s){var a=y.Control.getControl(s);a&&a.onLostFocus(r)}if(!(r.cancel=t)&&i.validateEdits){var l=this._getValidationError();if(l){r.cancel=!0;var h=e.parentElement;h&&(y.toggleClass(h,"wj-state-invalid",!0),h.title=l,r.stayInEditMode=!0)}}if(!i.onCellEditEnding(r)&&r.stayInEditMode)return o?setTimeout(function(){e.select()}):e.select(),!1;if(!r.cancel){r.data=i.cells.getCellData(n.topRow,n.leftCol,!1);for(var c=i.cellFactory.getEditorValue(i),u=n.topRow;u<=n.bottomRow&&u<i.rows.length;u++)for(var p=n.leftCol;p<=n.rightCol&&p<i.columns.length;p++)i.cells.setCellData(u,p,c,!0,!1)}this._edt=null,this._rng=null,this._list=null,this._removeListBox();var d=y.closest(e,".wj-cell");return y.contains(d,y.getActiveElement())&&d.focus(),r.cancel||!r.refresh?this._updateEditorCell(n.row,n.col,!1):i.refresh(!1),o&&i.focus(),i.onCellEditEnded(r),!0},Object.defineProperty(t.prototype,"activeEditor",{get:function(){return this._edt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editRange",{get:function(){return this._rng},enumerable:!0,configurable:!0}),t.prototype.getClipString=function(t){var e=this._g,i="",n=!0,r=m.SelectionMode;if(!t)switch(t=e.selection,e.selectionMode){case r.Row:case r.RowRange:t.col=0,t.col2=e.columns.length-1;break;case r.ListBox:t.col=0,t.col2=e.columns.length-1;for(var o=0;o<e.rows.length;o++)e.rows[o].isSelected&&e.rows[o].isVisible&&(t.row=t.row2=o,i&&(i+="\n"),i+=this.getClipString(t));return i}for(var s=(t=y.asType(t,m.CellRange)).topRow;s<=t.bottomRow;s++)if(e.rows[s].isVisible){n||(i+="\n"),n=!1;for(var a=t.leftCol,l=!0;a<=t.rightCol;a++)if(e.columns[a].isVisible){l||(i+="\t"),l=!1;var h=e.cells.getCellData(s,a,!0).toString();-1<(h=h.replace(/\t/g," ")).indexOf("\n")&&(h='"'+h.replace(/"/g,'""')+'"'),i+=h}}return i},t.prototype.setClipString=function(t,a){var l=this,h=this._g,e=null==a,i=m.SelectionMode;if(!a)switch(a=h.selection,h.selectionMode){case i.Row:case i.RowRange:case i.ListBox:a.col=0,a.col2=h.columns.length-1}a=y.asType(a,m.CellRange);var c=this._parseClipString(y.asString(t));e&&!a.isSingleCell&&c.length&&this._expandClipRows(c,a);var u=new m.CellRange(a.topRow,a.leftCol,a.topRow+c.length-1,a.leftCol+c[0].length-1),p=new m.CellRangeEventArgs(h.cells,u);if(!h.onPasting(p))return!1;u=new m.CellRange(a.topRow,a.leftCol);var d=h.editableCollectionView,_=a.topRow;h.deferUpdate(function(){d&&d.beginUpdate();for(var t=0;t<c.length&&_<h.rows.length;t++,_++)if(h.rows[_].isVisible)for(var e=c[t],i=a.leftCol,n=0;n<e.length&&i<h.columns.length;n++,i++){var r=h.columns[i];if(r.isVisible){if(l._allowEditing(_,i)){var o=e[n];r.maxLength&&(o=o.substr(0,r.maxLength));var s=new m.CellRangeEventArgs(h.cells,new m.CellRange(_,i),o);h.onPastingCell(s)&&(d&&(d.editItem(h.rows[_].dataItem),l._edItem=d.currentEditItem),h.cells.setCellData(_,i,s.data)&&(h.onPastedCell(s),!0)),u.row2=Math.max(u.row2,_),u.col2=Math.max(u.col2,i)}}else n--}else t--;d&&d.endUpdate(),h.select(u),h.onPasted(p)})},t.prototype._isNativeCheckbox=function(t){return t instanceof HTMLInputElement&&"checkbox"==t.type&&!t.disabled&&!t.readOnly&&y.hasClass(t,"wj-cell-check")&&y.closest(t,".wj-flexgrid")==this._g.hostElement},t.prototype._parseClipString=function(t){var e=[];t=(t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).replace(/\n+$/g,"");var i=0,n=0;for(i=0;i<t.length;i++){var r='"'==t[i]&&" "<=t[i+1],o=!1,s=!1;for(n=i;n<t.length&&!s;n++){var a=t[n];switch(a){case'"':r&&(o=!o);break;case"\t":case"\n":o||(this._parseClipCell(e,t,i,n,"\n"==a),i=n,s=!0)}}if(n==t.length){this._parseClipCell(e,t,i,t.length,!1);break}}return 0==e.length&&e.push([""]),e},t.prototype._parseClipCell=function(t,e,i,n,r){t.length||t.push([]);var o=e.substr(i,n-i),s=o.length;1<s&&'"'==o[0]&&'"'==o[s-1]&&(o=(o=o.substr(1,s-2)).replace(/""/g,'"')),t[t.length-1].push(o),r&&t.push([])},t.prototype._expandClipRows=function(t,e){for(var i=t.length,n=0,r=0;r<i;r++)n=Math.max(n,t[r].length);for(var o=this._g,s=0,a=0,l=e.topRow;l<=e.bottomRow;l++)o.rows[l].isVisible&&s++;for(var h=e.leftCol;h<=e.rightCol;h++)o.columns[h].isVisible&&a++;if((1<s||1<a)&&(1==s&&(s=i),1==a&&(a=n),a%n==0&&s%i==0)){for(h=n;h<a;h++)for(l=0;l<i;l++)t[l].push(t[l%i][h%n]);for(l=i;l<s;l++)t.push(t[l%i])}},t.prototype._updateEditorCell=function(t,e,i){var n=this._g,r=n.cells.getCellElement(t,e),o=n._useFrozenDiv()&&(t<n.frozenRows||e<n.frozenColumns);if(!r||o||n._hasPendingUpdates())n.refresh(!1);else if(this._updateCell(r),(i=i||n._getHasValidation())&&n.headersVisibility&m.HeadersVisibility.Row){var s=n.rowHeaders,a=s.columns.length-1,l=s.getCellElement(t,a);l&&this._updateCell(l)}},t.prototype._updateCell=function(t){var e=new m.HitTestInfo(t,null),i=m.FlexGrid._WJS_UPDATING;e.panel&&(y.addClass(t,i),e.grid.cellFactory.updateCell(e.panel,e.row,e.col,t,e.range),y.removeClass(t,i))},t.prototype._getValidationError=function(){var t=this._g;if(t._getHasValidation()){var e=this._rng.row,i=this._rng.col,n=t.cellFactory.getEditorValue(t),r=t.getCellData(e,i,!1);if(t.setCellData(e,i,n,!0,!1)){var o=t._getError(t.cells,e,i);return t.setCellData(e,i,r,!0,!1),o}}return null},t.prototype._allowEditing=function(t,e){var i=this._g;if(i.isReadOnly||i.selectionMode==m.SelectionMode.None)return!1;if(t<0||t>=i.rows.length||i.rows[t].isReadOnly||!i.rows[t].isVisible)return!1;if(e<0||e>=i.columns.length)return!1;var n=i._getBindingColumn(i.cells,t,i.columns[e]);return!(!n||n.isReadOnly||!n.isVisible)},t.prototype._commitRowEdits=function(){var t=this._g;if(this.finishEditing()&&this._edItem){var e=t.editableCollectionView;if(e&&(e.currentEditItem||e.currentAddItem)){var i=new m.CellRangeEventArgs(t.cells,t.selection);t.onRowEditEnding(i),e.commitEdit(),t.onRowEditEnded(i)}this._edItem=null}},t.prototype._keydown=function(t){var e=this._edt;switch(t.keyCode){case y.Key.F2:return this._fullEdit=!this._fullEdit,t.preventDefault(),!0;case y.Key.F4:return this._toggleListBox(t),t.preventDefault(),!0;case y.Key.Space:return!e||"checkbox"!=e.type||e.disabled||e.readOnly||(e.checked=!e.checked,this.finishEditing(),t.preventDefault()),!0;case y.Key.Enter:if(t.preventDefault(),e&&t.altKey){var i=t.target;if(i instanceof HTMLTextAreaElement&&"soft"==i.wrap){var n=i.value,r=i.selectionStart,o=i.selectionEnd;i.value=n.substr(0,r)+"\n"+n.substr(o),y.setSelectionRange(i,r+1)}return!0}return!this.finishEditing();case y.Key.Tab:return t.preventDefault(),!this.finishEditing();case y.Key.Escape:return t.preventDefault(),this.finishEditing(!0),!0;case y.Key.Up:case y.Key.Down:case y.Key.Left:case y.Key.Right:case y.Key.PageUp:case y.Key.PageDown:case y.Key.Home:case y.Key.End:if(this._lbx)return this._keydownListBox(t);if(t.altKey)switch(t.keyCode){case y.Key.Up:case y.Key.Down:return this._toggleListBox(t),t.preventDefault(),!0}if(!this._fullEdit&&this.finishEditing())return!1}return!0},t.prototype._keydownListBox=function(t){var e=!0;if(this._lbx)switch(t.keyCode){case y.Key.Up:t.altKey?this._toggleListBox(t):0<this._lbx.selectedIndex&&this._lbx.selectedIndex--;break;case y.Key.Down:t.altKey?this._toggleListBox(t):this._lbx.selectedIndex++;break;case y.Key.Home:case y.Key.PageUp:this._lbx.selectedIndex=0;break;case y.Key.End:case y.Key.PageDown:this._lbx.selectedIndex=this._lbx.collectionView.items.length-1;break;default:e=!1}return!!e&&(t.preventDefault(),!0)},t.prototype._keypress=function(t){var e=this._edt;if(e&&"checkbox"!=e.type&&this._list&&0<this._list.length&&32<=t.charCode&&y.getActiveElement()==e){var i=e.selectionStart,n=e.value.substr(0,i);t.target==e&&(n+=String.fromCharCode(t.charCode),i++);var r=this._findString(this._list,n,!0);r<0&&(r=this._findString(this._list,n,!1)),-1<r&&(e.value=this._list[r],y.setSelectionRange(e,i,e.value.length),e.dispatchEvent(this._evtInput),t.preventDefault())}},t.prototype._findString=function(t,e,i){i||(e=e.toLowerCase());for(var n=0;n<t.length;n++){var r=t[n];if(i||(r=r.toLowerCase()),0==r.indexOf(e))return n}return-1},t.prototype._toggleListBox=function(t,e){var i=this._g,n=i._selHdl.selection;if(e||(e=n),this._lbx&&(this._removeListBox(),n.contains(e)))return i.activeEditor?i.activeEditor.focus():i.containsFocus()||i.focus(),!0;var r=i.isTouching,o=i._getBindingColumn(i.cells,e.row,i.columns[e.col]);return!(!y.input||!o.dataMap||!1===o.showDropDown)&&(!(!y.input||!this.startEditing(!0,e.row,e.col,!r,t))&&(this._lbx=this._createListBox(),this._lbx.showSelection(),r&&this._lbx.focus(),!0))},t.prototype._createListBox=function(){var e=this,i=this._g,t=this._rng,n=i.rows[t.row],r=i._getBindingColumn(i.cells,t.row,i.columns[t.col]),o=document.createElement("div");this._removeListBox(),y.addClass(o,"wj-dropdown-panel wj-grid-listbox"),y.addClass(o,r.dropDownCssClass);var s=new y.input.ListBox(o,{maxHeight:4*n.renderHeight,isContentHtml:r.isContentHtml,itemsSource:r.dataMap.getDisplayValues(n.dataItem),selectedValue:i.activeEditor?i.activeEditor.value:i.getCellData(t.row,t.col,!0)});s.addEventListener(s.hostElement,"click",function(){e._removeListBox(),i.focus(),e.finishEditing()}),s.lostFocus.addHandler(function(){e._removeListBox()}),s.selectedIndexChanged.addHandler(function(){var t=i.activeEditor;t&&(t.value=s.selectedValue,t.dispatchEvent(e._evtInput),y.setSelectionRange(t,0,t.value.length))});var a=i.cells.getCellElement(t.row,t.col);if(a){y.showPopup(o,a,!1,!1,!1);var l=a.querySelector("."+m.CellFactory._WJC_DROPDOWN);y.setAttribute(l,"aria-expanded",!0)}else y.showPopup(o,i.getCellBoundingRect(t.row,t.col)),o[y.Control._OWNR_KEY]=i.hostElement;return s},t.prototype._removeListBox=function(){var t=this._lbx;t&&(this._lbx=null,y.hidePopup(t.hostElement,function(){t.dispose()}))},t}();m._EditHandler=t}(y.grid||(y.grid={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(h){!function(l){"use strict";var t=function(){function t(t){this._nrt=new a,this._g=t,this._keydownBnd=this._keydown.bind(this),this._attach()}return Object.defineProperty(t.prototype,"newRowAtTop",{get:function(){return this._top},set:function(t){t!=this.newRowAtTop&&(this._top=h.asBoolean(t),this.updateNewRowTemplate())},enumerable:!0,configurable:!0}),t.prototype.updateNewRowTemplate=function(){var t=this._g,e=t.editableCollectionView,i=t.rows,n=e&&e.canAddNew&&t.allowAddNew&&!t.isReadOnly,r=i.indexOf(this._nrt),o=this._top?0:i.length-1,s=!1;if(!n&&-1<r){var a=t.selection;a.row==r&&t.select(a.row-1,a.col),i.removeAt(r)}else n&&(r<0?s=!0:r!=o&&(i.removeAt(r),s=!0),s&&(this._top?i.insert(0,this._nrt):i.push(this._nrt)),this._nrt&&this._nrt._setFlag(l.RowColFlags.ParentCollapsed,!1))},t.prototype._attach=function(){var t=this._g;t&&(t.beginningEdit.addHandler(this._beginningEdit,this),t.pastingCell.addHandler(this._beginningEdit,this),t.rowEditEnded.addHandler(this._rowEditEnded,this),t.loadedRows.addHandler(this.updateNewRowTemplate,this),t.hostElement.addEventListener("keydown",this._keydownBnd,!0))},t.prototype._detach=function(){var t=this._g;t&&(t.beginningEdit.removeHandler(this._beginningEdit),t.pastingCell.removeHandler(this._beginningEdit),t.rowEditEnded.removeHandler(this._rowEditEnded),t.loadedRows.removeHandler(this.updateNewRowTemplate),t.hostElement.removeEventListener("keydown",this._keydownBnd,!0))},t.prototype._keydown=function(t){t.defaultPrevented||t.keyCode!=h.Key.Escape||null==this._g.activeEditor&&this._top&&this._nrt.dataItem&&(this._nrt.dataItem=null,this._g.invalidate())},t.prototype._beginningEdit=function(t,e){if(!e.cancel){var i=this._g.rows[e.row];if(h.tryCast(i,a)){var n=this._g.editableCollectionView;if(n&&n.canAddNew)if(this._top){if(null==this._nrt.dataItem){var r=null,o=n.sourceCollection,s=n.newItemCreator;r=h.isFunction(s)?s():o&&o.length?new o[0].constructor:{},this._nrt.dataItem=r}}else{r=n.currentAddItem&&n.currentAddItem==i.dataItem?n.currentAddItem:n.addNew();n.moveCurrentTo(r),this.updateNewRowTemplate(),this._g.refresh(!0),this._g.onRowAdded(e),e.cancel&&n.cancelNew()}}}},t.prototype._rowEditEnded=function(t,e){var i=this,n=this._g.editableCollectionView,r=this._nrt.dataItem;if(n)if(n.isAddingNew)n.commitNew();else if(r&&!e.cancel){this._nrt.dataItem=null;var o=n.addNew();for(var s in r)o[s]=r[s];this._g.onRowAdded(e),e.cancel?n.cancelNew():n.commitNew(),setTimeout(function(){i._g.select(0,i._g.columns.firstVisibleIndex),i.updateNewRowTemplate()},20)}},t}();l._AddNewHandler=t;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(l.Row);l._NewRowTemplate=a}(h.grid||(h.grid={}))}(wijmo||(wijmo={})),function(u){!function(t){"use strict";var e=function(){function r(t){this._compStartBnd=this._compositionstart.bind(this),this._updateImeFocusBnd=this._updateImeFocus.bind(this),this._mouseDownBnd=this._mousedown.bind(this),this._mouseUpBnd=this._mouseup.bind(this),this._g=t;var e=u.createElement('<textarea class="wj-grid-editor wj-form-control wj-grid-ime" aria-hidden="true"/>');this._tbx=e,u.disableAutoComplete(e),u.setCss(e,r._cssHidden),t.cells.hostElement.parentElement.appendChild(e),this._updateImeFocus();var i=t.hostElement,n=t.addEventListener.bind(t);n(e,"compositionstart",this._compStartBnd),n(i,"blur",this._updateImeFocusBnd),n(i,"focus",this._updateImeFocusBnd),n(i,"mousedown",this._mouseDownBnd,!0),n(i,"mouseup",this._mouseUpBnd,!0),t.cellEditEnded.addHandler(this._cellEditEnded,this),t.selectionChanged.addHandler(this._updateImeFocus,this)}return r.prototype.dispose=function(){var t=this._g,e=t.hostElement,i=t.removeEventListener.bind(this);i(this._tbx,"compositionstart",this._compStartBnd),i(e,"blur",this._updateImeFocusBnd),i(e,"focus",this._updateImeFocusBnd),i(e,"mousedown",this._mouseDownBnd),i(e,"mouseup",this._mouseUpBnd),t.cellEditEnded.removeHandler(this._cellEditEnded),t.selectionChanged.removeHandler(this._updateImeFocus),u.removeChild(this._tbx)},r.prototype._compositionstart=function(){var t=this._g;if(null==t.activeEditor){var e=t._selHdl.selection;if(t.startEditing(!1,e.row,e.col,!1)&&t.activeEditor){e=t.editRange;var i=t.activeEditor,n=this._tbx,r=t.cells.hostElement,o=t.columns[e.col].pos+r.offsetLeft,s=t.rows[e.row].pos+r.offsetTop,a=t.getCellBoundingRect(e.row,e.col),l=i.parentElement,h=getComputedStyle(l),c=l.style.zIndex;e.isSingleCell||(a.width=l.offsetWidth,a.height=l.offsetHeight),e.row<t.frozenRows&&(s+=r.parentElement.scrollTop),e.col<t.frozenColumns&&(o+=r.parentElement.scrollLeft),"minLength,maxLength,pattern".split(",").forEach(function(t){u.setAttribute(n,t,i.getAttribute(t))}),u.setAttribute(n,"wrap",i instanceof HTMLTextAreaElement?"soft":"off"),i.value="",u.setCss(n,{position:"absolute",pointerEvents:"",opacity:"",left:o,top:s,paddingLeft:h.paddingLeft,paddingTop:h.paddingTop,width:a.width-1,height:a.height-1,zIndex:c}),t._edtHdl._edt=n}}},r.prototype._cellEditEnded=function(){u.setCss(this._tbx,r._cssHidden),this._tbx.value=""},r.prototype._mousedown=function(t){this._isMouseDown=!0,this._updateImeFocus()},r.prototype._mouseup=function(t){this._isMouseDown=!1,this._updateImeFocus()},r.prototype._updateImeFocus=function(){var t=this._g,e=u.getActiveElement();if(!t.activeEditor&&!t.isTouching&&!this._isMouseDown&&u.closest(e,".wj-flexgrid")==t.hostElement){var i=this._tbx;this._enableIme()?e!=i&&(i.disabled=!1,i.select(),i.focus()):i.disabled=!0}},r.prototype._enableIme=function(){var t=this._g,e=t.selection,i=e.isValid?t._getBindingColumn(t.cells,e.row,t.columns[e.col]):null;return!!t.canEditCell(e.row,e.col)&&!(!i||i.dataType==u.DataType.Boolean)},r._cssHidden={position:"fixed",pointerEvents:"none",opacity:0,left:-10,top:-10,width:0},r}();t._ImeHandler=e}(u.grid||(u.grid={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(h){!function(t){"use strict";h._addCultureInfo("DropDown",{ariaLabels:{tgl:"Toggle Dropdown"}});var e=function(l){function t(t,e){var i=l.call(this,t,null,!0)||this;i._showBtn=!0,i._autoExpand=!0,i._animate=!1,i.textChanged=new h.Event,i.isDroppedDownChanging=new h.Event,i.isDroppedDownChanged=new h.Event;var n=i.getTemplate();i.applyTemplate("wj-control wj-content wj-dropdown",n,{_tbx:"input",_btn:"btn",_dropDown:"dropdown"},"input");var r=h.culture.DropDown.ariaLabels;h.setAriaLabel(i._btn.querySelector("button"),r.tgl);var o=i._tbx;i._elRef=o,h.disableAutoComplete(o),i._createDropDown(),i._updateBtn(),h.removeChild(i._dropDown),h.addClass(i.hostElement,"wj-state-collapsed");var s=i._updateFocusState.bind(i);i.addEventListener(i.dropDown,"blur",s,!0),i.addEventListener(i.dropDown,"focus",s);var a=i._keydown.bind(i);return i.addEventListener(i.hostElement,"keydown",a),i.addEventListener(i.dropDown,"keydown",a),i.addEventListener(o,"keypress",function(t){9787==t.keyCode&&i._altDown&&t.preventDefault()}),i.addEventListener(o,"input",function(){i._setText(i.text,!1)}),i.addEventListener(o,"click",function(){i._autoExpand&&i._expandSelection()}),h.isIE9()&&i.addEventListener(o,"keyup",function(){i._setText(i.text,!1)}),i.addEventListener(i._btn,"mousedown",function(t){t.defaultPrevented||0!=t.button||setTimeout(function(){i._btnclick(t)})}),i.addEventListener(i._dropDown,"click",function(t){t.stopPropagation()}),i}return __extends(t,l),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(t){this._tbx.readOnly=h.asBoolean(t),h.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=h.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(t){this._tbx.placeholder=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDroppedDown",{get:function(){var t=this._dropDown;return t&&"none"!=t.style.display},set:function(t){var e=this;if((t=h.asBoolean(t)&&!this.isDisabled&&!this.isReadOnly)!=this.isDroppedDown&&this.onIsDroppedDownChanging(new h.CancelEventArgs)){var i=this.hostElement,n=this._dropDown,r=n.style;if(t)r.minWidth||(r.minWidth=i.getBoundingClientRect().width+"px"),r.display="block",this._updateDropDown(),this.addEventListener(document.body,"touchstart",function(t){h.contains(i,t.target)||h.contains(n,t.target)||(e.isDroppedDown=!1)});else{this.removeEventListener(document.body,"touchstart");var o=this.containsFocus();h.hidePopup(n),o&&(this.isTouching&&this.showDropDownButton?this.hostElement.focus():this.selectAll())}this._updateFocusState(),h.toggleClass(i,"wj-state-collapsed",!this.isDroppedDown),this.onIsDroppedDownChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropDown",{get:function(){return this._dropDown},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropDownCssClass",{get:function(){return this._cssClass},set:function(t){t!=this._cssClass&&(h.removeClass(this._dropDown,this._cssClass),this._cssClass=h.asString(t),h.addClass(this._dropDown,this._cssClass))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(t){this._showBtn=h.asBoolean(t),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoExpandSelection",{get:function(){return this._autoExpand},set:function(t){this._autoExpand=h.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimated",{get:function(){return this._animate},set:function(t){this._animate=h.asBoolean(t)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){this._elRef==this._tbx&&h.setSelectionRange(this._tbx,0,this.text.length),this.containsFocus()||this.focus()},t.prototype.onTextChanged=function(t){this.textChanged.raise(this,t),this._updateState()},t.prototype.onIsDroppedDownChanging=function(t){return this.isDroppedDownChanging.raise(this,t),!t.cancel},t.prototype.onIsDroppedDownChanged=function(t){this.isDroppedDownChanged.raise(this,t)},t.prototype.onGotFocus=function(t){this.isTouching||h.contains(this._dropDown,h.getActiveElement())||this.selectAll(),l.prototype.onGotFocus.call(this,t)},t.prototype.onLostFocus=function(t){this._commitText(),this.containsFocus()||(this.isDroppedDown=!1),l.prototype.onLostFocus.call(this,t)},t.prototype.containsFocus=function(){return l.prototype.containsFocus.call(this)||this.isDroppedDown&&h.contains(this._dropDown,h.getActiveElement())},t.prototype.dispose=function(){this.isDroppedDown=!1;var t=this.dropDown;if(t){var e=h.Control.getControl(t);e&&e.dispose(),h.removeChild(t)}l.prototype.dispose.call(this)},t.prototype.refresh=function(t){if(void 0===t&&(t=!0),l.prototype.refresh.call(this,t),this.isDroppedDown&&"none"!=getComputedStyle(this.hostElement).display){var e=h.getActiveElement();h.showPopup(this._dropDown,this.hostElement,!1,!1,null==this.dropDownCssClass),e instanceof HTMLElement&&e!=h.getActiveElement()&&e.focus()}},t.prototype._handleResize=function(){this.isDroppedDown&&this.refresh()},t.prototype._expandSelection=function(){var t=this._tbx,e=t.value,i=t.selectionStart,n=t.selectionEnd;if(e&&i==n){var r=this._getCharType(e,i);if(-1<r){for(;n<e.length&&this._getCharType(e,n)==r;n++);for(;0<i&&this._getCharType(e,i-1)==r;i--);i!=n&&h.setSelectionRange(t,i,n)}}},t.prototype._getCharType=function(t,e){var i=t[e];return"0"<=i&&i<="9"?0:"a"<=i&&i<="z"||"A"<=i&&i<="Z"?1:-1},t.prototype._keydown=function(t){if(this._altDown=t.altKey,!t.defaultPrevented)switch(t.keyCode){case h.Key.Tab:case h.Key.Escape:case h.Key.Enter:this.isDroppedDown&&(this.isDroppedDown=!1,t.keyCode==h.Key.Tab||this.containsFocus()||this.focus(),t.preventDefault());break;case h.Key.F4:case h.Key.Up:case h.Key.Down:if((t.keyCode==h.Key.F4||t.altKey)&&h.contains(document.body,this.hostElement)){var e=this.isDroppedDown;this.isDroppedDown=!e,this.isDroppedDown==!e&&t.preventDefault()}}},t.prototype._btnclick=function(t){t.defaultPrevented||0!=t.button||(this.isDroppedDown=!this.isDroppedDown)},t.prototype._setText=function(t,e){null==t&&(t=""),(t=t.toString())!=this._tbx.value&&(this._tbx.value=t),t!=this._oldText&&(this._oldText=t,this.onTextChanged())},t.prototype._updateBtn=function(){this._btn.style.display=this._showBtn?"":"none"},t.prototype._createDropDown=function(){},t.prototype._commitText=function(){},t.prototype._updateDropDown=function(){this.isDroppedDown&&(this._commitText(),h.showPopup(this._dropDown,this.hostElement,!1,this._animate,null==this.dropDownCssClass))},t.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"/><span wj-part="btn" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-down"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel" style="display:none"></div></div>',t}(h.Control);t.DropDown=e}(h.input||(h.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(c){!function(t){"use strict";var e=function(r){function t(t,e){var i=r.call(this,t)||this;i._pathDisplay=new c.Binding(null),i._pathValue=new c.Binding(null),i._pathChecked=new c.Binding(null),i._html=!1,i._checkedItems=[],i._itemRole="option",i._search="",i._fmtItemHandlers=0,i.selectedIndexChanged=new c.Event,i.itemsChanged=new c.Event,i.loadingItems=new c.Event,i.loadedItems=new c.Event,i.itemChecked=new c.Event,i.checkedItemsChanged=new c.Event,i.formatItem=new c.Event,i.applyTemplate("wj-control wj-content wj-listbox",null,null);var n=i.hostElement;return c.setAttribute(n,"role","listbox",!0),"SELECT"==i._orgTag&&i._initFromSelect(i.hostElement),i.addEventListener(n,"click",i._click.bind(i)),i.addEventListener(n,"keydown",i._keydown.bind(i)),i.addEventListener(n,"keypress",i._keypress.bind(i)),i.addEventListener(n,"wheel",function(t){n.scrollHeight>n.offsetHeight&&(t.deltaY<0&&0==n.scrollTop||0<t.deltaY&&n.scrollTop+n.offsetHeight>=n.scrollHeight)&&(t.preventDefault(),t.stopPropagation())}),i.initialize(e),i}return __extends(t,r),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=c.asCollectionView(t),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._populateList(),this.onItemsChanged(),this.onSelectedIndexChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){t!=this._html&&(this._html=c.asBoolean(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=c.asFunction(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._pathDisplay.path},set:function(t){t!=this.displayMemberPath&&(this._pathDisplay.path=c.asString(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._pathValue.path},set:function(t){this._pathValue.path=c.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){return this._pathChecked.path},set:function(t){t!=this.checkedMemberPath&&(this._pathChecked.path=c.asString(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemRole",{get:function(){return this._itemRole},set:function(t){t!=this.itemRole&&(this._itemRole=c.asString(t),this._populateList())},enumerable:!0,configurable:!0}),t.prototype.getDisplayValue=function(t){var e=null;-1<t&&c.hasItems(this._cv)&&(e=this._cv.items[t],this.displayMemberPath&&(e=this._pathDisplay.getValue(e)));var i=null!=e?e.toString():"";return this.itemFormatter&&(i=this.itemFormatter(t,i)),i},t.prototype.getDisplayText=function(t){var e=this.hostElement.children,i=-1<t&&t<e.length?e[t]:null;return null!=i?i.textContent:""},t.prototype.isItemEnabled=function(t){if(!this.getDisplayText(t))return!1;var e=this.hostElement.children[t];return!(!e||e.hasAttribute("disabled")||c.hasClass(e,"wj-state-disabled"))},Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(t){this._cv&&this._cv.moveCurrentToPosition(c.asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(t){this._cv&&this._cv.moveCurrentTo(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValue",{get:function(){var t=this.selectedItem;return t&&this.selectedValuePath&&(t=this._pathValue.getValue(t)),t},set:function(t){var e=this.selectedValuePath,i=-1;if(this._cv){for(var n=0;n<this._cv.items.length;n++){var r=this._cv.items[n],o=e?this._pathValue.getValue(r):r;if(o===t||c.DateTime.equals(o,t)){i=n;break}}this.selectedIndex=i}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){var t=this.hostElement;return t?parseFloat(t.style.maxHeight):null},set:function(t){var e=this.hostElement;e&&(e.style.maxHeight=c.asNumber(t)+"px")},enumerable:!0,configurable:!0}),t.prototype.showSelection=function(){for(var t,e=this.selectedIndex,i=this.hostElement,n=i.children,r=0;r<n.length;r++){var o=r==e;t=n[r],c.toggleClass(t,"wj-state-selected",o),t.tabIndex=o?this._orgTabIndex:-1,c.setAttribute(t,"aria-selected",o)}if(-1<e&&e<n.length){var s=(t=n[e]).getBoundingClientRect(),a=i.getBoundingClientRect();s.bottom>a.bottom?i.scrollTop+=s.bottom-a.bottom:s.top<a.top&&(i.scrollTop-=a.top-s.top)}-1<e&&this.containsFocus()&&(t=n[e])instanceof HTMLElement&&!c.contains(t,c.getActiveElement())&&t.focus(),i.tabIndex=e<0?this._orgTabIndex:-1},t.prototype.loadList=function(){this._populateList()},t.prototype.getItemChecked=function(t){var e=this._cv.items[t];if(c.isObject(e)&&this.checkedMemberPath)return this._pathChecked.getValue(e);var i=this._getCheckbox(t);return!!i&&i.checked},t.prototype.setItemChecked=function(t,e){this._setItemChecked(t,e,!0)},t.prototype.toggleItemChecked=function(t){this.setItemChecked(t,!this.getItemChecked(t))},Object.defineProperty(t.prototype,"checkedItems",{get:function(){if(this._checkedItems.splice(0,this._checkedItems.length),this._cv)for(var t=0;t<this._cv.items.length;t++)this.getItemChecked(t)&&this._checkedItems.push(this._cv.items[t]);return this._checkedItems},set:function(t){var e=this._cv,i=this.hostElement,n=c.asArray(t,!1);if(e&&n){for(var r=e.currentPosition,o=i.scrollTop,s=0;s<e.items.length;s++){var a=e.items[s];this._setItemChecked(s,-1<n.indexOf(a),!1)}e.moveCurrentToPosition(r),i.scrollTop=o,this.onCheckedItemsChanged()}},enumerable:!0,configurable:!0}),t.prototype.onSelectedIndexChanged=function(t){this.selectedIndexChanged.raise(this,t)},t.prototype.onItemsChanged=function(t){this.itemsChanged.raise(this,t)},t.prototype.onLoadingItems=function(t){this.loadingItems.raise(this,t)},t.prototype.onLoadedItems=function(t){this.loadedItems.raise(this,t)},t.prototype.onItemChecked=function(t){this.itemChecked.raise(this,t)},t.prototype.onCheckedItemsChanged=function(t){this.checkedItemsChanged.raise(this,t)},t.prototype.onFormatItem=function(t){this.formatItem.raise(this,t)},t.prototype.refresh=function(t){void 0===t&&(t=!0),r.prototype.refresh.call(this,t),this.formatItem.handlerCount!=this._fmtItemHandlers&&(this._e.offsetHeight||this._e.offsetWidth)&&(this._fmtItemHandlers=this.formatItem.handlerCount,this._populateList())},t.prototype._setItemChecked=function(t,e,i){void 0===i&&(i=!0);var n=this._cv.items[t];if(c.isObject(n)){var r=c.tryCast(this._cv,"IEditableCollectionView");this._pathChecked.getValue(n)!=e&&(this._checking=!0,r?(r.editItem(n),this._pathChecked.setValue(n,e),r.commitEdit()):(this._pathChecked.setValue(n,e),this._cv.refresh()),this._checking=!1)}var o=this._getCheckbox(t);if(o){o.checked=e;var s=c.closest(o,".wj-listbox-item");s&&c.toggleClass(s,"wj-state-checked",e)}i&&(this.onItemChecked(),this.onCheckedItemsChanged())},t.prototype._cvCollectionChanged=function(t,e){this._checking||(this._populateList(),this.onItemsChanged())},t.prototype._cvCurrentChanged=function(t,e){this._checking||(this.showSelection(),this.onSelectedIndexChanged())},t.prototype._populateList=function(){var t=this.hostElement;if(t){var e=this.containsFocus();if(this.onLoadingItems(),t.textContent="",this._cv){for(var i=document.createDocumentFragment(),n=0;n<this._cv.items.length;n++){var r=this.getDisplayValue(n);1!=this._html&&(r=c.escapeHtml(r));var o=!1;this.checkedMemberPath&&(r='<label><input tabindex="-1" type="checkbox"'+((o=this._pathChecked.getValue(this._cv.items[n]))?" checked":"")+"> "+r+"</label>");var s=document.createElement("div"),a="wj-listbox-item";if(s.innerHTML=r,c.hasClass(s.firstChild,"wj-separator")&&(a+=" wj-separator"),o&&(a+=" wj-state-checked"),s.className=a,this.itemRole&&c.setAttribute(s,"role",this.itemRole),c.setAttribute(s,"aria-selected",!1),this.formatItem.hasHandlers){var l=new h(n,this._cv.items[n],s);this.onFormatItem(l)}i.appendChild(s)}t.appendChild(i)}0==t.children.length&&t.appendChild(document.createElement("div")),e&&!this.containsFocus()&&this.focus(),this.showSelection(),this.onLoadedItems()}},t.prototype._click=function(t){if(0==t.button&&!t.defaultPrevented){for(var e=this.hostElement.children,i=0;i<e.length;i++)if(c.contains(e[i],t.target)){this.selectedIndex=i;break}var n=this.selectedIndex;if(this.checkedMemberPath&&-1<n){var r=this._getCheckbox(n);if(r==t.target)e[n].focus(),this.setItemChecked(n,r.checked)}}},t.prototype._keydown=function(t){var e=this.selectedIndex;this.hostElement.children;if(!t.defaultPrevented){if(65==t.keyCode&&(t.ctrlKey||t.metaKey)&&this.checkedMemberPath&&c.hasItems(this.collectionView))return this.checkedItems=this.getItemChecked(0)?[]:this.collectionView.items,void t.preventDefault();if(!(t.ctrlKey||t.shiftKey||t.altKey||t.metaKey))switch(t.keyCode){case c.Key.Down:t.preventDefault(),this._selectNext();break;case c.Key.Up:t.preventDefault(),this._selectPrev();break;case c.Key.Home:t.preventDefault(),this._selectFirst();break;case c.Key.End:t.preventDefault(),this._selectLast();break;case c.Key.PageDown:t.preventDefault(),this._selectNextPage();break;case c.Key.PageUp:t.preventDefault(),this._selectPrevPage();break;case c.Key.Space:if(this.checkedMemberPath&&-1<e){var i=this._getCheckbox(e);i&&this.isItemEnabled(e)&&(this.setItemChecked(e,!i.checked),t.preventDefault())}}}},t.prototype._keypress=function(t){var e=this;if(!t.defaultPrevented&&!(t.target instanceof HTMLInputElement)&&(32<t.charCode||32==t.charCode&&this._search)){t.preventDefault(),this._search+=String.fromCharCode(t.charCode).toLowerCase(),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){e._toSearch=null,e._search=""},c.Control._SEARCH_DELAY);var i=this._findNext();i<0&&1<this._search.length&&(this._search=this._search[this._search.length-1],i=this._findNext()),-1<i&&(this.selectedIndex=i)}},t.prototype._selectNext=function(){for(var t=this.hostElement.children.length,e=this.selectedIndex+1;e<t;e++)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectPrev=function(){for(var t=this.selectedIndex-1;0<=t;t--)if(this.isItemEnabled(t))return this.selectedIndex=t,!0;return!1},t.prototype._selectFirst=function(){for(var t=this.hostElement.children.length,e=0;e<t;e++)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectLast=function(){for(var t=this.hostElement.children.length-1;0<=t;t--)if(this.isItemEnabled(t))return this.selectedIndex=t,!0;return!1},t.prototype._selectNextPage=function(){for(var t=this.hostElement,e=t.offsetHeight,i=t.children,n=0,r=this.selectedIndex+1;r<this._cv.items.length;r++){var o=i[r].scrollHeight;if(e<n+o&&this.isItemEnabled(r))return this.selectedIndex=r,!0;n+=o}return this._selectLast()},t.prototype._selectPrevPage=function(){for(var t=this.hostElement,e=t.offsetHeight,i=t.children,n=0,r=this.selectedIndex-1;0<r;r--){var o=i[r].scrollHeight;if(e<n+o&&this.isItemEnabled(r))return this.selectedIndex=r,!0;n+=o}return this._selectFirst()},t.prototype._findNext=function(){if(this.hostElement){var t=this.hostElement.childElementCount,e=this.selectedIndex;(e<0||1==this._search.length)&&e++;for(var i=0;i<t;i++){var n=(e+i)%t;if(0==this.getDisplayText(n).trim().toLowerCase().indexOf(this._search)&&this.isItemEnabled(n))return n}}return-1},t.prototype._getCheckbox=function(t){var e=this.hostElement;return e&&-1<t&&t<e.children.length?e.children[t].querySelector("input[type=checkbox]"):null},t.prototype._initFromSelect=function(t){for(var e=t.children,i=[],n=-1,r=0;r<e.length;r++){var o=e[r];"OPTION"==o.tagName&&(o.hasAttribute("selected")&&(n=i.length),o.innerHTML?i.push({hdr:o.innerHTML,val:o.getAttribute("value"),cmdParam:o.getAttribute("cmd-param")}):i.push({hdr:'<div class="wj-separator"/>'}),t.removeChild(o),r--)}i&&(this.displayMemberPath="hdr",this.selectedValuePath="val",this.itemsSource=i,this.selectedIndex=n)},t}(c.Control);t.ListBox=e;var h=function(r){function t(t,e,i){var n=r.call(this)||this;return n._index=c.asNumber(t),n._data=e,n._item=c.asType(i,HTMLElement),n}return __extends(t,r),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),t}(c.EventArgs);t.FormatItemEventArgs=h}(c.input||(c.input={}))}(wijmo||(wijmo={}));var wijmo;__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(c){!function(e){"use strict";var t=function(h){function t(t,e){var i=h.call(this,t)||this;i._editable=!1,i._delKey=0,i._composing=!1,i._pathHdr=new c.Binding(null),i._bsCollapse=!0,i.itemsSourceChanged=new c.Event,i.selectedIndexChanged=new c.Event;var n=i.hostElement;return c.addClass(n,"wj-combobox"),i.dropDown.id=c.getUniqueId(n.id+"_dropdown"),i.autoExpandSelection=!1,i.addEventListener(i._tbx,"compositionstart",function(){i._composing=!0}),i.addEventListener(i._tbx,"compositionend",function(){i._composing=!1,setTimeout(function(){i._setText(i.text,!0)})}),i.addEventListener(n,"wheel",function(t){if(!t.defaultPrevented&&!i.isDroppedDown&&!i.isReadOnly&&i.containsFocus()&&-1<i.selectedIndex){var e=c.clamp(-t.deltaY,-1,1);i.selectedIndex=c.clamp(i.selectedIndex-e,0,i.collectionView.items.length-1),t.preventDefault()}}),"SELECT"==i._orgTag&&i._lbx._initFromSelect(n),i._lbx.loadedItems.addHandler(function(t){-1<i.selectedIndex&&(i.selectedIndex=i._lbx.selectedIndex)}),i.isRequired=!0,i.initialize(e),i}return __extends(t,h),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(t){this._lbx.itemsSource!=t&&(this._lbx.itemsSource=t,this.onItemsSourceChanged()),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(t){this._lbx.displayMemberPath=t;var e=this.getDisplayText();this.text!=e&&this._setText(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerPath",{get:function(){return this._pathHdr.path},set:function(t){this._pathHdr.path=c.asString(t);var e=this.getDisplayText();this.text!=e&&this._setText(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(t){this._lbx.selectedValuePath=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(t){if(t!=this.isContentHtml){this._lbx.isContentHtml=c.asBoolean(t);var e=this.getDisplayText();this.text!=e&&this._setText(e,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(t){this._lbx.itemFormatter=c.asFunction(t),this.selectedIndex=this._lbx.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatItem",{get:function(){return this.listBox.formatItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(t){t!=this.selectedIndex&&(this._lbx.selectedIndex=t),t=this.selectedIndex;var e=this.getDisplayText(t);this.text!=e&&this._setText(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(t){this._lbx.selectedItem=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValue",{get:function(){return this._lbx.selectedValue},set:function(t){this._lbx.selectedValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=c.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDropDownHeight",{get:function(){return this._lbx.maxHeight},set:function(t){this._lbx.maxHeight=c.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDropDownWidth",{get:function(){var t=this._dropDown;return parseInt(t.style.maxWidth)},set:function(t){this._dropDown.style.maxWidth=c.asNumber(t)+"px"},enumerable:!0,configurable:!0}),t.prototype.getDisplayText=function(t){if(void 0===t&&(t=this.selectedIndex),this.headerPath&&-1<t&&c.hasItems(this.collectionView)){var e=this.collectionView.items[t],i=e?this._pathHdr.getValue(e):null;return i=null!=i?i.toString():"",this.isContentHtml&&(this._cvt||(this._cvt=document.createElement("div")),this._cvt.innerHTML=i,i=this._cvt.textContent),i.trim()}return this._lbx.getDisplayText(t).trim()},t.prototype.indexOf=function(t,e){var i=this.collectionView;if(c.hasItems(i)&&null!=t){var n=this.selectedIndex;if(e&&t==this.getDisplayText(n))return n;t=t.toString().toLowerCase();for(var r=0;r<i.items.length;r++)if(this.listBox.isItemEnabled(r)){var o=this.getDisplayText(r).toLowerCase();if(e){if(o==t)return r}else if(t&&0==o.indexOf(t))return r}}return-1},Object.defineProperty(t.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),t.prototype.onItemsSourceChanged=function(t){this.itemsSourceChanged.raise(this,t)},t.prototype.onSelectedIndexChanged=function(t){this._updateBtn(),this.selectedIndexChanged.raise(this,t)},t.prototype.refresh=function(t){void 0===t&&(t=!0),h.prototype.refresh.call(this,t),c.hasItems(this.collectionView)&&(this._lbx.refresh(),-1<this.selectedIndex&&(this.selectedIndex=this._lbx.selectedIndex))},t.prototype.onLostFocus=function(t){this._composing&&(this._composing=!1,this._setText(this.text,!0)),this.isEditable&&this.isRequired&&!this.text&&c.hasItems(this.collectionView)&&(this.selectedIndex=0),h.prototype.onLostFocus.call(this,t)},t.prototype.onIsDroppedDownChanging=function(t){return this.isDroppedDown||c.hasItems(this.collectionView)?h.prototype.onIsDroppedDownChanging.call(this,t):!(t.cancel=!0)},t.prototype.onIsDroppedDownChanged=function(t){h.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown&&(this._lbx.showSelection(),this.isTouching||this.selectAll()),c.setAttribute(this.dropDown,"aria-expanded",this.isDroppedDown)},t.prototype._updateBtn=function(){var t=this.collectionView,e=this._tbx,i=this.dropDown.id,n=c.hasItems(t);h.prototype._updateBtn.call(this),this._btn.style.display=this._showBtn&&null!=t?"":"none",c.enable(this._btn,n),c.setAttribute(e,"role",n?"combobox":null),c.setAttribute(e,"aria-autocomplete",n?"both":null),c.setAttribute(e,"aria-owns",n&&this.dropDown.parentElement?i:null),c.setAttribute(this.dropDown,"aria-expanded",!n&&null)},t.prototype._btnclick=function(t){h.prototype._btnclick.call(this,t),this.isTouching||this._elRef!=this._tbx||this.selectAll()},t.prototype._createDropDown=function(){var n=this;this._lbx||(this._lbx=new e.ListBox(this._dropDown)),this._lbx.maxHeight=200,this._lbx.selectedIndexChanged.addHandler(function(){n._updateBtn();var t=n._lbx.selectedIndex,e=n._lbx.hostElement.children,i=-1<t&&t<e.length?e[t].id:null;c.setAttribute(n._tbx,"aria-activedescendant",i&&i.length?i:null),n.selectedIndex=t,n.onSelectedIndexChanged()}),this._lbx.itemsChanged.addHandler(function(){n._updateBtn()}),this.addEventListener(this._dropDown,"click",this._dropDownClick.bind(this))},t.prototype._dropDownClick=function(t){t.defaultPrevented||t.target!=this._dropDown&&(this.isDroppedDown=!1)},t.prototype._setText=function(t,e){if(!this._composing&&!this._settingText){this._settingText=!0,null==t&&(t=""),t=t.toString();var i=this.selectedIndex,n=this.collectionView,r=this._getSelStart(),o=-1,s=!0;if(this.isEditable&&(!this._delKey&&this.containsFocus()||(s=!(e=!0))),i=this.indexOf(t,e),s&&(i<0&&e&&(i=this.indexOf(t,!1)),i<0&&0<r&&(i=this.indexOf(t.substr(0,r),!1))),i<0&&!this.isEditable&&c.hasItems(n)&&(this.isRequired||t)){var a=this._oldText||"";i=Math.max(0,this.indexOf(a,!1));for(var l=0;l<t.length&&l<a.length;l++)if(t[l]!=a[l]){r=l;break}}-1<i&&(o=r,t=this.getDisplayText(i)),t!=this._tbx.value&&(this._tbx.value=t),-1<o&&this.containsFocus()&&!this.isTouching&&this._updateInputSelection(o),n&&n.moveCurrentToPosition(i),this._delKey=0,this._settingText=!1,h.prototype._setText.call(this,t,e)}},t.prototype._findNext=function(t,e){var i=this.selectedIndex,n=this.collectionView,r=n?n.items.length:0,o=this.listBox;if(n&&r&&e){t=t.toLowerCase();for(var s=i+e;-1<s&&s<r;s+=e){var a=this.getDisplayText(s).toLowerCase();if(a&&0==a.indexOf(t))if(!this.dropDown.children[s]||o.isItemEnabled(s))return s}}return i},t.prototype._keydown=function(t){if(h.prototype._keydown.call(this,t),!t.defaultPrevented&&!this.isReadOnly&&!t.altKey&&c.hasItems(this.collectionView)&&this._elRef==this._tbx){this._delKey=0;var e=this._getSelStart();switch(t.keyCode){case c.Key.Back:if(this._bsCollapse&&!this.isEditable){var i=this._getSelEnd();0<e&&i==this._tbx.value.length&&c.hasItems(this.collectionView)&&this._setSelRange(e-1,i)}this._delKey=t.keyCode;break;case c.Key.Delete:this._delKey=t.keyCode;break;case c.Key.Up:case c.Key.Down:e==this.text.length&&(e=0),this.selectedIndex=this._findNext(this.text.substr(0,e),t.keyCode==c.Key.Up?-1:1),this._setSelRange(e,this.text.length),t.preventDefault();break;case c.Key.PageUp:this._lbx._selectPrevPage(),t.preventDefault();break;case c.Key.PageDown:this._lbx._selectNextPage(),t.preventDefault()}}},t.prototype._updateInputSelection=function(t){this._elRef==this._tbx&&this._setSelRange(t,this._tbx.value.length)},t.prototype._getSelStart=function(){return this._tbx&&this._tbx.value?this._tbx.selectionStart:0},t.prototype._getSelEnd=function(){return this._tbx&&this._tbx.value?this._tbx.selectionEnd:0},t.prototype._setSelRange=function(t,e){var i=this._tbx;this._elRef==i&&c.setSelectionRange(i,t,e)},t}(e.DropDown);e.ComboBox=t}(c.input||(c.input={}))}(wijmo||(wijmo={}));